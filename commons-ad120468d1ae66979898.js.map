{"version":3,"file":"commons-ad120468d1ae66979898.js","mappings":"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","sources":["webpack://@pomatez/website/./src/components/page/head.tsx","webpack://@pomatez/website/./src/hooks/use-target-outside.ts","webpack://@pomatez/website/./src/hooks/use-context-provider.ts","webpack://@pomatez/website/./src/hooks/use-is-browser.ts","webpack://@pomatez/website/./src/components/navigation/nav-link.tsx","webpack://@pomatez/website/./src/components/svg.tsx","webpack://@pomatez/website/./src/components/logo.tsx","webpack://@pomatez/website/./src/components/navigation/navbar.tsx","webpack://@pomatez/website/./src/components/sidebar.tsx","webpack://@pomatez/website/./src/components/footer.tsx","webpack://@pomatez/website/./src/components/page/layout.tsx","webpack://@pomatez/website/./src/components/header.tsx","webpack://@pomatez/website/./src/config.ts","webpack://@pomatez/website/./src/context/nav-context.tsx","webpack://@pomatez/website/./src/context/theme-context.tsx","webpack://@pomatez/website/./src/context/viewport-context.tsx","webpack://@pomatez/website/./src/styles/themes.ts","webpack://@pomatez/website/./src/styles/media.ts","webpack://@pomatez/website/./src/styles/global.ts","webpack://@pomatez/website/./src/styles/components/layout.ts","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/PresenceContext.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/LazyContext.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/definitions.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/load-features.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/use-props.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/use-props.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/use-render.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/utils/render.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/config-motion.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/events/add-dom-event.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/events/utils/is-primary-pointer.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/events/event-info.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/Feature.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/hover.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/press.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/gestures.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/focus.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/animations.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/distance.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/geometry/models.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/utils/measure.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/pan/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/node/state.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/shared/stack.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/styles/transform.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/debug/record.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-element.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/delay.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/interfaces/single-value.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/drag.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/gestures/drag/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/parse-dom-variant.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/store.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/VisualElement.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/motion.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/motion/features/layout.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.mjs","webpack://@pomatez/website/./src/styles/animate.ts","webpack://@pomatez/website/./src/styles/components/button.ts","webpack://@pomatez/website/./src/styles/mixins.ts","webpack://@pomatez/website/./src/styles/components/nav.ts","webpack://@pomatez/website/./src/styles/components/header.ts","webpack://@pomatez/website/./src/styles/components/footer.ts","webpack://@pomatez/website/./src/styles/components/sidebar.ts","webpack://@pomatez/website/./src/styles/sections/hero.ts","webpack://@pomatez/website/./src/styles/sections/features.ts","webpack://@pomatez/website/./src/styles/sections/roadmap.ts","webpack://@pomatez/website/./src/styles/sections/download.ts","webpack://@pomatez/website/./src/styles/sections/404.ts","webpack://@pomatez/website/./src/utils/isPreferredDark.ts","webpack://@pomatez/website/./src/utils/detectOS.ts","webpack://@pomatez/website/./src/utils/storage.ts","webpack://@pomatez/website/./src/utils/isSSR.ts","webpack://@pomatez/website/./node_modules/lodash.throttle/index.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/components/Button.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/components/Element.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/components/Link.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/index.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/Helpers.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/animate-scroll.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/cancel-events.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/passive-event-listeners.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/scroll-element.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/scroll-events.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/scroll-hash.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/scroll-link.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/scroll-spy.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/scroller.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/smooth.js","webpack://@pomatez/website/./node_modules/react-scroll/modules/mixins/utils.js","webpack://@pomatez/website/./assets/icons/apple.svg","webpack://@pomatez/website/./assets/icons/arrow-back.svg","webpack://@pomatez/website/./assets/icons/download.svg","webpack://@pomatez/website/./assets/icons/github.svg","webpack://@pomatez/website/./assets/icons/moon.svg","webpack://@pomatez/website/./assets/icons/pomatez.svg","webpack://@pomatez/website/./assets/icons/snap-store.svg","webpack://@pomatez/website/./assets/icons/sunny.svg","webpack://@pomatez/website/./assets/icons/tux.svg","webpack://@pomatez/website/./assets/icons/windows.svg","webpack://@pomatez/website/./assets/images/watermark-left.svg","webpack://@pomatez/website/./assets/images/watermark-right.svg","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/hooks/animation-controls.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/hooks/use-animation.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/utils/is-bezier-definition.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/animators/waapi/easing.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/cubic-bezier.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/ease.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/utils/is-easing-array.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/back.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/utils/map.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/anticipate.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/hsla-to-rgba.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/mix-color.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/mix-complex.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/interpolate.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/offsets/default.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/offsets/fill.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/generators/keyframes.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/offsets/time.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/generators/utils/velocity.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/generators/spring/find.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/generators/spring/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/generators/inertia.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/animators/js/driver-frameloop.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/generators/utils/calc-duration.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/animators/js/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/animators/waapi/create-accelerated-animation.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/memo.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/animators/waapi/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/utils/is-none.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/utils/keyframes.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/animators/instant.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/circ.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/modifiers/mirror.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/easing/modifiers/reverse.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/frameloop/render-step.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/frameloop/batcher.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/frameloop/frame.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/render/utils/setters.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/array.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/clamp.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/errors.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/is-browser.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/mix.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/noop.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/pipe.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/progress.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/resolve-value.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/time-conversion.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/use-constant.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/color/hex.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/color/hsla.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/color/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/color/rgba.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/color/utils.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/complex/filter.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/complex/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/numbers/index.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/numbers/units.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/types/utils.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","webpack://@pomatez/website/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","webpack://@pomatez/website/./node_modules/react-intersection-observer/index.mjs"],"sourcesContent":["import React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport { MarkDownProps, SiteMetaProps } from \"../../types\";\nimport { URL_PATH_PREFIX } from \"../../config\";\n\ntype QueryProps = SiteMetaProps & MarkDownProps;\n\nexport function PageHead() {\n  const { site, allMarkdownRemark } = useStaticQuery<QueryProps>(\n    graphql`\n      query HeaderQuery {\n        site {\n          siteMetadata {\n            title\n            description\n            siteUrl\n            author\n            twitterUsername\n            googleVerification\n          }\n        }\n        allMarkdownRemark(\n          filter: { fileAbsolutePath: { regex: \"/hero/\" } }\n        ) {\n          edges {\n            node {\n              frontmatter {\n                image {\n                  childImageSharp {\n                    original {\n                      height\n                      src\n                      width\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    `\n  );\n\n  const metaTitle = site.siteMetadata.title;\n  const metaDescription = site.siteMetadata.description;\n  const metaSiteUrl = site.siteMetadata.siteUrl + URL_PATH_PREFIX;\n  const metaImage =\n    allMarkdownRemark.edges[0].node.frontmatter.image.childImageSharp\n      .original;\n\n  return (\n    <>\n      <title>{metaTitle}</title>\n      <meta name=\"description\" content={metaDescription} />\n      <meta\n        name=\"google-site-verification\"\n        content={site.siteMetadata.googleVerification}\n      />\n\n      <meta property=\"og:type\" content=\"website\" />\n      <meta property=\"og:description\" content={metaDescription} />\n      <meta property=\"og:url\" content={metaSiteUrl} />\n      <meta property=\"og:title\" content={metaTitle} />\n      <meta property=\"og:image\" content={metaSiteUrl + metaImage.src} />\n      <meta property=\"og:image:width\" content={`${metaImage.width}`} />\n      <meta\n        property=\"og:image:height\"\n        content={`${metaImage.height}`}\n      />\n\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\n      <meta\n        name=\"twitter:creator\"\n        content={site.siteMetadata.twitterUsername}\n      />\n      <meta name=\"twitter:title\" content={metaTitle} />\n      <meta name=\"twitter:description\" content={metaDescription} />\n\n      <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n      <link\n        rel=\"preconnect\"\n        href=\"https://fonts.gstatic.com\"\n        crossOrigin=\"\"\n      />\n      <link\n        href=\"https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap\"\n        rel=\"stylesheet\"\n      />\n    </>\n  );\n}\n","import { useState, useLayoutEffect } from \"react\";\n\ninterface TargetOutside {\n  ref: React.RefObject<HTMLElement>;\n  eventType?: string;\n}\n\nexport const useTargetOutside = ({\n  ref,\n  eventType = \"click\",\n}: TargetOutside) => {\n  const [state, setState] = useState<any>();\n\n  useLayoutEffect(() => {\n    function outsideTarget(e: Event) {\n      const { current } = ref;\n      const target = e.target as HTMLElement;\n\n      if (current) {\n        if (current.contains(target)) {\n          return;\n        }\n        setState(false);\n      }\n    }\n\n    function closeOnEscape(e: KeyboardEvent) {\n      if (e.keyCode === 27) {\n        setState(false);\n      }\n    }\n\n    if (state) {\n      document.addEventListener(eventType, outsideTarget);\n      document.addEventListener(\"keydown\", closeOnEscape);\n    }\n    return () => {\n      document.removeEventListener(eventType, outsideTarget);\n      document.removeEventListener(\"keydown\", closeOnEscape);\n    };\n  }, [state, ref, eventType]);\n\n  return [state, setState];\n};\n","import { useContext } from \"react\";\nimport { NavContext, ThemeContext, ViewportContext } from \"../context\";\n\nexport const useContextProvider = () => {\n  const { isDarkMode, themeToggler } = useContext(ThemeContext);\n\n  const { isMenuOpen, toggleMenu, closeMenu } = useContext(NavContext);\n\n  const { width } = useContext(ViewportContext);\n\n  const isOnMobile = width <= 1024;\n\n  return {\n    isDarkMode,\n    themeToggler,\n    isOnMobile,\n    isMenuOpen,\n    toggleMenu,\n    closeMenu,\n  };\n};\n","import { useEffect, useState } from \"react\";\n\nexport const useIsBrowser = () => {\n  const [isBrowser, setIsBrowser] = useState(false);\n\n  useEffect(() => {\n    setIsBrowser(true);\n    return () => setIsBrowser(false);\n  }, []);\n\n  return isBrowser;\n};\n","import React from \"react\";\nimport { StyledNavLinkItem, StyledNavLinkAnchor } from \"../../styles\";\nimport { useContextProvider } from \"../../hooks\";\nimport { NAV_LINKS } from \"../../config\";\n\nexport function NavLinks() {\n  const { closeMenu } = useContextProvider();\n\n  return (\n    <>\n      {NAV_LINKS.map((nav, index) =>\n        nav.offset ? (\n          <StyledNavLinkItem key={index}>\n            <StyledNavLinkAnchor\n              href=\"/\"\n              onClick={closeMenu}\n              to={nav.link}\n              offset={nav.offset}\n              duration={420}\n              smooth\n            >\n              {nav.label}\n            </StyledNavLinkAnchor>\n          </StyledNavLinkItem>\n        ) : (\n          <StyledNavLinkItem key={index}>\n            <a\n              href={nav.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {nav.label}\n            </a>\n          </StyledNavLinkItem>\n        )\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { useIsBrowser } from \"../hooks\";\n\nimport PomatezSVG from \"../../assets/icons/pomatez.svg\";\nimport DownloadSVG from \"../../assets/icons/download.svg\";\nimport SunnySVG from \"../../assets/icons/sunny.svg\";\nimport MoonSVG from \"../../assets/icons/moon.svg\";\nimport GithubSVG from \"../../assets/icons/github.svg\";\nimport WindowSVG from \"../../assets/icons/windows.svg\";\nimport AppleSVG from \"../../assets/icons/apple.svg\";\nimport LinuxSVG from \"../../assets/icons/linux.svg\";\nimport SnapStoreSVG from \"../../assets/icons/snap-store.svg\";\nimport TuxSVG from \"../../assets/icons/tux.svg\";\nimport ArrowBackSVG from \"../../assets/icons/arrow-back.svg\";\n\nexport function SVG({ name }: { name?: string }) {\n  const isBrowser = useIsBrowser();\n\n  if (isBrowser) {\n    switch (name) {\n      case \"pomatez\":\n        return <PomatezSVG />;\n      case \"download\":\n        return <DownloadSVG />;\n      case \"sunny\":\n        return <SunnySVG />;\n      case \"moon\":\n        return <MoonSVG />;\n      case \"github\":\n        return <GithubSVG />;\n      case \"windows\":\n        return <WindowSVG />;\n      case \"apple\":\n        return <AppleSVG />;\n      case \"linux\":\n        return <LinuxSVG />;\n      case \"snap-store\":\n        return <SnapStoreSVG />;\n      case \"tux\":\n        return <TuxSVG />;\n      case \"arrow-back\":\n        return <ArrowBackSVG />;\n      default:\n        return <PomatezSVG />;\n    }\n  }\n\n  return null;\n}\n","import React from \"react\";\nimport { Link as ScrollLink } from \"react-scroll\";\nimport { StyledNavLogo } from \"../styles\";\nimport { APP_NAME } from \"../config\";\nimport { SVG } from \"./svg\";\n\nexport function Logo() {\n  return (\n    <StyledNavLogo>\n      <ScrollLink href=\"/\" to=\"hero\" offset={-64} duration={420} smooth>\n        <SVG name=\"pomatez\" />\n        <p>{APP_NAME}</p>\n      </ScrollLink>\n    </StyledNavLogo>\n  );\n}\n","import React from \"react\";\nimport { Link as ScrollLink } from \"react-scroll\";\nimport { useContextProvider } from \"../../hooks\";\nimport {\n  StyledNav,\n  StyledNavHeader,\n  StyledNavContent,\n  StyledNavLinks,\n  StyledNavButtonWrapper,\n  StyledNavThemeToggler,\n  StyledScrollToDownload,\n  StyledNavMenu,\n} from \"../../styles\";\nimport { Logo } from \"../logo\";\nimport { NavLinks } from \"../navigation\";\nimport { SVG } from \"../svg\";\n\nexport function Navbar() {\n  const { isDarkMode, themeToggler, isMenuOpen, toggleMenu } =\n    useContextProvider();\n\n  return (\n    <StyledNav isMenuOpen={isMenuOpen}>\n      <StyledNavHeader>\n        <Logo />\n\n        <StyledNavContent>\n          <StyledNavLinks>\n            <NavLinks />\n          </StyledNavLinks>\n\n          <StyledNavButtonWrapper>\n            <StyledNavThemeToggler onClick={themeToggler}>\n              Mode\n              <SVG name={isDarkMode ? \"moon\" : \"sunny\"} />\n            </StyledNavThemeToggler>\n            <StyledScrollToDownload>\n              <ScrollLink\n                href=\"/\"\n                to=\"installers\"\n                offset={-24}\n                duration={420}\n                smooth\n              >\n                <SVG name=\"download\" />\n                See Installers\n              </ScrollLink>\n            </StyledScrollToDownload>\n          </StyledNavButtonWrapper>\n        </StyledNavContent>\n\n        <StyledNavMenu isMenuOpen={isMenuOpen} onClick={toggleMenu}>\n          <span>&nbsp;</span>\n          <span>&nbsp;</span>\n          <span>&nbsp;</span>\n        </StyledNavMenu>\n      </StyledNavHeader>\n    </StyledNav>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { Link as ScrollLink } from \"react-scroll\";\nimport {\n  StyledSidebar,\n  StyledSidebarList,\n  StyledNavButtonWrapper,\n  StyledNavThemeToggler,\n  StyledScrollToDownload,\n} from \"../styles\";\nimport { useContextProvider } from \"../hooks\";\nimport { NavLinks } from \"./navigation\";\nimport { SVG } from \"./svg\";\n\nexport function Sidebar() {\n  const {\n    isOnMobile,\n    isDarkMode,\n    themeToggler,\n    isMenuOpen,\n    toggleMenu,\n  } = useContextProvider();\n\n  useEffect(() => {\n    if (isMenuOpen) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"unset\";\n    }\n  }, [isMenuOpen]);\n\n  return isOnMobile && isMenuOpen ? (\n    <StyledSidebar>\n      <StyledNavButtonWrapper>\n        <StyledNavThemeToggler onClick={themeToggler}>\n          Mode\n          {isDarkMode ? <SVG name=\"moon\" /> : <SVG name=\"sunny\" />}\n        </StyledNavThemeToggler>\n      </StyledNavButtonWrapper>\n\n      <StyledSidebarList>\n        <NavLinks />\n\n        <StyledScrollToDownload>\n          <ScrollLink\n            href=\"/\"\n            onClick={toggleMenu}\n            to=\"installers\"\n            offset={-24}\n            duration={420}\n            smooth\n          >\n            <SVG name=\"download\" />\n            See Installers\n          </ScrollLink>\n        </StyledScrollToDownload>\n      </StyledSidebarList>\n    </StyledSidebar>\n  ) : null;\n}\n","import React from \"react\";\nimport {\n  StyledCopyrightText,\n  StyledFooter,\n  StyledFooterContent,\n  StyledFooterNote,\n} from \"../styles\";\nimport {\n  APP_NAME,\n  AUTHOR_GITHUB_URL,\n  PROJECT_GITHUB_URL,\n} from \"../config\";\nimport { SVG } from \"./svg\";\n\nexport function Footer() {\n  return (\n    <StyledFooter>\n      <StyledFooterContent>\n        <a\n          href={PROJECT_GITHUB_URL}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\"\n        >\n          <SVG name=\"github\" />\n          <StyledCopyrightText>\n            {APP_NAME} © {new Date().getFullYear()}\n          </StyledCopyrightText>\n        </a>\n\n        <StyledFooterNote>\n          Developed and Maintained by <br />\n          <a\n            href={AUTHOR_GITHUB_URL}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            Roldan Montilla Jr\n          </a>\n        </StyledFooterNote>\n      </StyledFooterContent>\n    </StyledFooter>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport {\n  NavProvider,\n  ThemeProvider,\n  ViewportProvider,\n} from \"../../context\";\nimport { StyledLayout } from \"../../styles\";\nimport { Navbar } from \"../navigation\";\nimport { Sidebar } from \"../sidebar\";\nimport { Footer } from \"../footer\";\n\ntype Props = { children?: ReactNode };\n\nexport function PageLayout({ children }: Props) {\n  return (\n    <ThemeProvider>\n      <ViewportProvider>\n        <NavProvider>\n          <StyledLayout>\n            <Navbar />\n            <Sidebar />\n            <main>{children}</main>\n            <Footer />\n          </StyledLayout>\n        </NavProvider>\n      </ViewportProvider>\n    </ThemeProvider>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { useInView } from \"react-intersection-observer\";\nimport { useAnimation } from \"framer-motion\";\nimport {\n  StyledHeader,\n  StyledHeading,\n  StyledSubHeading,\n  StyledDescription,\n} from \"../styles\";\nimport { Edges } from \"../types\";\n\ntype Props = { node: Edges[\"node\"] };\n\nexport const Header: React.FC<Props> = ({ node }) => {\n  const [ref, inView] = useInView({ triggerOnce: true });\n\n  const control = useAnimation();\n\n  useEffect(() => {\n    if (inView) {\n      control.start(\"animate\");\n    }\n  }, [control, inView]);\n\n  const { title, subTitle } = node.frontmatter;\n\n  return (\n    <StyledHeader ref={ref} animate={control}>\n      <StyledHeading data-after={title}>\n        <span>{title}</span>\n      </StyledHeading>\n      <StyledSubHeading>{subTitle}</StyledSubHeading>\n      <StyledDescription\n        dangerouslySetInnerHTML={{\n          __html: node.html,\n        }}\n      />\n    </StyledHeader>\n  );\n};\n\nexport default Header;\n","import json from \"../../package.json\";\n\nexport const APP_NAME = \"Pomatez\";\nexport const APP_VERSION = `v${json.version}`;\n\nexport const URL_PATH_PREFIX = \"/pomatez\";\n\nexport const AUTHOR_GITHUB_URL = \"https://github.com/roldanjr\";\nexport const PROJECT_GITHUB_URL = `${AUTHOR_GITHUB_URL}/pomatez`;\nexport const PROJECT_RELEASES_URL = `${PROJECT_GITHUB_URL}/releases`;\n\nexport const DOWNLOAD_PREFIX = `${PROJECT_RELEASES_URL}/download/${APP_VERSION}`;\nexport const INSTALLER = `${DOWNLOAD_PREFIX}/Pomatez-${APP_VERSION}`;\n\nexport const WINDOWS_x64_INSTALLER = `${INSTALLER}-win-x64-setup.exe`;\nexport const WINDOWS_ARM_INSTALLER = `${INSTALLER}-win-arm64-setup.exe`;\nexport const DEB_INSTALLER = `${INSTALLER}-linux-amd64.deb`;\nexport const APP_IMAGE_x64_INSTALLER = `${INSTALLER}-linux-x86_64.AppImage`;\nexport const APP_IMAGE_ARM_INSTALLER = `${INSTALLER}-linux-arm64.AppImage`;\nexport const RPM_INSTALLER = `${INSTALLER}-linux-x86_64.rpm`;\nexport const MAC_x64_INSTALLER = `${INSTALLER}-mac-x64.dmg`;\nexport const MAC_ARM_INSTALLER = `${INSTALLER}-mac-arm64.dmg`;\n\nexport const INSTALLERS = {\n  ELECTRON: {\n    WINDOWS: {\n      x64: WINDOWS_x64_INSTALLER,\n      arm: WINDOWS_ARM_INSTALLER,\n    },\n    LINUX: {\n      deb: DEB_INSTALLER,\n      appImage: {\n        x64: APP_IMAGE_x64_INSTALLER,\n        arm: APP_IMAGE_ARM_INSTALLER,\n      },\n      rpm: RPM_INSTALLER,\n    },\n    MAC: {\n      x64: MAC_x64_INSTALLER,\n      arm: MAC_ARM_INSTALLER,\n    },\n  },\n  // Only done like this because of the different caps and it doesn't have v before the version.\n  TAURI: {\n    WINDOWS: {\n      x64: `${DOWNLOAD_PREFIX}/Pomatez_${json.version}_x64_en-US-win-tauri-beta.msi`,\n      arm: `${DOWNLOAD_PREFIX}/Pomatez_${json.version}_arm64-setup-win-tauri-beta.exe`,\n    },\n    LINUX: {\n      deb: `${DOWNLOAD_PREFIX}/pomatez_${json.version}_amd64-linux-tauri-beta.deb`,\n      appImage: {\n        x64: `${DOWNLOAD_PREFIX}/pomatez_${json.version}_amd64-linux-tauri-beta.AppImage`,\n      },\n    },\n    MAC: {\n      universal: `${DOWNLOAD_PREFIX}/Pomatez_${json.version}_universal-mac-tauri-beta.dmg`,\n    },\n  },\n} as const;\n\nexport const NAV_LINKS = [\n  { label: \"Features\", link: \"features\", offset: -24 },\n  { label: \"Roadmap\", link: \"roadmap\", offset: -24 },\n  {\n    label: \"Release notes\",\n    link: `${PROJECT_RELEASES_URL}/latest`,\n  },\n  {\n    label: \"Discord\",\n    link: `https://discord.gg/ZqPqN3hwcB`,\n  },\n] as const;\n\nexport const ENV = {\n  GOOGLE_VERIFICATION: process.env.GOOGLE_VERIFICATION || \"\",\n  GA_TRACKING_ID: process.env.GA_TRACKING_ID || \"\",\n  IS_DEV: process.env.NODE_ENV !== \"production\",\n} as const;\n","import React, { createContext, ReactNode, useState } from \"react\";\n\ntype Props = {\n  isMenuOpen: boolean;\n  toggleMenu?: () => void;\n  closeMenu?: () => void;\n};\n\nconst NavContext = createContext<Props>({ isMenuOpen: false });\n\nconst NavProvider = ({ children }: { children?: ReactNode }) => {\n  const [isMenuOpen, setMenuOpen] = useState(false);\n\n  const toggleMenu = () => setMenuOpen((prevState) => !prevState);\n  const closeMenu = () => setMenuOpen(false);\n\n  return (\n    <NavContext.Provider\n      value={{\n        isMenuOpen,\n        toggleMenu,\n        closeMenu,\n      }}\n    >\n      {children}\n    </NavContext.Provider>\n  );\n};\n\nexport { NavContext, NavProvider };\n","import React, { useState, useLayoutEffect, ReactNode } from \"react\";\nimport {\n  isPreferredDark,\n  getFromStorage,\n  saveToStorage,\n  isSSR,\n} from \"../utils\";\nimport { GlobalStyle } from \"../styles\";\n\ntype ThemeProps = {\n  isDarkMode?: boolean;\n  themeToggler?: () => void;\n};\n\nconst ThemeContext = React.createContext<ThemeProps>({});\n\nconst ThemeProvider = ({ children }: { children?: ReactNode }) => {\n  const useDarkMode =\n    !isSSR && getFromStorage(\"isDarkMode\") && isPreferredDark();\n  const [isDarkMode, setDarkMode] = useState(useDarkMode);\n\n  useLayoutEffect(() => {\n    if (isDarkMode === null) {\n      setDarkMode(isPreferredDark());\n    }\n    saveToStorage(\"isDarkMode\", isDarkMode);\n  }, [isDarkMode]);\n\n  const themeToggler = () => {\n    setDarkMode((prevState: boolean) => !prevState);\n  };\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        isDarkMode,\n        themeToggler,\n      }}\n    >\n      <GlobalStyle isDarkMode={isDarkMode} />\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\nexport { ThemeContext, ThemeProvider };\n","import React, {\n  createContext,\n  useState,\n  useEffect,\n  ReactNode,\n} from \"react\";\nimport { isSSR } from \"../utils\";\n\ntype Props = {\n  width: number;\n  height: number;\n};\n\nconst ViewportContext = createContext<Props>({ width: 0, height: 0 });\n\nconst ViewportProvider = ({ children }: { children?: ReactNode }) => {\n  const [width, setWidth] = useState(!isSSR ? window.innerWidth : 0);\n\n  const [height, setHeight] = useState(!isSSR ? window.innerHeight : 0);\n\n  useEffect(() => {\n    const handleWindowSize = () => {\n      setWidth(window.innerWidth);\n      setHeight(window.innerHeight);\n    };\n\n    window.addEventListener(\"resize\", handleWindowSize);\n    return () => window.removeEventListener(\"resize\", handleWindowSize);\n  }, [width]);\n\n  return (\n    <ViewportContext.Provider\n      value={{\n        width,\n        height,\n      }}\n    >\n      {children}\n    </ViewportContext.Provider>\n  );\n};\n\nexport { ViewportContext, ViewportProvider };\n","import { css } from \"styled-components\";\n\nexport const lightTheme = css`\n  --cl-primary: #007bc7;\n  --cl-primary-variant: #035aa5;\n\n  --cl-display-text: #111111;\n  --cl-heading-text: #212121;\n  --cl-body-text: #666666;\n  --cl-disabled-text: #999999;\n\n  --bg-primary: #fff;\n  --bg-primary-rgb: 255, 255, 255;\n\n  --bg-secondary: #fafafa;\n  --bg-tertiary: #f2f2f2;\n\n  --bg-card: var(--bg-primary);\n\n  --cl-link: var(--cl-primary-variant);\n  --cl-link-hover: var(--cl-primary);\n\n  --bg-btn-primary: linear-gradient(\n    to bottom,\n    var(--cl-primary),\n    var(--cl-primary-variant)\n  );\n\n  --bg-btn-primary-hover: linear-gradient(\n    to bottom,\n    var(--cl-primary),\n    var(--cl-primary)\n  );\n\n  --cl-github-btn: rgba(255, 255, 255, 0.9);\n  --bg-github-btn: linear-gradient(\n    to bottom,\n    var(--cl-heading-text),\n    var(--cl-display-text)\n  );\n  --bg-github-btn-hover: linear-gradient(\n    to bottom,\n    var(--cl-heading-text),\n    var(--cl-heading-text)\n  );\n\n  --border-primary: #e6e6e6;\n  --border-secondary: #f4f4f4;\n  --border-tertiary: #f2f2f2;\n\n  --cl-shadow-primary: rgba(0, 0, 0, 0.12);\n  --cl-shadow-secondary: rgba(0, 0, 0, 0.16);\n  --cl-shadow-tertiary: rgba(0, 0, 0, 0.24);\n\n  --logo-opacity: 1;\n`;\n\nexport const darkTheme = css`\n  --cl-primary: #007bc7;\n  --cl-primary-variant: #0098f7;\n\n  --cl-display-text: rgba(255, 255, 255, 0.9);\n  --cl-heading-text: rgba(255, 255, 255, 0.8);\n  --cl-body-text: rgba(255, 255, 255, 0.6);\n  --cl-disabled-text: rgba(255, 255, 255, 0.4);\n\n  --bg-primary: #111d25;\n  --bg-primary-rgb: 17, 29, 37;\n\n  --bg-secondary: #1c2830;\n  --bg-tertiary: #202c34;\n\n  --bg-card: var(--bg-secondary);\n\n  --cl-link: var(--cl-primary);\n  --cl-link-hover: var(--cl-primary-variant);\n\n  --bg-btn-primary: linear-gradient(\n    to bottom,\n    var(--cl-primary-variant),\n    var(--cl-primary)\n  );\n\n  --bg-btn-primary-hover: linear-gradient(\n    to bottom,\n    var(--cl-primary-variant),\n    var(--cl-primary-variant)\n  );\n\n  --cl-github-btn: var(--cl-heading-text);\n  --bg-github-btn: linear-gradient(\n    to bottom,\n    var(--bg-tertiary),\n    var(--bg-secondary)\n  );\n  --bg-github-btn-hover: linear-gradient(\n    to bottom,\n    var(--bg-tertiary),\n    var(--bg-tertiary)\n  );\n\n  --border-primary: rgba(255, 255, 255, 0.12);\n  --border-secondary: rgba(255, 255, 255, 0.1);\n  --border-tertiary: rgba(255, 255, 255, 0.04);\n\n  --cl-shadow-primary: rgba(0, 0, 0, 0.24);\n  --cl-shadow-secondary: rgba(0, 0, 0, 0.32);\n  --cl-shadow-tertiary: rgba(0, 0, 0, 0.4);\n\n  --logo-opacity: 0.64;\n`;\n","type MediaSizes = {\n  laptopXl: string | number;\n  laptopLg: string | number;\n  laptopMd: string | number;\n  laptopNm: string | number;\n  laptopSm: string | number;\n  laptopXs: string | number;\n  tabletXl: string | number;\n  tabletLg: string | number;\n  tabletMd: string | number;\n  tabletSm: string | number;\n  mobileXl: string | number;\n  mobileLg: string | number;\n  mobileMd: string | number;\n  mobileSm: string | number;\n  mobileXs: string | number;\n};\n\nconst media: MediaSizes = {\n  laptopXl: 1920,\n  laptopLg: 1600,\n  laptopMd: 1440,\n  laptopNm: 1360,\n  laptopSm: 1280,\n  laptopXs: 1024,\n  tabletXl: 900,\n  tabletLg: 768,\n  tabletMd: 600,\n  tabletSm: 480,\n  mobileXl: 460,\n  mobileLg: 425,\n  mobileMd: 375,\n  mobileSm: 360,\n  mobileXs: 320,\n};\n\nObject.keys(media).forEach((key) => {\n  const query = media[key] / 16;\n  media[key] = `@media screen and\n                (max-width: ${query}em)`;\n});\n\nexport default media;\n","import { createGlobalStyle } from \"styled-components\";\nimport { darkTheme, lightTheme } from \"./themes\";\nimport media from \"./media\";\n\ntype GlobalProps = {\n  isDarkMode?: boolean;\n};\n\nexport const GlobalStyle = createGlobalStyle<GlobalProps>`\n\n  :root {\n    ${(p) => {\n      if (p.isDarkMode) {\n        return darkTheme;\n      }\n      return lightTheme;\n    }}\n  }\n\n  *,\n  *::before,\n  *::after {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n\n    font-family: inherit;\n    font-size: inherit;\n\n    color: currentColor;\n  }\n\n  html {\n    font-size: 62.5%;\n    font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-weight: normal;\n\n    ${media.laptopSm}{\n      font-size: 56.25%;\n    }\n  }\n\n  body {\n    font-size: 1.6rem;\n    font-weight: normal;\n    color: var(--cl-body-text);\n    background: var(--bg-primary);\n\n    counter-reset: header;\n    overflow-x: hidden;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  p {\n    line-height: 1.6;\n  }\n\n`;\n","import styled from \"styled-components\";\n\nexport const StyledLayout = styled.div`\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n\n  & > main {\n    border-bottom: 1px solid var(--border-secondary);\n  }\n`;\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","import { createContext } from 'react';\n\nconst MotionContext = createContext({});\n\nexport { MotionContext };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","import { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","function isRefObject(ref) {\n    return (typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","function isAnimationControls(v) {\n    return typeof v === \"object\" && typeof v.start === \"function\";\n}\n\nexport { isAnimationControls };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\nimport { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","import { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","import { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { SwitchLayoutGroupContext } from '../context/SwitchLayoutGroupContext.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             */\n            const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n            const isStrict = useContext(LazyContext).strict;\n            if (context.visualElement) {\n                MeasureLayout = context.visualElement.loadFeatures(\n                // Note: Pass the full new combined props to correctly re-render dynamic feature components.\n                configAndProps, isStrict, preloadedFeatures, initialLayoutGroupConfig);\n            }\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(MotionContext.Provider, { value: context },\n            MeasureLayout && context.visualElement ? (React.createElement(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null,\n            useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)));\n    }\n    const ForwardRefComponent = forwardRef(MotionComponent);\n    ForwardRefComponent[motionComponentSymbol] = Component;\n    return ForwardRefComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\n\nexport { createMotionComponent };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef();\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement = createVisualElement || lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    useInsertionEffect(() => {\n        visualElement && visualElement.update(props, presenceContext);\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const canHandoff = useRef(Boolean(window.HandoffAppearAnimations));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.render();\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (canHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.updateFeatures();\n        if (!canHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        /**\n         * Once we've handed off animations we can delete HandoffAppearAnimations\n         * so components added after the initial render can animate changes\n         * in useEffect vs useLayoutEffect.\n         */\n        window.HandoffAppearAnimations = undefined;\n        canHandoff.current = false;\n    });\n    return visualElement;\n}\n\nexport { useVisualElement };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        instance && visualState.mount && visualState.mount(instance);\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { createMotionComponent } from '../../motion/index.mjs';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig = {}) {\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    if (typeof Proxy === \"undefined\") {\n        return custom;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","const scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { transformProps } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","import { transformPropOrder } from './transform.mjs';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(transform, { enableHardwareAcceleration = true, allowTransformNone = true, }, transformIsDefault, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        if (transform[key] !== undefined) {\n            const transformName = translateAlias[key] || key;\n            transformString += `${transformName}(${transform[key]}) `;\n        }\n    }\n    if (enableHardwareAcceleration && !transform.z) {\n        transformString += \"translateZ(0)\";\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","import { buildTransform } from './build-transform.mjs';\nimport { isCSSVariableName } from '../../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, options, transformTemplate) {\n    const { style, vars, transform, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    let transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        const valueType = numberValueTypes[key];\n        const valueAsType = getValueAsType(value, valueType);\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== (valueType.default || 0))\n                transformIsNone = false;\n        }\n        else if (key.startsWith(\"origin\")) {\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n            transformOrigin[key] = valueAsType;\n        }\n        else {\n            style[key] = valueAsType;\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(state.transform, options, transformIsNone, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","import { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState, isStatic) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    return props.transformValues ? props.transformValues(style) : style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState, isStatic);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"transformValues\",\n    \"custom\",\n    \"inherit\",\n    \"onLayoutAnimationStart\",\n    \"onLayoutAnimationComplete\",\n    \"onLayoutMeasure\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (!isValidProp)\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] && key.startsWith(\"onDrag\"))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    const pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    const pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return `${pxOriginX} ${pxOriginY}`;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, originX, originY, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, options, isSVGTag, transformTemplate) {\n    buildHTMLStyles(state, latest, options, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style, dimensions } = state;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, { enableHardwareAcceleration: false }, isSVGTag(Component), props.transformTemplate);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction createUseRender(forwardMotionProps = false) {\n    const useRender = (Component, props, ref, { latestValues }, isStatic) => {\n        const useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n        const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        const elementProps = {\n            ...filteredProps,\n            ...visualProps,\n            ref,\n        };\n        /**\n         * If component has been handed a motion value as its child,\n         * memoise its initial value and render that. Subsequent updates\n         * will be handled by the onChange handler\n         */\n        const { children } = props;\n        const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n        return createElement(Component, {\n            ...elementProps,\n            children: renderedChildren,\n        });\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp));\n    // Loop over any CSS variables and assign those.\n    for (const key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style && isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps);\n    for (const key in props) {\n        if (isMotionValue(props[key]) || isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    const unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, onMount, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = (instance) => onMount(props, instance, state);\n    }\n    return state;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach((definition) => {\n            const resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            const { transitionEnd, transition, ...target } = resolved;\n            for (const key in target) {\n                let valueTarget = target[key];\n                if (Array.isArray(valueTarget)) {\n                    /**\n                     * Take final keyframe if the initial animation is blocked because\n                     * we want to initialise at the end of that blocked animation.\n                     */\n                    const index = isInitialAnimationBlocked\n                        ? valueTarget.length - 1\n                        : 0;\n                    valueTarget = valueTarget[index];\n                }\n                if (valueTarget !== null) {\n                    values[key] = valueTarget;\n                }\n            }\n            for (const key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: (props, instance, { renderState, latestValues }) => {\n            frame.read(() => {\n                try {\n                    renderState.dimensions =\n                        typeof instance.getBBox ===\n                            \"function\"\n                            ? instance.getBBox()\n                            : instance.getBoundingClientRect();\n                }\n                catch (e) {\n                    // Most likely trying to measure an unrendered element under Firefox\n                    renderState.dimensions = {\n                        x: 0,\n                        y: 0,\n                        width: 0,\n                        height: 0,\n                    };\n                }\n            });\n            frame.render(() => {\n                buildSVGAttrs(renderState, latestValues, { enableHardwareAcceleration: false }, isSVGTag(instance.tagName), props.transformTemplate);\n                renderSVG(instance, renderState);\n            });\n        },\n    }),\n};\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nconst htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from './utils/is-primary-pointer.mjs';\n\nfunction extractEventInfo(event, pointType = \"page\") {\n    return {\n        point: {\n            x: event[pointType + \"X\"],\n            y: event[pointType + \"Y\"],\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","function createLock(name) {\n    let lock = null;\n    return () => {\n        const openLock = () => {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nconst globalHorizontalLock = createLock(\"dragHorizontal\");\nconst globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    let lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        const openHorizontal = globalHorizontalLock();\n        const openVertical = globalVerticalLock();\n        if (openHorizontal && openVertical) {\n            lock = () => {\n                openHorizontal();\n                openVertical();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal)\n                openHorizontal();\n            if (openVertical)\n                openVertical();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    const openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction addHoverEvent(node, isActive) {\n    const eventName = \"pointer\" + (isActive ? \"enter\" : \"leave\");\n    const callbackName = \"onHover\" + (isActive ? \"Start\" : \"End\");\n    const handleEvent = (event, info) => {\n        if (event.type === \"touch\" || isDragActive())\n            return;\n        const props = node.getProps();\n        if (node.animationState && props.whileHover) {\n            node.animationState.setActive(\"whileHover\", isActive);\n        }\n        if (props[callbackName]) {\n            frame.update(() => props[callbackName](event, info));\n        }\n    };\n    return addPointerEvent(node.current, eventName, handleEvent, {\n        passive: !node.getProps()[callbackName],\n    });\n}\nclass HoverGesture extends Feature {\n    mount() {\n        this.unmount = pipe(addHoverEvent(this.node, true), addHoverEvent(this.node, false));\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import { extractEventInfo } from '../events/event-info.mjs';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { noop } from '../utils/noop.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction fireSyntheticPointerEvent(name, handler) {\n    if (!handler)\n        return;\n    const syntheticPointerEvent = new PointerEvent(\"pointer\" + name);\n    handler(syntheticPointerEvent, extractEventInfo(syntheticPointerEvent));\n}\nclass PressGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removeStartListeners = noop;\n        this.removeEndListeners = noop;\n        this.removeAccessibleListeners = noop;\n        this.startPointerPress = (startEvent, startInfo) => {\n            this.removeEndListeners();\n            if (this.isPressing)\n                return;\n            const props = this.node.getProps();\n            const endPointerPress = (endEvent, endInfo) => {\n                if (!this.checkPressEnd())\n                    return;\n                const { onTap, onTapCancel } = this.node.getProps();\n                frame.update(() => {\n                    /**\n                     * We only count this as a tap gesture if the event.target is the same\n                     * as, or a child of, this component's element\n                     */\n                    !isNodeOrChild(this.node.current, endEvent.target)\n                        ? onTapCancel && onTapCancel(endEvent, endInfo)\n                        : onTap && onTap(endEvent, endInfo);\n                });\n            };\n            const removePointerUpListener = addPointerEvent(window, \"pointerup\", endPointerPress, { passive: !(props.onTap || props[\"onPointerUp\"]) });\n            const removePointerCancelListener = addPointerEvent(window, \"pointercancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo), { passive: !(props.onTapCancel || props[\"onPointerCancel\"]) });\n            this.removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n            this.startPress(startEvent, startInfo);\n        };\n        this.startAccessiblePress = () => {\n            const handleKeydown = (keydownEvent) => {\n                if (keydownEvent.key !== \"Enter\" || this.isPressing)\n                    return;\n                const handleKeyup = (keyupEvent) => {\n                    if (keyupEvent.key !== \"Enter\" || !this.checkPressEnd())\n                        return;\n                    fireSyntheticPointerEvent(\"up\", (event, info) => {\n                        const { onTap } = this.node.getProps();\n                        if (onTap) {\n                            frame.update(() => onTap(event, info));\n                        }\n                    });\n                };\n                this.removeEndListeners();\n                this.removeEndListeners = addDomEvent(this.node.current, \"keyup\", handleKeyup);\n                fireSyntheticPointerEvent(\"down\", (event, info) => {\n                    this.startPress(event, info);\n                });\n            };\n            const removeKeydownListener = addDomEvent(this.node.current, \"keydown\", handleKeydown);\n            const handleBlur = () => {\n                if (!this.isPressing)\n                    return;\n                fireSyntheticPointerEvent(\"cancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo));\n            };\n            const removeBlurListener = addDomEvent(this.node.current, \"blur\", handleBlur);\n            this.removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n        };\n    }\n    startPress(event, info) {\n        this.isPressing = true;\n        const { onTapStart, whileTap } = this.node.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", true);\n        }\n        if (onTapStart) {\n            frame.update(() => onTapStart(event, info));\n        }\n    }\n    checkPressEnd() {\n        this.removeEndListeners();\n        this.isPressing = false;\n        const props = this.node.getProps();\n        if (props.whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", false);\n        }\n        return !isDragActive();\n    }\n    cancelPress(event, info) {\n        if (!this.checkPressEnd())\n            return;\n        const { onTapCancel } = this.node.getProps();\n        if (onTapCancel) {\n            frame.update(() => onTapCancel(event, info));\n        }\n    }\n    mount() {\n        const props = this.node.getProps();\n        const removePointerListener = addPointerEvent(this.node.current, \"pointerdown\", this.startPointerPress, { passive: !(props.onTapStart || props[\"onPointerStart\"]) });\n        const removeFocusListener = addDomEvent(this.node.current, \"focus\", this.startAccessiblePress);\n        this.removeStartListeners = pipe(removePointerListener, removeFocusListener);\n    }\n    unmount() {\n        this.removeStartListeners();\n        this.removeEndListeners();\n        this.removeAccessibleListeners();\n    }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","import { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\nimport { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    const state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        const props = visualElement.getProps();\n        const context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined ? props[type] : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                removedKeys.delete(key);\n                typeState.needsAnimating[key] = true;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                if (next !== prev) {\n                    /**\n                     * If both values are keyframes, we need to shallow compare them to\n                     * detect whether any value has changed. If it has, we animate it.\n                     */\n                    if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                        if (!shallowCompare(next, prev) || variantDidChange) {\n                            markToAnimate(key);\n                        }\n                        else {\n                            /**\n                             * If it hasn't changed, we want to ensure it doesn't animate by\n                             * adding it to the list of protected keys.\n                             */\n                            typeState.protectedKeys[key] = true;\n                        }\n                    }\n                    else if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             * TODO: Test as this should probably still handle animations triggered\n             * by removed values?\n             */\n            if (shouldAnimateType && !isInherited) {\n                animations.push(...definitionList.map((animation) => ({\n                    animation: animation,\n                    options: { type, ...options },\n                })));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            props.initial === false &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach((child) => { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        const animations = animateChanges(options, type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete, custom } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent, { custom: custom !== null && custom !== void 0 ? custom : this.node.getProps().custom });\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => onExitComplete(this.id));\n        }\n    }\n    mount() {\n        const { register } = this.node.presenceContext || {};\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        this.unmount();\n        if (isAnimationControls(animate)) {\n            this.unmount = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() { }\n}\n\nexport { AnimationFeature };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { extractEventInfo } from '../../events/event-info.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../utils/time-conversion.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\nimport { isPrimaryPointer } from '../../events/utils/is-primary-pointer.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const { onEnd, onSessionEnd } = this.handlers;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { mix } from '../../utils/mix.mjs';\n\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target = 0, maxDistance = 0.01) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mix(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001) || isNaN(delta.scale))\n        delta.scale = 1;\n    delta.translate =\n        mix(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate) || isNaN(delta.translate))\n        delta.translate = 0;\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","import { progress } from '../../../utils/progress.mjs';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { mix } from '../../../utils/mix.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { mix } from '../../utils/mix.mjs';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const instance = node.instance;\n        if (instance &&\n            instance.style &&\n            instance.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    treeScale.x = snapToDefault(treeScale.x);\n    treeScale.y = snapToDefault(treeScale.y);\n}\nfunction snapToDefault(scale) {\n    if (Number.isInteger(scale))\n        return scale;\n    return scale > 1.0000000000001 || scale < 0.999999999999 ? scale : 1;\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, transforms, [key, scaleKey, originKey]) {\n    const axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    const originPoint = mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform, xKeys);\n    transformAxis(box.y, transform, yKeys);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","import { invariant } from '../../utils/errors.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { getGlobalLock } from './utils/lock.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, calcOrigin } from './utils/constraints.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst elementDragControls = new WeakMap();\n/**\n *\n */\n// let latestPointerEvent: PointerEvent\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            // Stop any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event, \"page\").point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openGlobalLock)\n                    this.openGlobalLock();\n                this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openGlobalLock)\n                    return;\n            }\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.update(() => onDragStart(event, info), false, true);\n            }\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            // latestPointerEvent = event\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openGlobalLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => this.stop(event, info);\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n        }, { transformPagePoint: this.visualElement.getTransformPagePoint() });\n    }\n    stop(event, info) {\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging)\n            return;\n        const { velocity } = info;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.update(() => onDragEnd(event, info));\n        }\n    }\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        const { dragConstraints, dragElastic } = this.getProps();\n        const { layout } = this.visualElement.projection || {};\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = \"_drag\" + axis.toUpperCase();\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial ? props.initial[axis] : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mix(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mix(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints)) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        measureDragConstraints();\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { PanSession } from './PanSession.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.update(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), { transformPagePoint: this.node.getTransformPagePoint() });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.update(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from '../../value/types/numbers/units.mjs';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { mix } from '../../utils/mix.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mix(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","import React__default, { useContext } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\nimport { frame } from '../../../frameloop/frame.mjs';\n\nclass MeasureLayoutWithContext extends React__default.Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            projection.root.didUpdate();\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const projection = visualElement.projection;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            queueMicrotask(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (React__default.createElement(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","import { useContext, useId, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => register(id), []);\n    const safeToRemove = () => onExitComplete && onExitComplete(id);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","import { circOut } from '../../easing/circ.mjs';\nimport { progress } from '../../utils/progress.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { percent, px } from '../../value/types/numbers/units.mjs';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mix(0, \n        // TODO Reinstate this if only child\n        lead.opacity !== undefined ? lead.opacity : 1, easeCrossfadeIn(progress));\n        target.opacityExit = mix(follow.opacity !== undefined ? follow.opacity : 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mix(follow.opacity !== undefined ? follow.opacity : 1, lead.opacity !== undefined ? lead.opacity : 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mix(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mix(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = compress(0, 0.5, circOut);\nconst easeCrossfadeOut = compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n\nexport { copyAxisInto, copyBoxInto };\n","import { mix } from '../../utils/mix.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mix(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mix(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction boxEquals(a, b) {\n    return (a.x.min === b.x.min &&\n        a.x.max === b.x.max &&\n        a.y.min === b.y.min &&\n        a.y.max === b.y.max);\n}\nfunction boxEqualsRounded(a, b) {\n    return (Math.round(a.x.min) === Math.round(b.x.min) &&\n        Math.round(a.x.max) === Math.round(b.x.max) &&\n        Math.round(a.y.min) === Math.round(b.y.min) &&\n        Math.round(a.y.max) === Math.round(b.y.max));\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\n\nexport { aspectRatio, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    if (xTranslate || yTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, 0) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { rotate, rotateX, rotateY } = latestTransform;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","import { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcRelativePosition, calcRelativeBox, calcBoxDelta, calcLength, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { getValueTransition } from '../../animation/utils/transitions.mjs';\nimport { boxEqualsRounded, isDeltaZero, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { globalProjectionState } from './state.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { mix } from '../../utils/mix.mjs';\nimport { record } from '../../debug/record.mjs';\nimport { isSVGElement } from '../../render/dom/utils/is-svg-element.mjs';\nimport { animateSingleValue } from '../../animation/interfaces/single-value.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { cancelFrame, frameData, steps, frame } from '../../frameloop/frame.mjs';\nimport { noop } from '../../utils/noop.mjs';\n\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\n/**\n * Use a mutable data object for debug data so as to not create a new\n * object every frame.\n */\nconst projectionFrameData = {\n    type: \"projectionFrame\",\n    totalNodes: 0,\n    resolvedTargetDeltas: 0,\n    recalculatedProjection: 0,\n};\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent === null || defaultParent === void 0 ? void 0 : defaultParent()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                projectionFrameData.totalNodes =\n                    projectionFrameData.resolvedTargetDeltas =\n                        projectionFrameData.recalculatedProjection =\n                            0;\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                record(projectionFrameData);\n            };\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance, isLayoutDirty = this.root.hasTreeAnimated) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (isLayoutDirty && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                attachResizeListener(instance, () => {\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeTargetChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const targetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout) ||\n                        hasRelativeTargetChanged;\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeTargetChanged;\n                    if (this.options.layoutRoot ||\n                        (this.resumeFrom && this.resumeFrom.instance) ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (targetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            this.isUpdating = false;\n            /**\n             * Write\n             */\n            this.nodes.forEach(resetTransformStyle);\n            /**\n             * Read ==================\n             */\n            // Update layout measurements of updated children\n            this.nodes.forEach(updateLayout);\n            /**\n             * Write\n             */\n            // Notify listeners that the layout is updated\n            this.nodes.forEach(notifyLayoutUpdate);\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = performance.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            steps.update.process(frameData);\n            steps.preRender.process(frameData);\n            steps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                queueMicrotask(() => this.update());\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            frame.preRender(this.updateProjection, false, true);\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            // TODO: Incorporate into a forwarded scroll offset\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement) {\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot: checkIsScrollRoot(this.instance),\n                    offset: measureScroll(this.instance),\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty || this.shouldResetTransform;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            // Remove viewport scroll to give page-relative coordinates\n            const { scroll } = this.root;\n            if (scroll) {\n                translateAxis(box.x, scroll.offset.x);\n                translateAxis(box.y, scroll.offset.y);\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.isRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                        const { scroll: rootScroll } = this.root;\n                        /**\n                         * Undo the application of page scroll that was originally added\n                         * to the measured bounding box.\n                         */\n                        if (rootScroll) {\n                            translateAxis(boxWithoutScroll.x, -rootScroll.offset.x);\n                            translateAxis(boxWithoutScroll.y, -rootScroll.offset.y);\n                        }\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            var _a;\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty) ||\n                this.attemptToResolveRelativeTarget);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            // TODO If this is unsuccessful this currently happens every frame\n            if (!this.targetDelta && !this.relativeTarget) {\n                // TODO: This is a semi-repetition of further down this function, make DRY\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            projectionFrameData.resolvedTargetDeltas++;\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            var _a;\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.projectionTransform) {\n                    this.projectionDelta = createDelta();\n                    this.projectionTransform = \"none\";\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta) {\n                this.projectionDelta = createDelta();\n                this.projectionDeltaWithTransform = createDelta();\n            }\n            const prevProjectionTransform = this.projectionTransform;\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            this.projectionTransform = buildProjectionTransform(this.projectionDelta, this.treeScale);\n            if (this.projectionTransform !== prevProjectionTransform ||\n                this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            projectionFrameData.recalculatedProjection++;\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.scheduleRender && this.options.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot\n                ? snapshot.latestValues\n                : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation && this.currentAnimation.stop();\n            if (this.resumingFrom && this.resumingFrom.currentAnimation) {\n                this.resumingFrom.currentAnimation.stop();\n            }\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                this.currentAnimation = animateSingleValue(0, animationTarget, {\n                    ...options,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onComplete: () => {\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? ((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.lead) || this : this;\n        }\n        getPrevLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected rotation values, we can early return without a forced render.\n            let hasRotate = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ) {\n                hasRotate = true;\n            }\n            // If there's no rotation values, we don't need to do any more.\n            if (!hasRotate)\n                return;\n            const resetValues = {};\n            // Check the rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                const key = \"rotate\" + transformAxes[i];\n                // Record the rotation and then temporarily set it to 0\n                if (latestValues[key]) {\n                    resetValues[key] = latestValues[key];\n                    visualElement.setStaticValue(key, 0);\n                }\n            }\n            // Force a render of this element to apply the transform with all rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        getProjectionStyles(styleProp = {}) {\n            var _a, _b;\n            // TODO: Return lifecycle-persistent object\n            const styles = {};\n            if (!this.instance || this.isSVG)\n                return styles;\n            if (!this.isVisible) {\n                return { visibility: \"hidden\" };\n            }\n            else {\n                styles.visibility = \"\";\n            }\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                styles.opacity = \"\";\n                styles.pointerEvents =\n                    resolveMotionValue(styleProp.pointerEvents) || \"\";\n                styles.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return styles;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                const emptyStyles = {};\n                if (this.options.layoutId) {\n                    emptyStyles.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    emptyStyles.pointerEvents =\n                        resolveMotionValue(styleProp.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    emptyStyles.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return emptyStyles;\n            }\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            styles.transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                styles.transform = transformTemplate(valuesToRender, styles.transform);\n            }\n            const { x, y } = this.projectionDelta;\n            styles.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                styles.opacity =\n                    lead === this\n                        ? (_b = (_a = valuesToRender.opacity) !== null && _a !== void 0 ? _a : this.latestValues.opacity) !== null && _b !== void 0 ? _b : 1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                styles.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = styles.transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        styles[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    styles[key] = corrected;\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                styles.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp.pointerEvents) || \"\"\n                        : \"none\";\n            }\n            return styles;\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => { var _a; return (_a = node.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop(); });\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    var _a;\n    const snapshot = ((_a = node.resumeFrom) === null || _a === void 0 ? void 0 : _a.snapshot) || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeTargetChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeTargetChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeTargetChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    projectionFrameData.totalNodes++;\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetRotation(node) {\n    node.resetRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mix(delta.translate, 0, p);\n    output.scale = mix(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mix(from.min, to.min, p);\n    output.max = mix(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","function record(data) {\n    if (window.MotionDebug) {\n        window.MotionDebug.record(data);\n    }\n}\n\nexport { record };\n","function isSVGElement(element) {\n    return element instanceof SVGElement && element.tagName !== \"svg\";\n}\n\nexport { isSVGElement };\n","import { frame, cancelFrame } from '../frameloop/frame.mjs';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = performance.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.read(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\n\nexport { delay };\n","import { animateMotionValue } from './motion-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","import { invariant } from '../../../utils/errors.mjs';\nimport { isNumericalString } from '../../../utils/is-numerical-string.mjs';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token, fallback] = match;\n    return [token, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    else if (isCSSVariableToken(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, { ...target }, transitionEnd) {\n    const element = visualElement.current;\n    if (!(element instanceof Element))\n        return { target, transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = { ...transitionEnd };\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.values.forEach((value) => {\n        const current = value.get();\n        if (!isCSSVariableToken(current))\n            return;\n        const resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (const key in target) {\n        const current = target[key];\n        if (!isCSSVariableToken(current))\n            continue;\n        const resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        if (!transitionEnd)\n            transitionEnd = {};\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd[key] === undefined) {\n            transitionEnd[key] = current;\n        }\n    }\n    return { target, transitionEnd };\n}\n\nexport { parseCSSVariable, resolveCSSVariables };\n","import { isKeyframesTarget } from '../../../animation/utils/is-keyframes-target.mjs';\nimport { invariant } from '../../../utils/errors.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\nimport { findDimensionValueType } from '../value-types/dimensions.mjs';\nimport { isBrowser } from '../../../utils/is-browser.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n    \"translateX\",\n    \"translateY\",\n]);\nconst isPositionalKey = (key) => positionalKeys.has(key);\nconst hasPositionalKey = (target) => {\n    return Object.keys(target).some(isPositionalKey);\n};\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.render();\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\nconst convertChangedValueTypes = (target, visualElement, changedKeys) => {\n    const originBbox = visualElement.measureViewportBox();\n    const element = visualElement.current;\n    const elementComputedStyle = getComputedStyle(element);\n    const { display } = elementComputedStyle;\n    const origin = {};\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    /**\n     * Record origins before we render and update styles\n     */\n    changedKeys.forEach((key) => {\n        origin[key] = positionalValues[key](originBbox, elementComputedStyle);\n    });\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.render();\n    const targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach((key) => {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        const value = visualElement.getValue(key);\n        value && value.jump(origin[key]);\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nconst checkAndConvertChangedValueTypes = (visualElement, target, origin = {}, transitionEnd = {}) => {\n    target = { ...target };\n    transitionEnd = { ...transitionEnd };\n    const targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    let removedTransformValues = [];\n    let hasAttemptedToRemoveTransformValues = false;\n    const changedValueTypeKeys = [];\n    targetPositionalKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        let from = origin[key];\n        let fromType = findDimensionValueType(from);\n        const to = target[key];\n        let toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            const numKeyframes = to.length;\n            const fromIndex = to[0] === null ? 1 : 0;\n            from = to[fromIndex];\n            fromType = findDimensionValueType(from);\n            for (let i = fromIndex; i < numKeyframes; i++) {\n                /**\n                 * Don't allow wildcard keyframes to be used to detect\n                 * a difference in value types.\n                 */\n                if (to[i] === null)\n                    break;\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                const current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues =\n                        removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                value.jump(to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        const scrollY = changedValueTypeKeys.indexOf(\"height\") >= 0\n            ? window.pageYOffset\n            : null;\n        const convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(([key, value]) => {\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.render();\n        // Restore scroll position\n        if (isBrowser && scrollY !== null) {\n            window.scrollTo({ top: scrollY });\n        }\n        return { target: convertedTarget, transitionEnd };\n    }\n    else {\n        return { target, transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target, transitionEnd };\n}\n\nexport { positionalValues, unitConversion };\n","import { resolveCSSVariables } from './css-variables-conversion.mjs';\nimport { unitConversion } from './unit-conversion.mjs';\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nconst parseDomVariant = (visualElement, target, origin, transitionEnd) => {\n    const resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nexport { parseDomVariant };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","import { warning, invariant } from '../utils/errors.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { isRefObject } from '../utils/is-ref-object.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { motionValue } from '../value/index.mjs';\nimport { isWillChangeMotionValue } from '../value/use-will-change/is.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { transformProps } from './html/utils/transform.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from './utils/is-variant-label.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { variantProps } from './utils/variant-props.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nconst featureNames = Object.keys(featureDefinitions);\nconst numFeatures = featureNames.length;\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\nconst numVariantProps = variantProps.length;\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    constructor({ parent, props, presenceContext, reducedMotionConfig, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.scheduleRender = () => frame.render(this.render, false, true);\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {});\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n                if (isWillChangeMotionValue(willChange)) {\n                    willChange.add(key);\n                }\n            }\n        }\n    }\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps) {\n        return {};\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n        }\n        if (this.parent)\n            this.parent.children.add(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        visualElementStore.delete(this.current);\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent && this.parent.children.delete(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            this.features[key].unmount();\n        }\n        this.current = null;\n    }\n    bindToMotionValue(key, value) {\n        const valueIsTransform = transformProps.has(key);\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate &&\n                frame.update(this.notifyUpdate, false, true);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n        });\n        const removeOnRenderRequest = value.on(\"renderRequest\", this.scheduleRender);\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            removeOnRenderRequest();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    loadFeatures({ children, ...renderedProps }, isStrict, preloadedFeatures, initialLayoutGroupConfig) {\n        let ProjectionNodeConstructor;\n        let MeasureLayout;\n        /**\n         * If we're in development mode, check to make sure we're not rendering a motion component\n         * as a child of LazyMotion, as this will break the file-size benefits of using it.\n         */\n        if (process.env.NODE_ENV !== \"production\" &&\n            preloadedFeatures &&\n            isStrict) {\n            const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n            renderedProps.ignoreStrict\n                ? warning(false, strictMessage)\n                : invariant(false, strictMessage);\n        }\n        for (let i = 0; i < numFeatures; i++) {\n            const name = featureNames[i];\n            const { isEnabled, Feature: FeatureConstructor, ProjectionNode, MeasureLayout: MeasureLayoutComponent, } = featureDefinitions[name];\n            if (ProjectionNode)\n                ProjectionNodeConstructor = ProjectionNode;\n            if (isEnabled(renderedProps)) {\n                if (!this.features[name] && FeatureConstructor) {\n                    this.features[name] = new FeatureConstructor(this);\n                }\n                if (MeasureLayoutComponent) {\n                    MeasureLayout = MeasureLayoutComponent;\n                }\n            }\n        }\n        if (!this.projection && ProjectionNodeConstructor) {\n            this.projection = new ProjectionNodeConstructor(this.latestValues, this.parent && this.parent.projection);\n            const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, } = renderedProps;\n            this.projection.setOptions({\n                layoutId,\n                layout,\n                alwaysMeasureLayout: Boolean(drag) ||\n                    (dragConstraints && isRefObject(dragConstraints)),\n                visualElement: this,\n                scheduleRender: () => this.scheduleRender(),\n                /**\n                 * TODO: Update options in an effect. This could be tricky as it'll be too late\n                 * to update by the time layout animations run.\n                 * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n                 * ensuring it gets called if there's no potential layout animations.\n                 *\n                 */\n                animationType: typeof layout === \"string\" ? layout : \"both\",\n                initialPromotionConfig: initialLayoutGroupConfig,\n                layoutScroll,\n                layoutRoot,\n            });\n        }\n        return MeasureLayout;\n    }\n    updateFeatures() {\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature.isMounted) {\n                feature.update();\n            }\n            else {\n                feature.mount();\n                feature.isMounted = true;\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.options, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Make a target animatable by Popmotion. For instance, if we're\n     * trying to animate width from 100px to 100vw we need to measure 100vw\n     * in pixels to determine what we really need to animate to. This is also\n     * pluggable to support Framer's custom value types like Color,\n     * and CSS variables.\n     */\n    makeTargetAnimatable(target, canMutate = true) {\n        return this.makeTargetAnimatableFromInstance(target, this.props, canMutate);\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listener = props[\"on\" + key];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    getVariantContext(startAtParent = false) {\n        if (startAtParent) {\n            return this.parent ? this.parent.getVariantContext() : undefined;\n        }\n        if (!this.isControllingVariants) {\n            const context = this.parent\n                ? this.parent.getVariantContext() || {}\n                : {};\n            if (this.props.initial !== undefined) {\n                context.initial = this.props.initial;\n            }\n            return context;\n        }\n        const context = {};\n        for (let i = 0; i < numVariantProps; i++) {\n            const name = variantProps[i];\n            const prop = this.props[name];\n            if (isVariantLabel(prop) || prop === false) {\n                context[name] = prop;\n            }\n        }\n        return context;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        if (value !== this.values.get(key)) {\n            this.removeValue(key);\n            this.bindToMotionValue(key, value);\n        }\n        this.values.set(key, value);\n        this.latestValues[key] = value.get();\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key) {\n        var _a;\n        return this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : (_a = this.getBaseTargetFromProps(this.props, key)) !== null && _a !== void 0 ? _a : this.readValueFromInstance(this.current, key, this.options);\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        var _a;\n        const { initial } = this.props;\n        const valueFromInitial = typeof initial === \"string\" || typeof initial === \"object\"\n            ? (_a = resolveVariantFromProps(this.props, initial)) === null || _a === void 0 ? void 0 : _a[key]\n            : undefined;\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n}\n\nexport { VisualElement };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { warnOnce } from '../../utils/warn-once.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    const { willChange } = next;\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.add(key);\n            }\n            /**\n             * Check the version of the incoming motion value with this version\n             * and warn against mismatches.\n             */\n            if (process.env.NODE_ENV === \"development\") {\n                warnOnce(nextValue.version === \"10.16.4\", `Attempting to mix Framer Motion versions ${nextValue.version} with 10.16.4 may not work as expected.`);\n            }\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.remove(key);\n            }\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { getOrigin, checkTargetForNewValues } from '../utils/setters.mjs';\nimport { parseDomVariant } from './utils/parse-dom-variant.mjs';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style ? props.style[key] : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    makeTargetAnimatableFromInstance({ transition, transitionEnd, ...target }, { transformValues }, isMounted) {\n        let origin = getOrigin(target, transition || {}, this);\n        /**\n         * If Framer has provided a function to convert `Color` etc value types, convert them\n         */\n        if (transformValues) {\n            if (transitionEnd)\n                transitionEnd = transformValues(transitionEnd);\n            if (target)\n                target = transformValues(target);\n            if (origin)\n                origin = transformValues(origin);\n        }\n        if (isMounted) {\n            checkTargetForNewValues(this, target, origin);\n            const parsed = parseDomVariant(this, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return {\n            transition,\n            transitionEnd,\n            ...target,\n        };\n    }\n}\n\nexport { DOMVisualElement };\n","import { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariableName } from '../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, options, props) {\n        buildHTMLStyles(renderState, latestValues, options, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current)\n                    this.current.textContent = `${latest}`;\n            });\n        }\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderHTML(instance, renderState, styleProp, projection);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","import { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { transformProps } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.isSVGTag = false;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    measureInstanceViewportBox() {\n        return createBox();\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    build(renderState, latestValues, options, props) {\n        buildSVGAttrs(renderState, latestValues, options, this.isSVGTag, props.transformTemplate);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options, { enableHardwareAcceleration: false })\n        : new HTMLVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { createMotionComponent } from '../../motion/index.mjs';\nimport { createMotionProxy } from './motion-proxy.mjs';\nimport { createDomMotionConfig } from './utils/create-config.mjs';\nimport { gestureAnimations } from '../../motion/features/gestures.mjs';\nimport { animations } from '../../motion/features/animations.mjs';\nimport { drag } from '../../motion/features/drag.mjs';\nimport { createDomVisualElement } from './create-visual-element.mjs';\nimport { layout } from '../../motion/features/layout.mjs';\n\nconst preloadedFeatures = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nconst motion = /*@__PURE__*/ createMotionProxy((Component, config) => createDomMotionConfig(Component, config, preloadedFeatures, createDomVisualElement));\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, preloadedFeatures, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","import { isSVGComponent } from './is-svg-component.mjs';\nimport { createUseRender } from '../use-render.mjs';\nimport { svgMotionConfig } from '../../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../../html/config-motion.mjs';\n\nfunction createDomMotionConfig(Component, { forwardMotionProps = false }, preloadedFeatures, createVisualElement) {\n    const baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return {\n        ...baseConfig,\n        preloadedFeatures,\n        useRender: createUseRender(forwardMotionProps),\n        createVisualElement,\n        Component,\n    };\n}\n\nexport { createDomMotionConfig };\n","export const stagger = {\n  animate: {\n    transition: {\n      delayChildren: 0.3,\n      staggerChildren: 0.2,\n    },\n  },\n};\n\nexport const fadeIn = {\n  initial: {\n    opacity: 0,\n  },\n  animate: {\n    opacity: 1,\n    transition: {\n      duration: 0.3,\n    },\n  },\n};\n\nexport const fadeFromTop = {\n  initial: {\n    y: -10,\n    opacity: 0,\n  },\n  animate: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.3,\n    },\n  },\n};\n\nexport const fadeFromBottom = {\n  initial: {\n    y: 10,\n    opacity: 0,\n  },\n  animate: {\n    y: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.3,\n    },\n  },\n};\n\nexport const fadeFromLeft = {\n  initial: {\n    x: -10,\n    opacity: 0,\n  },\n  animate: {\n    x: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.3,\n    },\n  },\n};\n\nexport const fadeFromRight = {\n  initial: {\n    x: 10,\n    opacity: 0,\n  },\n  animate: {\n    x: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.3,\n    },\n  },\n};\n","import styled, { css } from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { fadeFromBottom } from \"../animate\";\nimport media from \"../media\";\n\nexport const ButtonStyles = css`\n  padding: 1rem 2rem;\n\n  border: none;\n  border-radius: 100px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  font-weight: 500;\n\n  transition: box-shadow 200ms ease;\n\n  & > svg {\n    width: 1.25em;\n    height: 1.25em;\n\n    margin-right: 0.8rem;\n    margin-left: -0.4rem;\n\n    fill: currentColor;\n  }\n`;\n\nexport const StyledButtonPrimary = styled.button`\n  ${ButtonStyles};\n\n  color: white;\n  background: var(--bg-btn-primary);\n\n  &:hover {\n    background: var(--bg-btn-primary-hover);\n  }\n`;\n\nexport const StyledDownloadButton = styled(motion.div).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  & > a {\n    ${ButtonStyles};\n\n    min-height: 4.8rem;\n    min-width: 24rem;\n    font-size: 1.6rem;\n    padding: 1.2rem 2.4rem;\n\n    color: white;\n    border-radius: 100px;\n    background: var(--bg-btn-primary);\n    box-shadow: 0 4px 16px 0 var(--cl-shadow-secondary);\n\n    &:hover {\n      background: var(--bg-btn-primary-hover);\n      box-shadow: 0 8px 40px 0 var(--cl-shadow-secondary);\n    }\n\n    & > svg {\n      width: 2.2rem;\n      height: 2.2rem;\n      margin-right: 1rem;\n      margin-left: -0.6rem;\n    }\n  }\n`;\n\nexport const StyledCTADownloader = styled(StyledDownloadButton)`\n  min-width: 25rem;\n`;\n\nexport const StyledGithubLink = styled.button`\n  ${ButtonStyles};\n\n  min-height: 4.8rem;\n  min-width: 25rem;\n  font-size: 1.6rem;\n  padding: 1.2rem 2.4rem;\n  border-radius: 10rem;\n  color: var(--cl-github-btn);\n  background: var(--bg-github-btn);\n  box-shadow: 0 4px 16px 0 var(--cl-shadow-secondary);\n\n  &:hover {\n    background: var(--bg-github-btn-hover);\n    box-shadow: 0 8px 40px 0 var(--cl-shadow-secondary);\n  }\n\n  & > svg {\n    width: 2.2rem;\n    height: 2.2rem;\n    margin-right: 1rem;\n  }\n\n  ${media.laptopSm} {\n    min-width: 24rem;\n  }\n`;\n","import { css } from \"styled-components\";\nimport media from \"./media\";\n\nexport const SectionStyle = css`\n  position: relative;\n\n  width: 100%;\n  height: max-content;\n\n  padding: 10rem 5.6rem;\n\n  &:nth-child(even) {\n    background: var(--bg-primary);\n  }\n\n  ${media.laptopSm} {\n    padding: 6.4rem 4rem;\n  }\n\n  ${media.tabletSm} {\n    padding: 5.6rem 2rem;\n  }\n\n  ${media.mobileXs} {\n    padding: 5.6rem 1.6rem;\n  }\n`;\n\nexport const SectionContentStyle = css`\n  width: 100%;\n  max-width: 130rem;\n  height: 100%;\n\n  margin: 0 auto;\n\n  display: grid;\n  row-gap: 6rem;\n  align-content: start;\n  animation: fadeIn ease 160ms;\n\n  ${media.laptopMd} {\n    max-width: 116.8rem;\n  }\n\n  ${media.laptopSm} {\n    max-width: 106.8rem;\n    row-gap: 4.8rem;\n  }\n\n  ${media.laptopXs} {\n    max-width: 90rem;\n  }\n`;\n","import styled from \"styled-components\";\nimport { Link as ScrollLink } from \"react-scroll\";\nimport { motion } from \"framer-motion\";\nimport { ButtonStyles } from \"./button\";\nimport { fadeFromTop, stagger } from \"../animate\";\nimport { SectionContentStyle } from \"../mixins\";\nimport media from \"../media\";\n\ntype MenuProps = {\n  isMenuOpen?: boolean;\n};\n\nexport const StyledNav = styled(motion.nav).attrs(() => ({\n  initial: \"initial\",\n  animate: \"animate\",\n  variants: stagger,\n}))<MenuProps>`\n  width: 100%;\n  height: 6.4rem;\n\n  padding: 0 5.6rem;\n\n  background-color: ${(p) =>\n    p.isMenuOpen\n      ? \"var(--bg-primary)\"\n      : \"rgba(var(--bg-primary-rgb), 0.8)\"};\n  backdrop-filter: saturate(180%) blur(5px);\n\n  position: sticky;\n  top: 0;\n  left: 0;\n  z-index: 100;\n\n  ${media.laptopSm} {\n    padding: 0 4rem;\n  }\n\n  ${media.tabletSm} {\n    padding: 0 2rem;\n  }\n\n  ${media.mobileXs} {\n    padding: 0 1.6rem;\n  }\n`;\n\nexport const StyledNavHeader = styled(motion.header).attrs(() => ({\n  variants: fadeFromTop,\n}))`\n  ${SectionContentStyle};\n\n  max-width: 100rem;\n\n  align-content: center;\n  grid-template-columns: max-content 1fr;\n  column-gap: 4rem;\n\n  ${media.laptopMd} {\n    max-width: 90rem;\n  }\n\n  ${media.laptopSm} {\n    column-gap: 2.8rem;\n  }\n`;\n\nexport const StyledNavLogo = styled(motion.div).attrs(() => ({}))`\n  display: flex;\n  align-items: center;\n\n  & > a {\n    display: grid;\n    align-items: center;\n    grid-auto-flow: column;\n\n    font-size: 2rem;\n    font-weight: 700;\n\n    text-transform: capitalize;\n    color: var(--cl-display-text);\n\n    & > svg {\n      width: 1.5em;\n      height: 1.5em;\n      margin-right: 1rem;\n      color: var(--cl-primary);\n      background-color: transparent;\n      border-radius: 0.8rem;\n    }\n  }\n`;\n\nexport const StyledNavContent = styled(motion.div).attrs(() => ({}))`\n  display: grid;\n  align-content: start;\n  justify-items: end;\n  grid-auto-flow: column;\n  column-gap: 4rem;\n\n  margin-bottom: -4px;\n\n  ${media.laptopSm} {\n    column-gap: 2.8rem;\n  }\n\n  ${media.laptopXs} {\n    display: none;\n  }\n`;\n\nexport const StyledNavLinks = styled(motion.ul).attrs(() => ({}))`\n  width: max-content;\n  justify-self: start;\n\n  list-style: none;\n  display: flex;\n  align-items: center;\n\n  font-size: 1.6rem;\n  font-weight: 500;\n  color: var(--cl-heading-text);\n\n  cursor: pointer;\n\n  ${media.laptopXs} {\n    width: 100%;\n    display: grid;\n    row-gap: 2rem;\n    padding-left: 6.4rem;\n\n    font-weight: 500;\n\n    & > li:not(:last-of-type) {\n      margin-right: 0;\n    }\n  }\n\n  & > li:not(:last-of-type) {\n    margin-right: 2rem;\n\n    ${media.laptopSm} {\n      margin-right: 1.6rem;\n    }\n  }\n\n  & > li a:hover,\n  & > li a.active {\n    color: var(--cl-primary-variant);\n  }\n`;\n\nexport const StyledNavLinkItem = styled(motion.li).attrs(() => ({}))``;\n\nexport const StyledNavLinkAnchor = styled(ScrollLink)``;\n\nexport const StyledNavButtonWrapper = styled(motion.div).attrs(\n  () => ({})\n)`\n  display: grid;\n  align-items: center;\n  grid-template-columns: repeat(2, max-content);\n  column-gap: 2rem;\n\n  ${media.laptopXs} {\n    grid-template-columns: 1fr;\n    row-gap: 2rem;\n    max-width: 92rem;\n    margin-bottom: 0.8rem;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  ${media.tabletXl} {\n    max-width: 77.6rem;\n  }\n`;\n\nexport const StyledNavThemeToggler = styled(motion.button).attrs(\n  () => ({})\n)`\n  padding: 0.8rem 1.2rem;\n\n  border: none;\n  border-radius: 10rem;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  font-size: 1.6rem;\n  color: var(--cl-heading-text);\n  background-color: transparent;\n\n  ${media.laptopXs} {\n    border: 1px solid var(--border-secondary);\n    padding: 1rem;\n  }\n\n  &:hover {\n    color: var(--cl-display-text);\n  }\n\n  &:hover > svg {\n    fill: var(--cl-heading-text);\n  }\n\n  & > svg {\n    width: 1.25em;\n    height: 1.25em;\n\n    margin-left: 1.2rem;\n\n    fill: var(--cl-body-text);\n  }\n`;\n\nexport const StyledScrollToDownload = styled(motion.div).attrs(\n  () => ({})\n)`\n  & > a {\n    ${ButtonStyles};\n    font-size: 1.4rem;\n    border-radius: 10rem;\n    color: #fff;\n    background: var(--bg-btn-primary);\n    box-shadow: 0 0 0 0 var(--cl-shadow-secondary);\n\n    &:hover {\n      background: var(--bg-btn-primary-hover);\n      box-shadow: 0 4px 16px 0 var(--cl-shadow-secondary);\n    }\n\n    ${media.laptopXs} {\n      margin-top: 4rem;\n      padding: 1.2rem;\n      max-width: 92rem;\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    ${media.tabletXl} {\n      max-width: 77.6rem;\n    }\n  }\n`;\n\nexport const StyledBackButton = styled.button`\n  ${ButtonStyles};\n  font-size: 1.4rem;\n  border-radius: 10rem;\n  color: #fff;\n  background: var(--bg-btn-primary);\n  box-shadow: 0 0 0 0 var(--cl-shadow-secondary);\n\n  &:hover {\n    background: var(--bg-btn-primary-hover);\n    box-shadow: 0 4px 16px 0 var(--cl-shadow-secondary);\n  }\n`;\n\nexport const StyledNavMenu = styled(motion.div).attrs(\n  () => ({})\n)<MenuProps>`\n  justify-self: end;\n  border: none;\n  border-radius: 3px;\n  background-color: transparent;\n\n  display: none;\n  row-gap: 4px;\n  align-content: center;\n\n  ${media.laptopXs} {\n    display: grid;\n  }\n\n  & > span {\n    width: 24px;\n    height: 3px;\n\n    border-radius: 3px;\n    background-color: ${(p) =>\n      p.isMenuOpen ? \"var(--cl-primary)\" : \"var(--cl-body-text)\"};\n    transition: all 160ms ease;\n\n    &:nth-of-type(1) {\n      transform-origin: left;\n      transform: ${(p) =>\n        p.isMenuOpen ? \"rotate(45deg)\" : \"rotate(0deg)\"};\n      margin-bottom: ${(p) => (p.isMenuOpen ? \"1.5px\" : \"0\")};\n    }\n\n    &:nth-of-type(2) {\n      opacity: ${(p) => (p.isMenuOpen ? \"0\" : \"1\")};\n      transform: ${(p) =>\n        p.isMenuOpen ? \"translateX(12px)\" : \"translateX(0)\"};\n    }\n\n    &:nth-of-type(3) {\n      transform-origin: left;\n      transform: ${(p) =>\n        p.isMenuOpen ? \"rotate(-45deg)\" : \"rotate(0deg)\"};\n      margin-top: ${(p) => (p.isMenuOpen ? \"1.5px\" : \"0\")};\n    }\n  }\n`;\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { stagger, fadeFromBottom } from \"../animate\";\nimport media from \"../media\";\n\nexport const StyledHeader = styled(motion.header).attrs(() => ({\n  initial: \"initial\",\n  variants: stagger,\n}))`\n  text-align: center;\n  max-width: 60rem;\n\n  margin: 0 auto;\n\n  display: grid;\n  row-gap: 2rem;\n  align-content: start;\n\n  position: relative;\n\n  &::before {\n    counter-increment: header;\n    content: \"0\" counter(header) \".\";\n    color: var(--cl-disabled-text);\n    font-size: 3.2rem;\n    font-weight: 700;\n    opacity: 0.1;\n  }\n`;\n\nexport const StyledHeading = styled(motion.h3).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  font-size: 3.2rem;\n  font-weight: 700;\n\n  position: relative;\n\n  ${media.mobileMd} {\n    font-size: 2.8rem;\n  }\n\n  & > span {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: -1;\n    opacity: 0;\n  }\n\n  &::before {\n    content: attr(data-after);\n    background: linear-gradient(\n      to bottom,\n      var(--cl-primary),\n      var(--cl-primary-variant)\n    );\n    background-clip: text;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n  }\n\n  &::after {\n    content: attr(data-after);\n    position: absolute;\n    color: var(--cl-disabled-text);\n    opacity: 0.04;\n    font-size: 20rem;\n    top: -2rem;\n    left: 50%;\n    transform: translateX(-50%);\n    overflow-x: hidden;\n\n    ${media.tabletXl} {\n      font-size: 16rem;\n    }\n\n    ${media.tabletLg} {\n      font-size: 14rem;\n    }\n\n    ${media.tabletMd} {\n      font-size: 12rem;\n    }\n\n    ${media.tabletSm} {\n      display: none;\n    }\n  }\n`;\n\nexport const StyledSubHeading = styled(motion.h4).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  font-size: 6.4rem;\n  font-weight: 700;\n  color: var(--cl-display-text);\n  z-index: 1;\n\n  ${media.mobileXl} {\n    font-size: 5.6rem;\n  }\n\n  ${media.mobileLg} {\n    font-size: 5.2rem;\n  }\n\n  ${media.mobileSm} {\n    font-size: 4.8rem;\n  }\n\n  ${media.mobileXs} {\n    font-size: 4rem;\n  }\n`;\n\nexport const StyledDescription = styled(motion.div).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  & > p {\n    font-size: 2rem;\n    color: var(--cl-body-text);\n    line-height: 1.7;\n\n    ${media.tabletSm} {\n      line-height: 1.5;\n    }\n\n    & > a {\n      color: var(--cl-primary);\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n`;\n","import styled from \"styled-components\";\nimport media from \"../media\";\n\nconst StyledGithubLink = styled.a`\n  &:hover {\n    color: var(--cl-primary-variant);\n  }\n\n  & > svg {\n    width: 2.4rem;\n    height: 2.4rem;\n    fill: currentColor;\n  }\n`;\n\nexport const StyledCopyrightText = styled.span`\n  font-size: 1.4rem;\n  font-weight: 700;\n  text-transform: capitalize;\n  margin-bottom: 0.8rem;\n  display: block;\n`;\n\nexport const StyledFooterNote = styled.p`\n  display: grid;\n  row-gap: 0.8rem;\n\n  & > a {\n    color: var(--cl-link);\n    font-size: 2rem;\n    font-weight: 700 !important;\n\n    &:hover {\n      color: var(--cl-link-hover);\n    }\n  }\n`;\n\nexport const StyledFooterContent = styled.div`\n  display: grid;\n  row-gap: 0.8rem;\n  height: max-content;\n  width: max-content;\n\n  margin: 0 auto;\n\n  & > a {\n    &:hover {\n      color: var(--cl-link-hover);\n    }\n\n    svg {\n      width: 2.2rem;\n      height: 2.2rem;\n      fill: currentColor;\n      margin-bottom: 0.8rem;\n    }\n  }\n`;\n\nexport const StyledFooter = styled.footer`\n  width: 100%;\n  min-height: 6.4rem;\n\n  padding: 3.2rem;\n  text-align: center;\n\n  background: var(--bg-secondary);\n  box-shadow: 0 1px 4px -1px var(--cl-shadow-secondary);\n\n  position: relative;\n\n  ${media.mobileLg} {\n    padding: 3.2rem 2rem;\n  }\n`;\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { SectionContentStyle } from \"../mixins\";\nimport { stagger } from \"../animate\";\nimport media from \"../media\";\n\nexport const StyledSidebar = styled(motion.aside).attrs(() => ({\n  initial: \"initial\",\n  animate: \"animate\",\n  variants: stagger,\n}))`\n  padding: 4rem 5.6rem;\n\n  background-color: var(--bg-primary);\n  border-top: 1px solid var(--border-tertiary);\n\n  position: fixed;\n  top: 6.4rem;\n  left: 0;\n  width: 100%;\n  min-height: calc(100% - 6.4rem);\n\n  z-index: 80;\n\n  ${media.laptopSm} {\n    padding: 4rem;\n  }\n\n  ${media.tabletSm} {\n    padding: 4rem 2rem;\n  }\n\n  ${media.mobileXs} {\n    padding: 4rem 1.6rem;\n  }\n`;\n\nexport const StyledSidebarList = styled.ul`\n  ${SectionContentStyle};\n\n  max-width: 100rem;\n  row-gap: 0 !important;\n\n  list-style: none;\n\n  & > li {\n    padding: 1.6rem 0;\n    font-size: 1.7rem;\n\n    color: var(--cl-heading-text);\n\n    position: relative;\n\n    &::after {\n      content: \"\";\n      position: absolute;\n      left: 0;\n      bottom: 0;\n\n      width: 100%;\n      height: 1px;\n\n      background-color: var(--border-secondary);\n    }\n  }\n`;\n","import styled, { css } from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nimport WaterMarkLeft from \"../../../assets/images/watermark-left.svg\";\nimport WaterMarkRight from \"../../../assets/images/watermark-right.svg\";\n\nimport { SectionStyle, SectionContentStyle } from \"../mixins\";\nimport { stagger, fadeFromBottom, fadeIn } from \"../animate\";\nimport media from \"../media\";\n\nexport const StyledHero = styled(motion.section).attrs(() => ({\n  initial: \"initial\",\n  animate: \"animate\",\n  variants: stagger,\n}))`\n  ${SectionStyle};\n  position: relative;\n  overflow: hidden;\n  padding-top: 8rem;\n\n  ${media.laptopSm} {\n    padding-top: 8rem;\n    padding-bottom: 8rem;\n  }\n`;\n\nexport const StyledHeroContent = styled.div`\n  ${SectionContentStyle};\n  row-gap: 10rem;\n`;\n\nexport const StyledWatermarkContainer = styled(motion.div).attrs(\n  () => ({\n    variants: fadeIn,\n  })\n)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n`;\n\nconst WaterMarkStyle = css`\n  position: absolute;\n  top: 0;\n\n  ${media.laptopXs} {\n    width: 38rem;\n    height: 38rem;\n  }\n\n  ${media.tabletXl} {\n    width: 32rem;\n    height: 32rem;\n  }\n\n  ${media.tabletMd} {\n    width: 28rem;\n    height: 28rem;\n  }\n\n  ${media.tabletSm} {\n    width: 24rem;\n    height: 24rem;\n  }\n\n  ${media.mobileLg} {\n    width: 20rem;\n    height: 20rem;\n  }\n\n  ${media.mobileXs} {\n    width: 16rem;\n    height: 16rem;\n  }\n`;\n\nexport const StyledWaterMarkLeft = styled(WaterMarkLeft)`\n  ${WaterMarkStyle};\n  left: 0;\n  margin-left: -2.4rem;\n\n  ${media.laptopXs} {\n    display: none;\n  }\n`;\n\nexport const StyledWaterMarkRight = styled(WaterMarkRight)`\n  ${WaterMarkStyle};\n  right: 0;\n  margin-right: -2.4rem;\n\n  ${media.laptopXs} {\n    display: none;\n  }\n`;\n\nexport const StyledHeroActionContainer = styled.div`\n  display: grid;\n  justify-content: center;\n  justify-items: center;\n\n  position: relative;\n  z-index: 10;\n`;\n\nexport const StyledHeroHeader = styled.header`\n  text-align: center;\n  max-width: 56rem;\n\n  margin: 0 auto;\n\n  display: grid;\n  row-gap: 2.4rem;\n`;\n\nexport const StyledHeroHeading = styled(motion.h1).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  font-size: 7.2rem;\n  font-weight: 700;\n  color: var(--cl-display-text);\n\n  ${media.tabletSm} {\n    line-height: normal;\n  }\n\n  ${media.mobileXl} {\n    font-size: 6.4rem;\n  }\n\n  ${media.mobileLg} {\n    font-size: 5.6rem;\n  }\n\n  ${media.mobileSm} {\n    font-size: 4.8rem;\n  }\n\n  ${media.mobileXs} {\n    font-size: 4.2rem;\n  }\n`;\n\nexport const StyledHeroDescription = styled(motion.h2).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  font-size: 2.2rem;\n  font-weight: 400;\n  line-height: 1.7;\n  margin-bottom: 4.8rem;\n\n  ${media.tabletSm} {\n    line-height: 1.5;\n  }\n\n  ${media.mobileXl} {\n    font-size: 2rem;\n  }\n`;\n\nexport const StyledHeroBetaDescription = styled(motion.h2).attrs(\n  () => ({\n    variants: fadeFromBottom,\n  })\n)`\n  font-size: 2rem;\n  font-weight: 400;\n  line-height: 1.7;\n  margin-top: 4.8rem;\n  margin-bottom: 2.8rem;\n\n  ${media.tabletSm} {\n    line-height: 1.5;\n  }\n\n  ${media.mobileXl} {\n    font-size: 2rem;\n  }\n`;\n\nexport const StyledHeroActionWrapper = styled(motion.div).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  display: grid;\n  grid-template-columns: repeat(3, max-content);\n  gap: 2rem;\n\n  ${media.tabletMd} {\n    width: 100%;\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const StyledPreviewWrapper = styled(motion.div).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  position: relative;\n  z-index: 10;\n\n  display: grid;\n  grid-template-columns: repeat(6, max-content);\n  align-items: center;\n  justify-content: center;\n\n  ${media.tabletLg} {\n    grid-template-columns: repeat(3, max-content);\n    row-gap: 3.2rem;\n    column-gap: -2rem;\n  }\n`;\n\nexport const StyledPreviewImage = styled.div`\n  background-color: var(--bg-primary);\n  position: relative;\n\n  &:nth-child(1),\n  &:nth-child(6) {\n    width: 20rem;\n    height: max-content;\n    z-index: 2;\n    box-shadow: 0 20px 40px var(--cl-shadow-primary);\n\n    ${media.laptopSm} {\n      width: 18rem;\n    }\n\n    @media screen and (max-width: 420px) {\n      width: 16rem !important;\n    }\n  }\n\n  &:nth-child(1) {\n    /* Task List */\n    margin-right: -1.6rem;\n\n    ${media.laptopMd} {\n      margin-right: -4.8rem;\n    }\n\n    ${media.laptopXs} {\n      margin-right: -9rem;\n    }\n\n    ${media.tabletXl} {\n      margin-right: -12.2rem;\n    }\n\n    ${media.tabletLg} {\n      grid-column: 1 / 2;\n\n      width: 20rem;\n      margin-right: -2.4rem;\n    }\n\n    ${media.tabletMd} {\n      grid-column: 1 / 2;\n\n      width: 20rem;\n      margin-right: -10.4rem;\n      transform: skewX(8deg) skewY(-8deg);\n    }\n\n    @media screen and (max-width: 420px) {\n      margin-right: -7.2rem;\n    }\n\n    ${media.mobileMd} {\n      margin-right: -10rem;\n    }\n  }\n\n  &:nth-child(6) {\n    /* Long Break */\n    margin-left: -1.6rem;\n\n    ${media.laptopMd} {\n      margin-left: -4.8rem;\n    }\n\n    ${media.laptopXs} {\n      margin-left: -9rem;\n    }\n\n    ${media.tabletXl} {\n      margin-left: -12.2rem;\n    }\n\n    ${media.tabletLg} {\n      grid-row: 1 / 2;\n      grid-column: 3 / 4;\n\n      width: 20rem;\n      margin-left: -2.4rem;\n    }\n\n    ${media.tabletMd} {\n      grid-row: 1 / 2;\n      grid-column: 3 / 4;\n\n      width: 20rem;\n      margin-left: -10.4rem;\n      transform: skewX(-8deg) skewY(8deg);\n    }\n\n    @media screen and (max-width: 420px) {\n      margin-left: -7.2rem;\n    }\n\n    ${media.mobileMd} {\n      margin-left: -10rem;\n    }\n  }\n\n  &:nth-child(2),\n  &:nth-child(5) {\n    width: 22rem;\n    height: max-content;\n    z-index: 4;\n    box-shadow: 0 20px 40px var(--cl-shadow-primary);\n\n    ${media.laptopSm} {\n      width: 20rem;\n    }\n\n    @media screen and (max-width: 420px) {\n      width: 16rem !important;\n    }\n  }\n\n  &:nth-child(2) {\n    /* Settings */\n    margin-right: -1.6rem;\n\n    ${media.laptopMd} {\n      margin-right: -4.8rem;\n    }\n\n    ${media.laptopXs} {\n      margin-right: -9rem;\n    }\n\n    ${media.tabletXl} {\n      margin-right: -12.2rem;\n    }\n\n    ${media.tabletLg} {\n      grid-row: 2 / 3;\n      grid-column: 3 / 4;\n\n      margin: 0;\n      margin-left: -2.4rem;\n    }\n\n    ${media.tabletMd} {\n      grid-row: 2 / 3;\n      grid-column: 3 / 4;\n\n      margin: 0;\n      margin-left: -10.4rem;\n      transform: skewX(-8deg) skewY(8deg);\n    }\n\n    @media screen and (max-width: 420px) {\n      margin-left: -7.2rem;\n    }\n\n    ${media.mobileMd} {\n      margin-left: -10rem;\n    }\n  }\n\n  &:nth-child(5) {\n    /* Short Break */\n    margin-left: -1.6rem;\n\n    ${media.laptopMd} {\n      margin-left: -4.8rem;\n    }\n\n    ${media.laptopXs} {\n      margin-left: -9rem;\n    }\n\n    ${media.tabletXl} {\n      margin-left: -12.2rem;\n    }\n\n    ${media.tabletLg} {\n      grid-row: 1 / 2;\n      grid-column: 1 / 2;\n\n      margin: 0;\n      margin-right: -2.4rem;\n    }\n\n    ${media.tabletMd} {\n      grid-row: 1 / 2;\n      grid-column: 1 / 2;\n\n      margin: 0;\n      margin-right: -10.4rem;\n      transform: skewX(8deg) skewY(-8deg);\n    }\n\n    @media screen and (max-width: 420px) {\n      margin-right: -7.2rem;\n    }\n\n    ${media.mobileMd} {\n      margin-right: -10rem;\n    }\n  }\n\n  &:nth-child(3),\n  &:nth-child(4) {\n    width: 25rem;\n    height: max-content;\n    z-index: 8;\n    box-shadow: 0 20px 40px var(--cl-shadow-primary);\n\n    ${media.laptopSm} {\n      width: 24rem;\n    }\n\n    @media screen and (max-width: 420px) {\n      width: 20rem !important;\n    }\n  }\n\n  &:nth-child(3) {\n    /* Config */\n    margin-right: 2rem;\n\n    ${media.tabletLg} {\n      grid-row: 2 / 3;\n      grid-column: 2 / 3;\n\n      margin: 0;\n    }\n  }\n\n  &:nth-child(4) {\n    /* Work Time */\n    ${media.tabletLg} {\n      grid-row: 1 / 2;\n      grid-column: 2 / 3;\n\n      margin: 0;\n    }\n  }\n`;\n","import styled, { css } from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nimport { SectionStyle, SectionContentStyle } from \"../mixins\";\nimport { stagger, fadeFromBottom } from \"../animate\";\n\nimport media from \"../media\";\n\nexport const StyledFeatures = styled.section`\n  ${SectionStyle};\n`;\n\nexport const StyledFeatureContent = styled.div`\n  ${SectionContentStyle};\n`;\n\nexport const StyledFeatureContainer = styled(motion.div).attrs(() => ({\n  initial: \"initial\",\n  variants: stagger,\n}))`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  column-gap: 2rem;\n\n  ${media.tabletMd} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const StyledStickyContainer = styled.div`\n  ${media.tabletMd} {\n    display: none;\n  }\n`;\n\nexport const StyledFeaturedImageWrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  justify-items: end;\n\n  margin-right: 4rem;\n\n  position: sticky;\n  top: 8rem;\n\n  ${media.laptopSm} {\n    margin-right: 2rem;\n  }\n`;\n\nexport const StyledFeaturedImage = styled(motion.div).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  width: 34rem;\n  height: 48rem;\n  background-color: var(--bg-primary);\n  box-shadow: 0 20px 40px var(--cl-shadow-primary);\n\n  ${media.laptopXs} {\n    width: 30rem;\n    height: max-content;\n  }\n\n  ${media.tabletLg} {\n    width: 26.4rem;\n    height: max-content;\n  }\n\n  &:nth-child(1) {\n    margin-right: -16rem;\n    z-index: 10;\n  }\n\n  &:nth-child(2) {\n    margin-top: 16rem;\n    z-index: 20;\n  }\n`;\n\nexport const StyledFeatureList = styled.ul`\n  list-style: none;\n\n  max-width: 40rem;\n\n  display: grid;\n  align-content: start;\n  justify-content: center;\n  gap: 4rem;\n\n  margin-bottom: 8rem;\n\n  ${media.laptopMd} {\n    gap: 4rem;\n  }\n\n  ${media.laptopSm} {\n    gap: 3.2rem;\n  }\n\n  ${media.tabletMd} {\n    max-width: 100%;\n    margin-bottom: 0;\n    gap: 2.4rem;\n  }\n\n  ${media.tabletSm} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FeatureItemStyle = css`\n  position: relative;\n  height: 100%;\n\n  display: grid;\n  align-content: start;\n  row-gap: 1.2rem;\n\n  color: var(--cl-display-text);\n\n  border-radius: 3px;\n  box-shadow: 0 0 0 0 var(--cl-primary-variant);\n  transition: all 200ms ease;\n\n  &:hover {\n    color: var(--cl-primary-variant);\n  }\n\n  &:last-of-type {\n    cursor: pointer;\n    height: max-content;\n  }\n\n  & > h5 {\n    font-size: 2.4rem;\n    font-weight: 700;\n\n    display: flex;\n    flex-direction: column;\n\n    color: currentColor;\n    z-index: 1;\n  }\n\n  & > p {\n    color: var(--cl-body-text);\n    z-index: 1;\n  }\n`;\n\nexport const StyledFeatureItem = styled(motion.li).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  ${FeatureItemStyle};\n\n  ${media.tabletMd} {\n    border-radius: 3px;\n    background-color: var(--bg-card);\n    box-shadow: 0 10px 40px -10px var(--cl-shadow-primary);\n    padding: 2rem 2.4rem;\n    padding-top: 1.8rem;\n    row-gap: 0.8rem;\n  }\n\n  & > a {\n    font-size: 2rem;\n    font-weight: 700;\n    color: var(--cl-body-text);\n\n    &:hover {\n      color: var(--cl-primary-variant);\n      text-decoration: underline;\n    }\n  }\n`;\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { SectionStyle, SectionContentStyle } from \"../mixins\";\nimport {\n  StyledFeatureList,\n  StyledFeatureItem,\n  StyledFeatureContainer,\n  StyledFeaturedImageWrapper,\n  StyledFeaturedImage,\n} from \"./features\";\nimport { stagger } from \"../animate\";\n\nexport const StyledRoadmap = styled.section`\n  ${SectionStyle}\n`;\n\nexport const StyledRoadmapContent = styled.div`\n  ${SectionContentStyle};\n`;\n\nexport const StyledRoadmapImageWrapper = styled(\n  StyledFeaturedImageWrapper\n)``;\n\nexport const StyledRoadmapImage = styled(StyledFeaturedImage)``;\n\nexport const StyledRoadmapContainer = styled(StyledFeatureContainer)``;\n\nexport const StyledRoadmapList = styled(StyledFeatureList)``;\n\nexport const StyledRoadmapItem = styled(StyledFeatureItem)``;\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nimport { SectionStyle, SectionContentStyle } from \"../mixins\";\nimport { stagger, fadeFromBottom } from \"../animate\";\n\nimport media from \"../media\";\n\nexport const StyledDownload = styled.section`\n  ${SectionStyle};\n\n  ${media.laptopSm} {\n    padding-bottom: 8rem;\n  }\n`;\n\nexport const StyledDownloadContent = styled.div`\n  ${SectionContentStyle};\n`;\n\nexport const StyledDownloadOSLogo = styled(motion.div).attrs(() => ({\n  variants: fadeFromBottom,\n}))`\n  & > svg {\n    width: 12rem;\n    height: 12rem;\n    fill: currentColor;\n  }\n`;\n\nexport const StyledDownloadButtonWrapper = styled(motion.div).attrs(\n  () => ({\n    initial: \"initial\",\n    variants: stagger,\n  })\n)`\n  display: grid;\n  align-items: start;\n  column-gap: 2rem;\n  row-gap: 4rem;\n  grid-template-columns: 1fr 2fr 1fr;\n\n  ${media.tabletLg} {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const StyledDownloadForWindows = styled.div`\n  color: var(--cl-primary-variant);\n\n  display: grid;\n  row-gap: 4.8rem;\n  justify-items: center;\n\n  ${media.tabletMd} {\n    row-gap: 3.2rem;\n  }\n`;\n\nexport const StyledLinuxOrSpan = styled(motion.span).attrs(() => ({\n  variants: fadeFromBottom,\n}))``;\n\nexport const StyledLinuxInstallerWrapper = styled.div`\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 2rem;\n\n  & > div > a {\n    min-width: max-content;\n  }\n\n  ${media.laptopXs} {\n    grid-template-columns: repeat(2, 1fr);\n\n    #app-image {\n      grid-row: 1 / 2;\n      grid-column: 2 / -1;\n    }\n\n    #rpm {\n      grid-column: 1 / -1;\n    }\n\n    & > div > span {\n      grid-column: 1 / -1 !important;\n    }\n  }\n\n  ${media.tabletMd} {\n    width: 100%;\n  }\n\n  & > span {\n    grid-column: 2 / 3;\n\n    font-weight: 500;\n\n    width: 100%;\n    height: 2rem;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    ${media.tabletXl} {\n      grid-column: 1 / -1;\n    }\n  }\n\n  #snap-store-btn {\n    grid-column: 1 / -1;\n    justify-self: center;\n\n    width: max-content;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    padding: 0 1.2rem;\n\n    & > a {\n      padding: 0 1.2rem;\n    }\n\n    & > a > span {\n      width: 0;\n      height: 0;\n      opacity: 0;\n    }\n\n    & > a > svg {\n      width: 182px;\n      height: 56px;\n      fill: transparent;\n\n      margin: 0 auto;\n    }\n  }\n`;\n\nexport const StyledDownloadForLinux = styled.div`\n  display: grid;\n  row-gap: 4.8rem;\n  justify-items: center;\n\n  ${media.tabletMd} {\n    row-gap: 3.2rem;\n  }\n`;\n\nexport const StyledDownloadForMac = styled.div`\n  color: var(--cl-display-text);\n\n  display: grid;\n  row-gap: 4.8rem;\n  justify-items: center;\n\n  ${media.tabletMd} {\n    row-gap: 3.2rem;\n  }\n`;\n","import styled from \"styled-components\";\nimport { Link } from \"gatsby\";\n\nimport { SectionStyle, SectionContentStyle } from \"../mixins\";\nimport { ButtonStyles } from \"../components\";\n\nimport { StyledHeroHeader } from \"./hero\";\n\nexport const StyledPageNotFound = styled.section`\n  ${SectionStyle};\n  min-height: calc(100vh - 14.9rem - 5.6rem);\n  position: relative;\n  overflow: hidden;\n`;\n\nexport const Styled404Content = styled.div`\n  ${SectionContentStyle};\n  row-gap: 4.8rem;\n  justify-content: center;\n`;\n\nexport const Styled404Header = styled(StyledHeroHeader)`\n  justify-items: center;\n  margin-top: 10rem;\n\n  & > svg {\n    width: 16rem;\n    height: 16rem;\n    fill: currentColor;\n  }\n`;\n\nexport const Styled404ActionWrapper = styled.div``;\n\nexport const Styled404HomeLink = styled(Link)`\n  ${ButtonStyles};\n\n  min-height: 4.8rem;\n  min-width: 25rem;\n  font-size: 1.6rem;\n  padding: 1.2rem 2.4rem;\n\n  color: white;\n  background: var(--bg-btn-primary);\n  box-shadow: 0 2px 4px 0 var(--cl-shadow-secondary);\n\n  &:hover {\n    box-shadow: 0 3px 6px 0 var(--cl-shadow-secondary);\n  }\n\n  & > svg {\n    width: 2.2rem;\n    height: 2.2rem;\n    margin-right: 1rem;\n    margin-left: -0.6rem;\n  }\n`;\n","export const isPreferredDark = (): boolean =>\n  window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n","export type OSTypes = \"Windows\" | \"MacOS\" | \"Linux\" | \"Mobile\";\n\nexport function detectOS(): OSTypes {\n  const { appVersion, userAgent } = navigator;\n\n  const regex = new RegExp(\"Android|webOS|iPhone|iPad|iPod\", \"i\");\n\n  if (regex.test(userAgent)) return \"Mobile\";\n\n  if (appVersion.indexOf(\"Win\") !== -1) return \"Windows\";\n  if (appVersion.indexOf(\"Mac\") !== -1) return \"MacOS\";\n  if (appVersion.indexOf(\"Linux\") !== -1) return \"Linux\";\n\n  return \"Windows\";\n}\n","export const saveToStorage = (name: string, state: any) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(name, serializedState);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const getFromStorage = (name: string) => {\n  try {\n    const serializedState = localStorage.getItem(name);\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (error) {\n    console.error(error);\n    return undefined;\n  }\n};\n","export const isSSR = typeof window === \"undefined\";\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollLink = require('../mixins/scroll-link');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ButtonElement = function (_React$Component) {\n  _inherits(ButtonElement, _React$Component);\n\n  function ButtonElement() {\n    _classCallCheck(this, ButtonElement);\n\n    return _possibleConstructorReturn(this, (ButtonElement.__proto__ || Object.getPrototypeOf(ButtonElement)).apply(this, arguments));\n  }\n\n  _createClass(ButtonElement, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'input',\n        this.props,\n        this.props.children\n      );\n    }\n  }]);\n\n  return ButtonElement;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _scrollLink2.default)(ButtonElement);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollElement = require('../mixins/scroll-element');\n\nvar _scrollElement2 = _interopRequireDefault(_scrollElement);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ElementWrapper = function (_React$Component) {\n  _inherits(ElementWrapper, _React$Component);\n\n  function ElementWrapper() {\n    _classCallCheck(this, ElementWrapper);\n\n    return _possibleConstructorReturn(this, (ElementWrapper.__proto__ || Object.getPrototypeOf(ElementWrapper)).apply(this, arguments));\n  }\n\n  _createClass(ElementWrapper, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      // Remove `parentBindings` from props\n      var newProps = _extends({}, this.props);\n      if (newProps.parentBindings) {\n        delete newProps.parentBindings;\n      }\n\n      return _react2.default.createElement(\n        'div',\n        _extends({}, newProps, { ref: function ref(el) {\n            _this2.props.parentBindings.domNode = el;\n          } }),\n        this.props.children\n      );\n    }\n  }]);\n\n  return ElementWrapper;\n}(_react2.default.Component);\n\n;\n\nElementWrapper.propTypes = {\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string\n};\n\nexports.default = (0, _scrollElement2.default)(ElementWrapper);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollLink = require('../mixins/scroll-link');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LinkElement = function (_React$Component) {\n  _inherits(LinkElement, _React$Component);\n\n  function LinkElement() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LinkElement);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LinkElement.__proto__ || Object.getPrototypeOf(LinkElement)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      return _react2.default.createElement(\n        'a',\n        _this.props,\n        _this.props.children\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  return LinkElement;\n}(_react2.default.Component);\n\n;\n\nexports.default = (0, _scrollLink2.default)(LinkElement);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Helpers = exports.ScrollElement = exports.ScrollLink = exports.animateScroll = exports.scrollSpy = exports.Events = exports.scroller = exports.Element = exports.Button = exports.Link = undefined;\n\nvar _Link = require('./components/Link.js');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _Button = require('./components/Button.js');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _Element = require('./components/Element.js');\n\nvar _Element2 = _interopRequireDefault(_Element);\n\nvar _scroller = require('./mixins/scroller.js');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _scrollEvents = require('./mixins/scroll-events.js');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nvar _scrollSpy = require('./mixins/scroll-spy.js');\n\nvar _scrollSpy2 = _interopRequireDefault(_scrollSpy);\n\nvar _animateScroll = require('./mixins/animate-scroll.js');\n\nvar _animateScroll2 = _interopRequireDefault(_animateScroll);\n\nvar _scrollLink = require('./mixins/scroll-link.js');\n\nvar _scrollLink2 = _interopRequireDefault(_scrollLink);\n\nvar _scrollElement = require('./mixins/scroll-element.js');\n\nvar _scrollElement2 = _interopRequireDefault(_scrollElement);\n\nvar _Helpers = require('./mixins/Helpers.js');\n\nvar _Helpers2 = _interopRequireDefault(_Helpers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Link = _Link2.default;\nexports.Button = _Button2.default;\nexports.Element = _Element2.default;\nexports.scroller = _scroller2.default;\nexports.Events = _scrollEvents2.default;\nexports.scrollSpy = _scrollSpy2.default;\nexports.animateScroll = _animateScroll2.default;\nexports.ScrollLink = _scrollLink2.default;\nexports.ScrollElement = _scrollElement2.default;\nexports.Helpers = _Helpers2.default;\nexports.default = { Link: _Link2.default, Button: _Button2.default, Element: _Element2.default, scroller: _scroller2.default, Events: _scrollEvents2.default, scrollSpy: _scrollSpy2.default, animateScroll: _animateScroll2.default, ScrollLink: _scrollLink2.default, ScrollElement: _scrollElement2.default, Helpers: _Helpers2.default };","\"use strict\";\n\n/* DEPRECATED */\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar utils = require('./utils');\nvar scrollSpy = require('./scroll-spy');\nvar defaultScroller = require('./scroller');\nvar PropTypes = require('prop-types');\nvar scrollHash = require('./scroll-hash');\n\nvar protoTypes = {\n  to: PropTypes.string.isRequired,\n  containerId: PropTypes.string,\n  container: PropTypes.object,\n  activeClass: PropTypes.string,\n  spy: PropTypes.bool,\n  smooth: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  offset: PropTypes.number,\n  delay: PropTypes.number,\n  isDynamic: PropTypes.bool,\n  onClick: PropTypes.func,\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  absolute: PropTypes.bool,\n  onSetActive: PropTypes.func,\n  onSetInactive: PropTypes.func,\n  ignoreCancelEvents: PropTypes.bool,\n  hashSpy: PropTypes.bool,\n  spyThrottle: PropTypes.number\n};\n\nvar Helpers = {\n  Scroll: function Scroll(Component, customScroller) {\n\n    console.warn(\"Helpers.Scroll is deprecated since v1.7.0\");\n\n    var scroller = customScroller || defaultScroller;\n\n    var Scroll = function (_React$Component) {\n      _inherits(Scroll, _React$Component);\n\n      function Scroll(props) {\n        _classCallCheck(this, Scroll);\n\n        var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        _this.state = {\n          active: false\n        };\n        return _this;\n      }\n\n      _createClass(Scroll, [{\n        key: 'getScrollSpyContainer',\n        value: function getScrollSpyContainer() {\n          var containerId = this.props.containerId;\n          var container = this.props.container;\n\n          if (containerId) {\n            return document.getElementById(containerId);\n          }\n\n          if (container && container.nodeType) {\n            return container;\n          }\n\n          return document;\n        }\n      }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          if (this.props.spy || this.props.hashSpy) {\n            var scrollSpyContainer = this.getScrollSpyContainer();\n\n            if (!scrollSpy.isMounted(scrollSpyContainer)) {\n              scrollSpy.mount(scrollSpyContainer, this.props.spyThrottle);\n            }\n\n            if (this.props.hashSpy) {\n              if (!scrollHash.isMounted()) {\n                scrollHash.mount(scroller);\n              }\n              scrollHash.mapContainer(this.props.to, scrollSpyContainer);\n            }\n\n            if (this.props.spy) {\n              scrollSpy.addStateHandler(this.stateHandler);\n            }\n\n            scrollSpy.addSpyHandler(this.spyHandler, scrollSpyContainer);\n\n            this.setState({\n              container: scrollSpyContainer\n            });\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          scrollSpy.unmount(this.stateHandler, this.spyHandler);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var className = \"\";\n\n          if (this.state && this.state.active) {\n            className = ((this.props.className || \"\") + \" \" + (this.props.activeClass || \"active\")).trim();\n          } else {\n            className = this.props.className;\n          }\n\n          var props = _extends({}, this.props);\n\n          for (var prop in protoTypes) {\n            if (props.hasOwnProperty(prop)) {\n              delete props[prop];\n            }\n          }\n\n          props.className = className;\n          props.onClick = this.handleClick;\n\n          return React.createElement(Component, props);\n        }\n      }]);\n\n      return Scroll;\n    }(React.Component);\n\n    var _initialiseProps = function _initialiseProps() {\n      var _this2 = this;\n\n      this.scrollTo = function (to, props) {\n        scroller.scrollTo(to, _extends({}, _this2.state, props));\n      };\n\n      this.handleClick = function (event) {\n\n        /*\r\n         * give the posibility to override onClick\r\n         */\n\n        if (_this2.props.onClick) {\n          _this2.props.onClick(event);\n        }\n\n        /*\r\n         * dont bubble the navigation\r\n         */\n\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.preventDefault) event.preventDefault();\n\n        /*\r\n         * do the magic!\r\n         */\n        _this2.scrollTo(_this2.props.to, _this2.props);\n      };\n\n      this.stateHandler = function () {\n        if (scroller.getActiveLink() !== _this2.props.to) {\n          if (_this2.state !== null && _this2.state.active && _this2.props.onSetInactive) {\n            _this2.props.onSetInactive();\n          }\n          _this2.setState({ active: false });\n        }\n      };\n\n      this.spyHandler = function (y) {\n\n        var scrollSpyContainer = _this2.getScrollSpyContainer();\n\n        if (scrollHash.isMounted() && !scrollHash.isInitialized()) {\n          return;\n        }\n\n        var to = _this2.props.to;\n        var element = null;\n        var elemTopBound = 0;\n        var elemBottomBound = 0;\n        var containerTop = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerTop = containerCords.top;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var cords = element.getBoundingClientRect();\n          elemTopBound = cords.top - containerTop + y;\n          elemBottomBound = elemTopBound + cords.height;\n        }\n\n        var offsetY = y - _this2.props.offset;\n        var isInside = offsetY >= Math.floor(elemTopBound) && offsetY < Math.floor(elemBottomBound);\n        var isOutside = offsetY < Math.floor(elemTopBound) || offsetY >= Math.floor(elemBottomBound);\n        var activeLink = scroller.getActiveLink();\n\n        if (isOutside) {\n          if (to === activeLink) {\n            scroller.setActiveLink(void 0);\n          }\n\n          if (_this2.props.hashSpy && scrollHash.getHash() === to) {\n            scrollHash.changeHash();\n          }\n\n          if (_this2.props.spy && _this2.state.active) {\n            _this2.setState({ active: false });\n            _this2.props.onSetInactive && _this2.props.onSetInactive();\n          }\n\n          return scrollSpy.updateStates();\n        }\n\n        if (isInside && activeLink !== to) {\n          scroller.setActiveLink(to);\n\n          _this2.props.hashSpy && scrollHash.changeHash(to);\n\n          if (_this2.props.spy) {\n            _this2.setState({ active: true });\n            _this2.props.onSetActive && _this2.props.onSetActive(to);\n          }\n          return scrollSpy.updateStates();\n        }\n      };\n    };\n\n    ;\n\n    Scroll.propTypes = protoTypes;\n\n    Scroll.defaultProps = { offset: 0 };\n\n    return Scroll;\n  },\n  Element: function Element(Component) {\n\n    console.warn(\"Helpers.Element is deprecated since v1.7.0\");\n\n    var Element = function (_React$Component2) {\n      _inherits(Element, _React$Component2);\n\n      function Element(props) {\n        _classCallCheck(this, Element);\n\n        var _this3 = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n        _this3.childBindings = {\n          domNode: null\n        };\n        return _this3;\n      }\n\n      _createClass(Element, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          if (typeof window === 'undefined') {\n            return false;\n          }\n          this.registerElems(this.props.name);\n        }\n      }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n          if (this.props.name !== prevProps.name) {\n            this.registerElems(this.props.name);\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          if (typeof window === 'undefined') {\n            return false;\n          }\n          defaultScroller.unregister(this.props.name);\n        }\n      }, {\n        key: 'registerElems',\n        value: function registerElems(name) {\n          defaultScroller.register(name, this.childBindings.domNode);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Component, _extends({}, this.props, { parentBindings: this.childBindings }));\n        }\n      }]);\n\n      return Element;\n    }(React.Component);\n\n    ;\n\n    Element.propTypes = {\n      name: PropTypes.string,\n      id: PropTypes.string\n    };\n\n    return Element;\n  }\n};\n\nmodule.exports = Helpers;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _smooth = require('./smooth');\n\nvar _smooth2 = _interopRequireDefault(_smooth);\n\nvar _cancelEvents = require('./cancel-events');\n\nvar _cancelEvents2 = _interopRequireDefault(_cancelEvents);\n\nvar _scrollEvents = require('./scroll-events');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * Gets the easing type from the smooth prop within options.\r\n */\nvar getAnimationType = function getAnimationType(options) {\n  return _smooth2.default[options.smooth] || _smooth2.default.defaultEasing;\n};\n/*\r\n * Function helper\r\n */\nvar functionWrapper = function functionWrapper(value) {\n  return typeof value === 'function' ? value : function () {\n    return value;\n  };\n};\n/*\r\n * Wraps window properties to allow server side rendering\r\n */\nvar currentWindowProperties = function currentWindowProperties() {\n  if (typeof window !== 'undefined') {\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n  }\n};\n\n/*\r\n * Helper function to never extend 60fps on the webpage.\r\n */\nvar requestAnimationFrameHelper = function () {\n  return currentWindowProperties() || function (callback, element, delay) {\n    window.setTimeout(callback, delay || 1000 / 60, new Date().getTime());\n  };\n}();\n\nvar makeData = function makeData() {\n  return {\n    currentPosition: 0,\n    startPosition: 0,\n    targetPosition: 0,\n    progress: 0,\n    duration: 0,\n    cancel: false,\n\n    target: null,\n    containerElement: null,\n    to: null,\n    start: null,\n    delta: null,\n    percent: null,\n    delayTimeout: null\n  };\n};\n\nvar currentPositionX = function currentPositionX(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollLeft;\n  } else {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft;\n  }\n};\n\nvar currentPositionY = function currentPositionY(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollTop;\n  } else {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n  }\n};\n\nvar scrollContainerWidth = function scrollContainerWidth(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollWidth - containerElement.offsetWidth;\n  } else {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);\n  }\n};\n\nvar scrollContainerHeight = function scrollContainerHeight(options) {\n  var containerElement = options.data.containerElement;\n  if (containerElement && containerElement !== document && containerElement !== document.body) {\n    return containerElement.scrollHeight - containerElement.offsetHeight;\n  } else {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n  }\n};\n\nvar animateScroll = function animateScroll(easing, options, timestamp) {\n  var data = options.data;\n\n  // Cancel on specific events\n  if (!options.ignoreCancelEvents && data.cancel) {\n    if (_scrollEvents2.default.registered['end']) {\n      _scrollEvents2.default.registered['end'](data.to, data.target, data.currentPositionY);\n    }\n    return;\n  };\n\n  data.delta = Math.round(data.targetPosition - data.startPosition);\n\n  if (data.start === null) {\n    data.start = timestamp;\n  }\n\n  data.progress = timestamp - data.start;\n\n  data.percent = data.progress >= data.duration ? 1 : easing(data.progress / data.duration);\n\n  data.currentPosition = data.startPosition + Math.ceil(data.delta * data.percent);\n\n  if (data.containerElement && data.containerElement !== document && data.containerElement !== document.body) {\n    if (options.horizontal) {\n      data.containerElement.scrollLeft = data.currentPosition;\n    } else {\n      data.containerElement.scrollTop = data.currentPosition;\n    }\n  } else {\n    if (options.horizontal) {\n      window.scrollTo(data.currentPosition, 0);\n    } else {\n      window.scrollTo(0, data.currentPosition);\n    }\n  }\n\n  if (data.percent < 1) {\n    var easedAnimate = animateScroll.bind(null, easing, options);\n    requestAnimationFrameHelper.call(window, easedAnimate);\n    return;\n  }\n\n  if (_scrollEvents2.default.registered['end']) {\n    _scrollEvents2.default.registered['end'](data.to, data.target, data.currentPosition);\n  }\n};\n\nvar setContainer = function setContainer(options) {\n  options.data.containerElement = !options ? null : options.containerId ? document.getElementById(options.containerId) : options.container && options.container.nodeType ? options.container : document;\n};\n\nvar animateTopScroll = function animateTopScroll(scrollOffset, options, to, target) {\n  options.data = options.data || makeData();\n\n  window.clearTimeout(options.data.delayTimeout);\n\n  _cancelEvents2.default.subscribe(function () {\n    options.data.cancel = true;\n  });\n\n  setContainer(options);\n\n  options.data.start = null;\n  options.data.cancel = false;\n  options.data.startPosition = options.horizontal ? currentPositionX(options) : currentPositionY(options);\n  options.data.targetPosition = options.absolute ? scrollOffset : scrollOffset + options.data.startPosition;\n\n  if (options.data.startPosition === options.data.targetPosition) {\n    if (_scrollEvents2.default.registered['end']) {\n      _scrollEvents2.default.registered['end'](options.data.to, options.data.target, options.data.currentPosition);\n    }\n    return;\n  }\n\n  options.data.delta = Math.round(options.data.targetPosition - options.data.startPosition);\n\n  options.data.duration = functionWrapper(options.duration)(options.data.delta);\n  options.data.duration = isNaN(parseFloat(options.data.duration)) ? 1000 : parseFloat(options.data.duration);\n  options.data.to = to;\n  options.data.target = target;\n\n  var easing = getAnimationType(options);\n  var easedAnimate = animateScroll.bind(null, easing, options);\n\n  if (options && options.delay > 0) {\n    options.data.delayTimeout = window.setTimeout(function () {\n      if (_scrollEvents2.default.registered['begin']) {\n        _scrollEvents2.default.registered['begin'](options.data.to, options.data.target);\n      }\n      requestAnimationFrameHelper.call(window, easedAnimate);\n    }, options.delay);\n    return;\n  }\n\n  if (_scrollEvents2.default.registered['begin']) {\n    _scrollEvents2.default.registered['begin'](options.data.to, options.data.target);\n  }\n  requestAnimationFrameHelper.call(window, easedAnimate);\n};\n\nvar proceedOptions = function proceedOptions(options) {\n  options = _extends({}, options);\n  options.data = options.data || makeData();\n  options.absolute = true;\n  return options;\n};\n\nvar scrollToTop = function scrollToTop(options) {\n  animateTopScroll(0, proceedOptions(options));\n};\n\nvar scrollTo = function scrollTo(toPosition, options) {\n  animateTopScroll(toPosition, proceedOptions(options));\n};\n\nvar scrollToBottom = function scrollToBottom(options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  animateTopScroll(options.horizontal ? scrollContainerWidth(options) : scrollContainerHeight(options), options);\n};\n\nvar scrollMore = function scrollMore(toPosition, options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  var currentPosition = options.horizontal ? currentPositionX(options) : currentPositionY(options);\n  animateTopScroll(toPosition + currentPosition, options);\n};\n\nexports.default = {\n  animateTopScroll: animateTopScroll,\n  getAnimationType: getAnimationType,\n  scrollToTop: scrollToTop,\n  scrollToBottom: scrollToBottom,\n  scrollTo: scrollTo,\n  scrollMore: scrollMore\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nvar events = ['mousedown', 'mousewheel', 'touchmove', 'keydown'];\n\nexports.default = {\n  subscribe: function subscribe(cancelEvent) {\n    return typeof document !== 'undefined' && events.forEach(function (event) {\n      return (0, _passiveEventListeners.addPassiveEventListener)(document, event, cancelEvent);\n    });\n  }\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\r\n * Tell the browser that the event listener won't prevent a scroll.\r\n * Allowing the browser to continue scrolling without having to\r\n * to wait for the listener to return.\r\n */\nvar addPassiveEventListener = exports.addPassiveEventListener = function addPassiveEventListener(target, eventName, listener) {\n  var supportsPassiveOption = function () {\n    var supportsPassiveOption = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassiveOption = true;\n        }\n      });\n      window.addEventListener('test', null, opts);\n    } catch (e) {}\n    return supportsPassiveOption;\n  }();\n  target.addEventListener(eventName, listener, supportsPassiveOption ? { passive: true } : false);\n};\n\nvar removePassiveEventListener = exports.removePassiveEventListener = function removePassiveEventListener(target, eventName, listener) {\n  target.removeEventListener(eventName, listener);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nexports.default = function (Component) {\n  var Element = function (_React$Component) {\n    _inherits(Element, _React$Component);\n\n    function Element(props) {\n      _classCallCheck(this, Element);\n\n      var _this = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n      _this.childBindings = {\n        domNode: null\n      };\n      return _this;\n    }\n\n    _createClass(Element, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (typeof window === 'undefined') {\n          return false;\n        }\n        this.registerElems(this.props.name);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        if (this.props.name !== prevProps.name) {\n          this.registerElems(this.props.name);\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        if (typeof window === 'undefined') {\n          return false;\n        }\n        _scroller2.default.unregister(this.props.name);\n      }\n    }, {\n      key: 'registerElems',\n      value: function registerElems(name) {\n        _scroller2.default.register(name, this.childBindings.domNode);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(Component, _extends({}, this.props, { parentBindings: this.childBindings }));\n      }\n    }]);\n\n    return Element;\n  }(_react2.default.Component);\n\n  ;\n\n  Element.propTypes = {\n    name: _propTypes2.default.string,\n    id: _propTypes2.default.string\n  };\n\n  return Element;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar Events = {\n\tregistered: {},\n\tscrollEvent: {\n\t\tregister: function register(evtName, callback) {\n\t\t\tEvents.registered[evtName] = callback;\n\t\t},\n\t\tremove: function remove(evtName) {\n\t\t\tEvents.registered[evtName] = null;\n\t\t}\n\t}\n};\n\nexports.default = Events;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar scrollHash = {\n  mountFlag: false,\n  initialized: false,\n  scroller: null,\n  containers: {},\n\n  mount: function mount(scroller) {\n    this.scroller = scroller;\n\n    this.handleHashChange = this.handleHashChange.bind(this);\n    window.addEventListener('hashchange', this.handleHashChange);\n\n    this.initStateFromHash();\n    this.mountFlag = true;\n  },\n  mapContainer: function mapContainer(to, container) {\n    this.containers[to] = container;\n  },\n  isMounted: function isMounted() {\n    return this.mountFlag;\n  },\n  isInitialized: function isInitialized() {\n    return this.initialized;\n  },\n  initStateFromHash: function initStateFromHash() {\n    var _this = this;\n\n    var hash = this.getHash();\n    if (hash) {\n      window.setTimeout(function () {\n        _this.scrollTo(hash, true);\n        _this.initialized = true;\n      }, 10);\n    } else {\n      this.initialized = true;\n    }\n  },\n  scrollTo: function scrollTo(to, isInit) {\n    var scroller = this.scroller;\n    var element = scroller.get(to);\n    if (element && (isInit || to !== scroller.getActiveLink())) {\n      var container = this.containers[to] || document;\n      scroller.scrollTo(to, { container: container });\n    }\n  },\n  getHash: function getHash() {\n    return _utils2.default.getHash();\n  },\n  changeHash: function changeHash(to, saveHashHistory) {\n    if (this.isInitialized() && _utils2.default.getHash() !== to) {\n      _utils2.default.updateHash(to, saveHashHistory);\n    }\n  },\n  handleHashChange: function handleHashChange() {\n    this.scrollTo(this.getHash());\n  },\n  unmount: function unmount() {\n    this.scroller = null;\n    this.containers = null;\n    window.removeEventListener('hashchange', this.handleHashChange);\n  }\n};\n\nexports.default = scrollHash;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _scrollSpy = require('./scroll-spy');\n\nvar _scrollSpy2 = _interopRequireDefault(_scrollSpy);\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _scrollHash = require('./scroll-hash');\n\nvar _scrollHash2 = _interopRequireDefault(_scrollHash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar protoTypes = {\n  to: _propTypes2.default.string.isRequired,\n  containerId: _propTypes2.default.string,\n  container: _propTypes2.default.object,\n  activeClass: _propTypes2.default.string,\n  activeStyle: _propTypes2.default.object,\n  spy: _propTypes2.default.bool,\n  horizontal: _propTypes2.default.bool,\n  smooth: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.string]),\n  offset: _propTypes2.default.number,\n  delay: _propTypes2.default.number,\n  isDynamic: _propTypes2.default.bool,\n  onClick: _propTypes2.default.func,\n  duration: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.func]),\n  absolute: _propTypes2.default.bool,\n  onSetActive: _propTypes2.default.func,\n  onSetInactive: _propTypes2.default.func,\n  ignoreCancelEvents: _propTypes2.default.bool,\n  hashSpy: _propTypes2.default.bool,\n  saveHashHistory: _propTypes2.default.bool,\n  spyThrottle: _propTypes2.default.number\n};\n\nexports.default = function (Component, customScroller) {\n\n  var scroller = customScroller || _scroller2.default;\n\n  var Link = function (_React$PureComponent) {\n    _inherits(Link, _React$PureComponent);\n\n    function Link(props) {\n      _classCallCheck(this, Link);\n\n      var _this = _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).call(this, props));\n\n      _initialiseProps.call(_this);\n\n      _this.state = {\n        active: false\n      };\n      return _this;\n    }\n\n    _createClass(Link, [{\n      key: 'getScrollSpyContainer',\n      value: function getScrollSpyContainer() {\n        var containerId = this.props.containerId;\n        var container = this.props.container;\n\n        if (containerId && !container) {\n          return document.getElementById(containerId);\n        }\n\n        if (container && container.nodeType) {\n          return container;\n        }\n\n        return document;\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        if (this.props.spy || this.props.hashSpy) {\n          var scrollSpyContainer = this.getScrollSpyContainer();\n\n          if (!_scrollSpy2.default.isMounted(scrollSpyContainer)) {\n            _scrollSpy2.default.mount(scrollSpyContainer, this.props.spyThrottle);\n          }\n\n          if (this.props.hashSpy) {\n            if (!_scrollHash2.default.isMounted()) {\n              _scrollHash2.default.mount(scroller);\n            }\n            _scrollHash2.default.mapContainer(this.props.to, scrollSpyContainer);\n          }\n\n          _scrollSpy2.default.addSpyHandler(this.spyHandler, scrollSpyContainer);\n\n          this.setState({\n            container: scrollSpyContainer\n          });\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        _scrollSpy2.default.unmount(this.stateHandler, this.spyHandler);\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var className = \"\";\n\n        if (this.state && this.state.active) {\n          className = ((this.props.className || \"\") + \" \" + (this.props.activeClass || \"active\")).trim();\n        } else {\n          className = this.props.className;\n        }\n\n        var style = {};\n\n        if (this.state && this.state.active) {\n          style = _extends({}, this.props.style, this.props.activeStyle);\n        } else {\n          style = _extends({}, this.props.style);\n        }\n\n        var props = _extends({}, this.props);\n\n        for (var prop in protoTypes) {\n          if (props.hasOwnProperty(prop)) {\n            delete props[prop];\n          }\n        }\n\n        props.className = className;\n        props.style = style;\n        props.onClick = this.handleClick;\n\n        return _react2.default.createElement(Component, props);\n      }\n    }]);\n\n    return Link;\n  }(_react2.default.PureComponent);\n\n  var _initialiseProps = function _initialiseProps() {\n    var _this2 = this;\n\n    this.scrollTo = function (to, props) {\n      scroller.scrollTo(to, _extends({}, _this2.state, props));\n    };\n\n    this.handleClick = function (event) {\n\n      /*\r\n       * give the posibility to override onClick\r\n       */\n\n      if (_this2.props.onClick) {\n        _this2.props.onClick(event);\n      }\n\n      /*\r\n       * dont bubble the navigation\r\n       */\n\n      if (event.stopPropagation) event.stopPropagation();\n      if (event.preventDefault) event.preventDefault();\n\n      /*\r\n       * do the magic!\r\n       */\n      _this2.scrollTo(_this2.props.to, _this2.props);\n    };\n\n    this.spyHandler = function (x, y) {\n      var scrollSpyContainer = _this2.getScrollSpyContainer();\n\n      if (_scrollHash2.default.isMounted() && !_scrollHash2.default.isInitialized()) {\n        return;\n      }\n\n      var horizontal = _this2.props.horizontal;\n\n      var to = _this2.props.to;\n      var element = null;\n      var isInside = void 0;\n      var isOutside = void 0;\n\n      if (horizontal) {\n        var elemLeftBound = 0;\n        var elemRightBound = 0;\n        var containerLeft = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerLeft = containerCords.left;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var cords = element.getBoundingClientRect();\n          elemLeftBound = cords.left - containerLeft + x;\n          elemRightBound = elemLeftBound + cords.width;\n        }\n\n        var offsetX = x - _this2.props.offset;\n        isInside = offsetX >= Math.floor(elemLeftBound) && offsetX < Math.floor(elemRightBound);\n        isOutside = offsetX < Math.floor(elemLeftBound) || offsetX >= Math.floor(elemRightBound);\n      } else {\n        var elemTopBound = 0;\n        var elemBottomBound = 0;\n        var containerTop = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var _containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerTop = _containerCords.top;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var _cords = element.getBoundingClientRect();\n          elemTopBound = _cords.top - containerTop + y;\n          elemBottomBound = elemTopBound + _cords.height;\n        }\n\n        var offsetY = y - _this2.props.offset;\n        isInside = offsetY >= Math.floor(elemTopBound) && offsetY < Math.floor(elemBottomBound);\n        isOutside = offsetY < Math.floor(elemTopBound) || offsetY >= Math.floor(elemBottomBound);\n      }\n\n      var activeLink = scroller.getActiveLink();\n\n      if (isOutside) {\n        if (to === activeLink) {\n          scroller.setActiveLink(void 0);\n        }\n\n        if (_this2.props.hashSpy && _scrollHash2.default.getHash() === to) {\n          var _props$saveHashHistor = _this2.props.saveHashHistory,\n              saveHashHistory = _props$saveHashHistor === undefined ? false : _props$saveHashHistor;\n\n          _scrollHash2.default.changeHash(\"\", saveHashHistory);\n        }\n\n        if (_this2.props.spy && _this2.state.active) {\n          _this2.setState({ active: false });\n          _this2.props.onSetInactive && _this2.props.onSetInactive(to, element);\n        }\n      }\n\n      if (isInside && (activeLink !== to || _this2.state.active === false)) {\n        scroller.setActiveLink(to);\n\n        var _props$saveHashHistor2 = _this2.props.saveHashHistory,\n            _saveHashHistory = _props$saveHashHistor2 === undefined ? false : _props$saveHashHistor2;\n\n        _this2.props.hashSpy && _scrollHash2.default.changeHash(to, _saveHashHistory);\n\n        if (_this2.props.spy) {\n          _this2.setState({ active: true });\n          _this2.props.onSetActive && _this2.props.onSetActive(to, element);\n        }\n      }\n    };\n  };\n\n  ;\n\n  Link.propTypes = protoTypes;\n\n  Link.defaultProps = { offset: 0 };\n\n  return Link;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = require('lodash.throttle');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _passiveEventListeners = require('./passive-event-listeners');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// The eventHandler will execute at a rate of 15fps by default\nvar eventThrottler = function eventThrottler(eventHandler) {\n  var throttleAmount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 66;\n  return (0, _lodash2.default)(eventHandler, throttleAmount);\n};\n\nvar scrollSpy = {\n\n  spyCallbacks: [],\n  spySetState: [],\n  scrollSpyContainers: [],\n\n  mount: function mount(scrollSpyContainer, throttle) {\n    if (scrollSpyContainer) {\n      var eventHandler = eventThrottler(function (event) {\n        scrollSpy.scrollHandler(scrollSpyContainer);\n      }, throttle);\n      scrollSpy.scrollSpyContainers.push(scrollSpyContainer);\n      (0, _passiveEventListeners.addPassiveEventListener)(scrollSpyContainer, 'scroll', eventHandler);\n    }\n  },\n  isMounted: function isMounted(scrollSpyContainer) {\n    return scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer) !== -1;\n  },\n  currentPositionX: function currentPositionX(scrollSpyContainer) {\n    if (scrollSpyContainer === document) {\n      var supportPageOffset = window.pageYOffset !== undefined;\n      var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n      return supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft;\n    } else {\n      return scrollSpyContainer.scrollLeft;\n    }\n  },\n  currentPositionY: function currentPositionY(scrollSpyContainer) {\n    if (scrollSpyContainer === document) {\n      var supportPageOffset = window.pageXOffset !== undefined;\n      var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n      return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n    } else {\n      return scrollSpyContainer.scrollTop;\n    }\n  },\n  scrollHandler: function scrollHandler(scrollSpyContainer) {\n    var callbacks = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)].spyCallbacks || [];\n    callbacks.forEach(function (c) {\n      return c(scrollSpy.currentPositionX(scrollSpyContainer), scrollSpy.currentPositionY(scrollSpyContainer));\n    });\n  },\n  addStateHandler: function addStateHandler(handler) {\n    scrollSpy.spySetState.push(handler);\n  },\n  addSpyHandler: function addSpyHandler(handler, scrollSpyContainer) {\n    var container = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)];\n\n    if (!container.spyCallbacks) {\n      container.spyCallbacks = [];\n    }\n\n    container.spyCallbacks.push(handler);\n\n    handler(scrollSpy.currentPositionX(scrollSpyContainer), scrollSpy.currentPositionY(scrollSpyContainer));\n  },\n  updateStates: function updateStates() {\n    scrollSpy.spySetState.forEach(function (s) {\n      return s();\n    });\n  },\n  unmount: function unmount(stateHandler, spyHandler) {\n    scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return c.spyCallbacks && c.spyCallbacks.length && c.spyCallbacks.indexOf(spyHandler) > -1 && c.spyCallbacks.splice(c.spyCallbacks.indexOf(spyHandler), 1);\n    });\n\n    if (scrollSpy.spySetState && scrollSpy.spySetState.length && scrollSpy.spySetState.indexOf(stateHandler) > -1) {\n      scrollSpy.spySetState.splice(scrollSpy.spySetState.indexOf(stateHandler), 1);\n    }\n\n    document.removeEventListener('scroll', scrollSpy.scrollHandler);\n  },\n\n\n  update: function update() {\n    return scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return scrollSpy.scrollHandler(c);\n    });\n  }\n};\n\nexports.default = scrollSpy;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _animateScroll = require('./animate-scroll');\n\nvar _animateScroll2 = _interopRequireDefault(_animateScroll);\n\nvar _scrollEvents = require('./scroll-events');\n\nvar _scrollEvents2 = _interopRequireDefault(_scrollEvents);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __mapped = {};\nvar __activeLink = void 0;\n\nexports.default = {\n\n  unmount: function unmount() {\n    __mapped = {};\n  },\n\n  register: function register(name, element) {\n    __mapped[name] = element;\n  },\n\n  unregister: function unregister(name) {\n    delete __mapped[name];\n  },\n\n  get: function get(name) {\n    return __mapped[name] || document.getElementById(name) || document.getElementsByName(name)[0] || document.getElementsByClassName(name)[0];\n  },\n\n  setActiveLink: function setActiveLink(link) {\n    return __activeLink = link;\n  },\n\n  getActiveLink: function getActiveLink() {\n    return __activeLink;\n  },\n\n  scrollTo: function scrollTo(to, props) {\n\n    var target = this.get(to);\n\n    if (!target) {\n      console.warn(\"target Element not found\");\n      return;\n    }\n\n    props = _extends({}, props, { absolute: false });\n\n    var containerId = props.containerId;\n    var container = props.container;\n\n    var containerElement = void 0;\n    if (containerId) {\n      containerElement = document.getElementById(containerId);\n    } else if (container && container.nodeType) {\n      containerElement = container;\n    } else {\n      containerElement = document;\n    }\n\n    props.absolute = true;\n\n    var horizontal = props.horizontal;\n    var scrollOffset = _utils2.default.scrollOffset(containerElement, target, horizontal) + (props.offset || 0);\n\n    /*\r\n     * if animate is not provided just scroll into the view\r\n     */\n    if (!props.smooth) {\n      if (_scrollEvents2.default.registered['begin']) {\n        _scrollEvents2.default.registered['begin'](to, target);\n      }\n\n      if (containerElement === document) {\n        if (props.horizontal) {\n          window.scrollTo(scrollOffset, 0);\n        } else {\n          window.scrollTo(0, scrollOffset);\n        }\n      } else {\n        containerElement.scrollTop = scrollOffset;\n      }\n\n      if (_scrollEvents2.default.registered['end']) {\n        _scrollEvents2.default.registered['end'](to, target);\n      }\n\n      return;\n    }\n\n    /*\r\n     * Animate scrolling\r\n     */\n\n    _animateScroll2.default.animateTopScroll(scrollOffset, props, to, target);\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  /*\r\n   * https://github.com/oblador/angular-scroll (duScrollDefaultEasing)\r\n   */\n  defaultEasing: function defaultEasing(x) {\n    if (x < 0.5) {\n      return Math.pow(x * 2, 2) / 2;\n    }\n    return 1 - Math.pow((1 - x) * 2, 2) / 2;\n  },\n  /*\r\n   * https://gist.github.com/gre/1650294\r\n   */\n  // no easing, no acceleration\n  linear: function linear(x) {\n    return x;\n  },\n  // accelerating from zero velocity\n  easeInQuad: function easeInQuad(x) {\n    return x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuad: function easeOutQuad(x) {\n    return x * (2 - x);\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function easeInOutQuad(x) {\n    return x < .5 ? 2 * x * x : -1 + (4 - 2 * x) * x;\n  },\n  // accelerating from zero velocity \n  easeInCubic: function easeInCubic(x) {\n    return x * x * x;\n  },\n  // decelerating to zero velocity π\n  easeOutCubic: function easeOutCubic(x) {\n    return --x * x * x + 1;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutCubic: function easeInOutCubic(x) {\n    return x < .5 ? 4 * x * x * x : (x - 1) * (2 * x - 2) * (2 * x - 2) + 1;\n  },\n  // accelerating from zero velocity \n  easeInQuart: function easeInQuart(x) {\n    return x * x * x * x;\n  },\n  // decelerating to zero velocity \n  easeOutQuart: function easeOutQuart(x) {\n    return 1 - --x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function easeInOutQuart(x) {\n    return x < .5 ? 8 * x * x * x * x : 1 - 8 * --x * x * x * x;\n  },\n  // accelerating from zero velocity\n  easeInQuint: function easeInQuint(x) {\n    return x * x * x * x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuint: function easeOutQuint(x) {\n    return 1 + --x * x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutQuint: function easeInOutQuint(x) {\n    return x < .5 ? 16 * x * x * x * x * x : 1 + 16 * --x * x * x * x * x;\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar updateHash = function updateHash(hash, historyUpdate) {\n  var hashVal = hash.indexOf(\"#\") === 0 ? hash.substring(1) : hash;\n  var hashToUpdate = hashVal ? \"#\" + hashVal : \"\";\n  var curLoc = window && window.location;\n  var urlToPush = hashToUpdate ? curLoc.pathname + curLoc.search + hashToUpdate : curLoc.pathname + curLoc.search;\n  historyUpdate ? history.pushState(history.state, \"\", urlToPush) : history.replaceState(history.state, \"\", urlToPush);\n};\n\nvar getHash = function getHash() {\n  return window.location.hash.replace(/^#/, \"\");\n};\n\nvar filterElementInContainer = function filterElementInContainer(container) {\n  return function (element) {\n    return container.contains ? container != element && container.contains(element) : !!(container.compareDocumentPosition(element) & 16);\n  };\n};\n\nvar isPositioned = function isPositioned(element) {\n  return getComputedStyle(element).position !== \"static\";\n};\n\nvar getElementOffsetInfoUntil = function getElementOffsetInfoUntil(element, predicate) {\n  var offsetTop = element.offsetTop;\n  var currentOffsetParent = element.offsetParent;\n\n  while (currentOffsetParent && !predicate(currentOffsetParent)) {\n    offsetTop += currentOffsetParent.offsetTop;\n    currentOffsetParent = currentOffsetParent.offsetParent;\n  }\n\n  return { offsetTop: offsetTop, offsetParent: currentOffsetParent };\n};\n\nvar scrollOffset = function scrollOffset(c, t, horizontal) {\n  if (horizontal) {\n    return c === document ? t.getBoundingClientRect().left + (window.scrollX || window.pageXOffset) : getComputedStyle(c).position !== \"static\" ? t.offsetLeft : t.offsetLeft - c.offsetLeft;\n  } else {\n    if (c === document) {\n      return t.getBoundingClientRect().top + (window.scrollY || window.pageYOffset);\n    }\n\n    // The offsetParent of an element, according to MDN, is its nearest positioned\n    // (an element whose position is anything other than static) ancestor. The offsetTop\n    // of an element is taken with respect to its offsetParent which may not neccessarily\n    // be its parentElement except the parent itself is positioned.\n\n    // So if containerElement is positioned, then it must be an offsetParent somewhere\n    // If it happens that targetElement is a descendant of the containerElement, and there\n    // is not intermediate positioned element between the two of them, i.e.\n    // targetElement\"s offsetParent is the same as the containerElement, then the\n    // distance between the two will be the offsetTop of the targetElement.\n    // If, on the other hand, there are intermediate positioned elements between the\n    // two entities, the distance between the targetElement and the containerElement\n    // will be the accumulation of the offsetTop of the element and that of its\n    // subsequent offsetParent until the containerElement is reached, since it\n    // will also be an offsetParent at some point due to the fact that it is positioned.\n\n    // If the containerElement is not positioned, then it can\"t be an offsetParent,\n    // which means that the offsetTop of the targetElement would not be with respect to it.\n    // However, if the two of them happen to have the same offsetParent, then\n    // the distance between them will be the difference between their offsetTop\n    // since they are both taken with respect to the same entity.\n    // The last resort would be to accumulate their offsetTop until a common\n    // offsetParent is reached (usually the document) and taking the difference\n    // between the accumulated offsetTops\n\n    if (isPositioned(c)) {\n      if (t.offsetParent !== c) {\n        var isContainerElementOrDocument = function isContainerElementOrDocument(e) {\n          return e === c || e === document;\n        };\n\n        var _getElementOffsetInfo = getElementOffsetInfoUntil(t, isContainerElementOrDocument),\n            offsetTop = _getElementOffsetInfo.offsetTop,\n            offsetParent = _getElementOffsetInfo.offsetParent;\n\n        if (offsetParent !== c) {\n          throw new Error(\"Seems containerElement is not an ancestor of the Element\");\n        }\n\n        return offsetTop;\n      }\n\n      return t.offsetTop;\n    }\n\n    if (t.offsetParent === c.offsetParent) {\n      return t.offsetTop - c.offsetTop;\n    }\n\n    var isDocument = function isDocument(e) {\n      return e === document;\n    };\n    return getElementOffsetInfoUntil(t, isDocument).offsetTop - getElementOffsetInfoUntil(c, isDocument).offsetTop;\n  }\n};\n\nexports.default = {\n  updateHash: updateHash,\n  getHash: getHash,\n  filterElementInContainer: filterElementInContainer,\n  scrollOffset: scrollOffset\n};","var React = require('react');\n\nfunction Apple (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"apple logo icon\"),React.createElement(\"path\",{\"d\":\"M349.13,136.86c-40.32,0-57.36,19.24-85.44,19.24C234.9,156.1,212.94,137,178,137c-34.2,0-70.67,20.88-93.83,56.45-32.52,50.16-27,144.63,25.67,225.11,18.84,28.81,44,61.12,77,61.47h.6c28.68,0,37.2-18.78,76.67-19h.6c38.88,0,46.68,18.89,75.24,18.89h.6c33-.35,59.51-36.15,78.35-64.85,13.56-20.64,18.6-31,29-54.35-76.19-28.92-88.43-136.93-13.08-178.34-23-28.8-55.32-45.48-85.79-45.48Z\",\"key\":1}),React.createElement(\"path\",{\"d\":\"M340.25,32c-24,1.63-52,16.91-68.4,36.86-14.88,18.08-27.12,44.9-22.32,70.91h1.92c25.56,0,51.72-15.39,67-35.11C333.17,85.89,344.33,59.29,340.25,32Z\",\"key\":2})]);\n}\n\nApple.defaultProps = {\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\"};\n\nmodule.exports = Apple;\n\nApple.default = Apple;\n","var React = require('react');\n\nfunction ArrowBack (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"arrow back icon\"),React.createElement(\"polyline\",{\"points\":\"244 400 100 256 244 112\",\"style\":{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"48px\"},\"key\":1}),React.createElement(\"line\",{\"x1\":\"120\",\"y1\":\"256\",\"x2\":\"412\",\"y2\":\"256\",\"style\":{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":\"48px\"},\"key\":2})]);\n}\n\nArrowBack.defaultProps = {\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\"};\n\nmodule.exports = ArrowBack;\n\nArrowBack.default = ArrowBack;\n","var React = require('react');\n\nfunction Download (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"fillRule\":\"evenodd\",\"d\":\"M11.354 10.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 .708-.708L8 12.793l2.646-2.647a.5.5 0 0 1 .708 0z\",\"key\":0}),React.createElement(\"path\",{\"fillRule\":\"evenodd\",\"d\":\"M8 6a.5.5 0 0 1 .5.5V13a.5.5 0 0 1-1 0V6.5A.5.5 0 0 1 8 6zM2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z\",\"key\":1})]);\n}\n\nDownload.defaultProps = {\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 16 16\",\"fill\":\"currentColor\"};\n\nmodule.exports = Download;\n\nDownload.default = Download;\n","var React = require('react');\n\nfunction Github (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"github logo\"),React.createElement(\"path\",{\"d\":\"M256,32C132.3,32,32,134.9,32,261.7c0,101.5,64.2,187.5,153.2,217.9a17.56,17.56,0,0,0,3.8.4c8.3,0,11.5-6.1,11.5-11.4,0-5.5-.2-19.9-.3-39.1a102.4,102.4,0,0,1-22.6,2.7c-43.1,0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1,1.4-14.1h.1c22.5,2,34.3,23.8,34.3,23.8,11.2,19.6,26.2,25.1,39.6,25.1a63,63,0,0,0,25.6-6c2-14.8,7.8-24.9,14.2-30.7-49.7-5.8-102-25.5-102-113.5,0-25.1,8.7-45.6,23-61.6-2.3-5.8-10-29.2,2.2-60.8a18.64,18.64,0,0,1,5-.5c8.1,0,26.4,3.1,56.6,24.1a208.21,208.21,0,0,1,112.2,0c30.2-21,48.5-24.1,56.6-24.1a18.64,18.64,0,0,1,5,.5c12.2,31.6,4.5,55,2.2,60.8,14.3,16.1,23,36.6,23,61.6,0,88.2-52.4,107.6-102.3,113.3,8,7.1,15.2,21.1,15.2,42.5,0,30.7-.3,55.5-.3,63,0,5.4,3.1,11.5,11.4,11.5a19.35,19.35,0,0,0,4-.4C415.9,449.2,480,363.1,480,261.7,480,134.9,379.7,32,256,32Z\",\"key\":1})]);\n}\n\nGithub.defaultProps = {\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\"};\n\nmodule.exports = Github;\n\nGithub.default = Github;\n","var React = require('react');\n\nfunction Moon (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"moon icon\"),React.createElement(\"path\",{\"d\":\"M264,480A232,232,0,0,1,32,248C32,154,86,69.72,169.61,33.33a16,16,0,0,1,21.06,21.06C181.07,76.43,176,104.66,176,136c0,110.28,89.72,200,200,200,31.34,0,59.57-5.07,81.61-14.67a16,16,0,0,1,21.06,21.06C442.28,426,358,480,264,480Z\",\"key\":1})]);\n}\n\nMoon.defaultProps = {\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\"};\n\nmodule.exports = Moon;\n\nMoon.default = Moon;\n","var React = require('react');\n\nfunction Pomatez (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"g\",{\"transform\":\"translate(0.000000,256.000000) scale(0.100000,-0.100000)\",\"fill\":\"currentColor\",\"stroke\":\"none\"},[React.createElement(\"path\",{\"d\":\"M555 2550 c-246 -37 -444 -201 -523 -434 l-27 -81 0 -755 0 -755 27\\n-80 c68 -200 234 -360 433 -417 l80 -23 735 0 735 0 80 23 c199 57 365 218\\n433 417 l27 80 3 695 c3 724 0 800 -39 917 -58 175 -230 338 -419 395 -75 22\\n-79 22 -785 24 -390 1 -733 -1 -760 -6z m1486 -204 c78 -24 127 -54 189 -116\\n64 -64 89 -105 114 -189 14 -48 16 -141 16 -765 0 -758 0 -747 -50 -845 -27\\n-54 -127 -154 -182 -182 -95 -49 -99 -49 -848 -49 -749 0 -753 0 -848 49 -55\\n28 -155 128 -182 182 -50 98 -50 87 -50 845 0 763 0 755 52 857 25 51 127 151\\n180 178 93 48 82 47 843 48 591 1 728 -2 766 -13z\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M1182 1954 c-151 -40 -278 -160 -322 -301 -19 -61 -20 -93 -20 -527\\nl0 -462 30 -29 c45 -43 101 -42 141 3 l29 32 0 185 0 185 138 0 c174 0 240 11\\n328 54 157 78 254 237 254 417 0 128 -49 237 -149 332 -116 111 -277 152 -429\\n111z m202 -206 c55 -16 138 -99 154 -154 42 -142 -26 -284 -157 -329 -32 -11\\n-86 -15 -194 -15 l-149 0 4 163 c3 142 6 167 25 202 27 51 88 110 133 129 43\\n19 128 20 184 4z\",\"key\":1})]));\n}\n\nPomatez.defaultProps = {\"version\":\"1.0\",\"width\":\"256.000000pt\",\"height\":\"256.000000pt\",\"viewBox\":\"0 0 256.000000 256.000000\",\"preserveAspectRatio\":\"xMidYMid meet\"};\n\nmodule.exports = Pomatez;\n\nPomatez.default = Pomatez;\n","var React = require('react');\n\nfunction SnapStore (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"g\",{\"fill\":\"none\",\"fillRule\":\"evenodd\"},[React.createElement(\"rect\",{\"stroke\":\"transparent\",\"fill\":\"transparent\",\"width\":\"182\",\"height\":\"56\",\"rx\":\"2\",\"key\":0}),React.createElement(\"g\",{\"fillRule\":\"nonzero\",\"key\":1},[React.createElement(\"path\",{\"d\":\"M26.99 28.8V18.33l7.22 3.22-7.22 7.25zM13.2 42.64l8.85-16.67 3.88 3.88-12.73 12.8zm-5.05-31.4l18.22 6.6v11.58L8.16 11.23z\",\"fill\":\"#82BEA0\",\"key\":0}),React.createElement(\"path\",{\"fill\":\"#FA6441\",\"d\":\"M37.9 17.85H27.4l13.5 6.02z\",\"key\":1})]),React.createElement(\"path\",{\"d\":\"M56.1 13.9h1.17v3.9l-.41.1a12.68 12.68 0 01-2.25.27c-.59 0-1.12-.1-1.6-.29a3.4 3.4 0 01-1.23-.84 3.8 3.8 0 01-.8-1.36 5.57 5.57 0 01-.28-1.84c0-.7.1-1.32.31-1.86.22-.54.5-1 .86-1.36.36-.37.78-.65 1.27-.84.48-.2 1-.29 1.55-.29a6.23 6.23 0 011.75.24 3.67 3.67 0 01.78.34l-.37.97a3.14 3.14 0 00-.92-.38c-.39-.1-.78-.15-1.18-.15-.42 0-.8.08-1.16.23-.34.15-.64.37-.88.66-.25.29-.44.64-.57 1.05a4.95 4.95 0 00-.03 2.74c.11.41.29.76.52 1.05.24.3.53.52.88.68.35.16.76.24 1.23.24a5.8 5.8 0 001.37-.16v-3.1zm2.58 1c0-.56.08-1.04.24-1.45.16-.42.37-.76.63-1.03.27-.27.57-.48.91-.61.35-.14.7-.2 1.06-.2.84 0 1.48.26 1.93.78.45.52.67 1.32.67 2.4v.39h-4.28c.05.65.24 1.14.56 1.48.33.33.84.5 1.54.5a4.1 4.1 0 001.6-.3l.15.94a5.08 5.08 0 01-1.87.35c-.54 0-1.01-.09-1.41-.25a2.63 2.63 0 01-1.55-1.7c-.12-.4-.18-.84-.18-1.3zm4.28-.62c0-.5-.12-.92-.38-1.24a1.3 1.3 0 00-1.07-.49 1.47 1.47 0 00-1.18.54 1.8 1.8 0 00-.32.55c-.07.21-.12.42-.15.64h3.1zm3.82-2.52h2.36v.94h-2.36v2.88c0 .3.02.57.07.77.05.2.12.36.21.48.1.12.22.2.36.25a2.37 2.37 0 001.31-.04l.43-.17.22.93a4.14 4.14 0 01-1.55.33c-.42 0-.77-.05-1.05-.16-.27-.1-.5-.27-.66-.49a1.95 1.95 0 01-.36-.8c-.07-.31-.1-.68-.1-1.1v-5.56l1.12-.2v1.94zM74.44 18h-1.11v-6.24h1.11V18zm-.56-7.37a.7.7 0 01-.72-.73.7.7 0 01.72-.73.7.7 0 01.72.73.7.7 0 01-.72.73zm3.53 1.13h2.36v.94h-2.36v2.88c0 .3.02.57.07.77.05.2.12.36.22.48s.21.2.36.25a2.37 2.37 0 001.31-.04l.43-.17.21.93a4.14 4.14 0 01-1.55.33c-.42 0-.77-.05-1.05-.16-.27-.1-.5-.27-.66-.49a1.95 1.95 0 01-.36-.8c-.06-.31-.1-.68-.1-1.1v-5.56l1.12-.2v1.94zm8.99-3.07a4.3 4.3 0 011.34.2l-.2.96a2.72 2.72 0 00-1.06-.2c-.52 0-.88.14-1.1.42-.2.29-.3.67-.3 1.15v.54h2.4v.94h-2.4V18h-1.12v-6.8c0-.8.2-1.42.59-1.86.39-.43 1-.65 1.85-.65zm4.5 2.94a3.47 3.47 0 01.7.06 10.46 10.46 0 01.54.12l-.19.97a3.74 3.74 0 00-2.24-.02V18h-1.12v-5.98a7.59 7.59 0 012.3-.4zm7.83 3.25c0 .5-.07.94-.21 1.34-.15.4-.35.75-.61 1.04-.26.28-.57.5-.93.66-.36.16-.75.24-1.18.24-.42 0-.81-.08-1.17-.24a2.67 2.67 0 01-.93-.66 3.07 3.07 0 01-.6-1.04c-.15-.4-.22-.84-.22-1.34 0-.49.07-.93.21-1.34.15-.4.35-.75.6-1.04a2.93 2.93 0 012.1-.9c.44 0 .83.08 1.19.24.36.15.67.38.93.66.26.3.46.64.6 1.04.15.4.22.85.22 1.34zm-1.16 0c0-.7-.16-1.26-.48-1.67a1.54 1.54 0 00-1.29-.62c-.54 0-.97.2-1.29.62-.31.4-.47.97-.47 1.67s.16 1.26.47 1.67c.32.42.75.62 1.3.62.54 0 .97-.2 1.28-.62.32-.4.48-.97.48-1.67zm2.73-2.94a8.71 8.71 0 012.47-.31c.4 0 .74.05 1.01.16.28.1.5.27.69.47a4.3 4.3 0 01.7-.37c.18-.07.38-.13.6-.18.21-.06.44-.08.69-.08.48 0 .87.07 1.18.2.3.15.54.35.71.6.17.26.29.56.35.91.06.36.09.74.09 1.16V18h-1.12v-3.26c0-.37-.02-.69-.05-.95-.04-.27-.1-.49-.2-.66a.93.93 0 00-.41-.4 2.47 2.47 0 00-1.6.02c-.24.11-.41.2-.5.28a6.1 6.1 0 01.2 1.46V18h-1.12v-3.26c0-.37-.02-.69-.06-.95a1.91 1.91 0 00-.21-.66.93.93 0 00-.41-.4 1.49 1.49 0 00-.65-.12 5.79 5.79 0 00-1.24.12V18h-1.12v-6.06zm14.15-.18h2.37v.94h-2.37v2.88c0 .3.03.57.07.77.05.2.12.36.22.48s.22.2.36.25a2.37 2.37 0 001.31-.04l.43-.17.22.93a4.14 4.14 0 01-1.55.33c-.43 0-.78-.05-1.05-.16-.28-.1-.5-.27-.67-.49a1.95 1.95 0 01-.35-.8c-.07-.31-.1-.68-.1-1.1v-5.56l1.11-.2v1.94zm3.78 6.24V8.88l1.12-.2v3.2a3.78 3.78 0 011.37-.25c.5 0 .9.07 1.23.2.33.15.6.34.79.6.2.25.33.55.41.9.08.35.12.74.12 1.17V18h-1.11v-3.26c0-.39-.03-.72-.08-.99s-.14-.49-.26-.66a1.02 1.02 0 00-.48-.36 2.1 2.1 0 00-.74-.12 7.99 7.99 0 00-1.25.2V18h-1.12zm6.5-3.1c0-.56.09-1.04.25-1.45.16-.42.37-.76.63-1.03.27-.27.57-.48.91-.61.35-.14.7-.2 1.06-.2.84 0 1.48.26 1.93.78.45.52.67 1.32.67 2.4v.39h-4.28c.05.65.24 1.14.56 1.48.33.33.84.5 1.54.5a4.1 4.1 0 001.6-.3l.15.94a5.08 5.08 0 01-1.87.35c-.54 0-1.01-.09-1.41-.25a2.63 2.63 0 01-1.55-1.7c-.12-.4-.18-.84-.18-1.3zm4.29-.62c0-.5-.12-.92-.38-1.24a1.3 1.3 0 00-1.07-.49 1.47 1.47 0 00-1.18.54 1.8 1.8 0 00-.32.55c-.07.21-.12.42-.15.64h3.1zM55.93 39.34c2.43 0 3.65-.83 3.65-2.5 0-.5-.11-.94-.33-1.3-.21-.36-.5-.67-.87-.94-.37-.26-.8-.49-1.26-.68-.48-.2-.98-.38-1.5-.58-.61-.2-1.19-.44-1.73-.7a6.05 6.05 0 01-1.42-.94c-.4-.36-.71-.79-.95-1.28-.23-.5-.34-1.1-.34-1.8 0-1.46.5-2.6 1.48-3.41 1-.82 2.36-1.23 4.1-1.23 1.02 0 1.93.11 2.76.33.82.21 1.42.45 1.8.7l-.74 1.9a8.05 8.05 0 00-3.82-.91c-.44 0-.86.05-1.24.14-.38.1-.72.24-1 .44-.3.19-.52.43-.7.73-.16.3-.24.64-.24 1.04 0 .45.08.83.26 1.13.18.3.42.57.74.8.32.24.7.45 1.12.64.42.2.9.38 1.4.58.72.28 1.38.57 1.98.86.6.29 1.12.63 1.56 1.03.44.4.78.88 1.02 1.43.24.55.36 1.22.36 2 0 1.46-.53 2.58-1.6 3.36-1.06.79-2.56 1.18-4.5 1.18a11.54 11.54 0 01-5.13-1.18l.7-1.92a8.63 8.63 0 004.44 1.08zm8.76-10.46c.51-.13 1.19-.26 2.04-.4.85-.15 1.82-.22 2.93-.22.99 0 1.81.14 2.47.42.65.28 1.18.67 1.57 1.17.4.5.67 1.11.83 1.81.16.7.24 1.48.24 2.33V41h-2.23v-6.53c0-.77-.06-1.42-.16-1.97-.1-.54-.28-.98-.52-1.32a2.04 2.04 0 00-.96-.73c-.4-.15-.9-.23-1.48-.23a11.93 11.93 0 00-2.1.17l-.4.07V41h-2.23V28.88zm18 10.51c.53 0 1-.01 1.4-.03.41-.03.75-.07 1.02-.14V35.5a2.86 2.86 0 00-.78-.2 8.68 8.68 0 00-2.37-.01 3.3 3.3 0 00-1.04.3c-.3.15-.57.36-.78.62-.2.27-.3.61-.3 1.05 0 .8.25 1.35.76 1.66a4 4 0 002.09.47zm-.2-11.18c.9 0 1.66.11 2.27.35.62.23 1.12.56 1.5.98.37.42.64.93.8 1.51.16.59.24 1.23.24 1.93v7.8l-.8.14a23.37 23.37 0 01-2.58.28c-.5.04-1 .06-1.5.06-.7 0-1.35-.07-1.94-.21-.6-.15-1.1-.37-1.54-.69a3.13 3.13 0 01-1-1.23 4.33 4.33 0 01-.36-1.85 3.35 3.35 0 011.56-2.98c.48-.3 1.04-.52 1.68-.67a9.16 9.16 0 013.4-.08 40.87 40.87 0 01.9.18v-.63c0-.36-.05-.73-.13-1.09a2.5 2.5 0 00-.43-.96c-.2-.28-.5-.5-.85-.67a3.34 3.34 0 00-1.4-.25c-.74 0-1.39.05-1.94.15-.55.1-.96.22-1.23.33l-.27-1.85c.29-.13.77-.25 1.44-.37.67-.12 1.4-.18 2.19-.18zm17.17 6.57c0-1.45-.36-2.57-1.08-3.36a3.72 3.72 0 00-2.88-1.17c-.68 0-1.2.02-1.58.07-.37.05-.67.1-.9.17v7.87c.28.22.67.44 1.18.65a4.42 4.42 0 003.32-.04c.46-.23.83-.55 1.12-.96.29-.4.5-.89.62-1.44.13-.55.2-1.15.2-1.79zm2.32 0a8.8 8.8 0 01-.37 2.62c-.25.8-.61 1.49-1.09 2.06a4.96 4.96 0 01-1.76 1.35c-.7.32-1.5.48-2.4.48a5.8 5.8 0 01-3.14-.84v4.99H91V28.9l1.98-.42c.8-.15 1.71-.22 2.75-.22a7 7 0 012.6.45 5.55 5.55 0 013.22 3.35c.3.8.44 1.72.44 2.72zm12.7 4.56c2.43 0 3.65-.83 3.65-2.5 0-.5-.11-.94-.33-1.3-.21-.36-.5-.67-.87-.94-.37-.26-.79-.49-1.26-.68-.47-.2-.97-.38-1.5-.58-.61-.2-1.19-.44-1.73-.7a6.05 6.05 0 01-1.42-.94c-.4-.36-.71-.79-.94-1.28-.24-.5-.35-1.1-.35-1.8 0-1.46.5-2.6 1.49-3.41.99-.82 2.36-1.23 4.1-1.23 1 0 1.92.11 2.75.33.82.21 1.43.45 1.81.7l-.74 1.9a8.05 8.05 0 00-3.82-.91c-.45 0-.86.05-1.25.14-.38.1-.72.24-1 .44-.3.19-.52.43-.69.73-.17.3-.25.64-.25 1.04 0 .45.09.83.26 1.13.18.3.43.57.75.8.32.24.69.45 1.11.64.43.2.9.38 1.4.58.73.28 1.39.57 1.99.86.6.29 1.12.63 1.56 1.03.44.4.78.88 1.02 1.43.24.55.36 1.22.36 2 0 1.46-.54 2.58-1.6 3.36-1.06.79-2.56 1.18-4.5 1.18a11.54 11.54 0 01-5.14-1.18l.7-1.92a8.63 8.63 0 004.44 1.08zm10.85-10.82h4.73v1.87h-4.73v5.76c0 .63.05 1.14.14 1.55.1.4.24.73.43.96.2.23.44.4.72.5a4.74 4.74 0 002.63-.08l.85-.34.44 1.85c-.23.11-.62.25-1.18.42-.56.17-1.2.25-1.92.25-.85 0-1.55-.1-2.1-.32s-1-.54-1.33-.97a3.9 3.9 0 01-.71-1.6c-.14-.63-.2-1.36-.2-2.2V25.05l2.23-.38v3.86zm18.24 6.24c0 1-.15 1.89-.43 2.69-.3.8-.7 1.49-1.22 2.06a5.33 5.33 0 01-1.86 1.33c-.72.32-1.5.47-2.35.47-.85 0-1.63-.15-2.35-.47a5.33 5.33 0 01-1.86-1.33 6.15 6.15 0 01-1.21-2.06 7.9 7.9 0 01-.43-2.69c0-.98.14-1.87.43-2.68.29-.8.69-1.5 1.21-2.07a5.33 5.33 0 011.86-1.33c.72-.32 1.5-.47 2.35-.47.85 0 1.63.15 2.35.47.72.3 1.34.75 1.86 1.33.52.57.93 1.27 1.22 2.07.28.81.43 1.7.43 2.68zm-2.33 0c0-1.4-.32-2.52-.95-3.35a3.08 3.08 0 00-2.58-1.23c-1.09 0-1.95.4-2.58 1.23a5.37 5.37 0 00-.95 3.35c0 1.4.32 2.52.95 3.35.63.82 1.5 1.23 2.58 1.23 1.09 0 1.95-.4 2.58-1.23.63-.83.95-1.94.95-3.35zm10.08-6.5a6.94 6.94 0 011.4.13 20.92 20.92 0 011.1.23l-.39 1.94a7.48 7.48 0 00-4.49-.05V41h-2.23V29.05c.53-.2 1.19-.37 1.97-.54.78-.17 1.66-.25 2.64-.25zm3.96 6.52c0-1.1.16-2.06.48-2.89.32-.82.74-1.5 1.27-2.05a5.16 5.16 0 011.83-1.22 5.7 5.7 0 012.1-.41c1.69 0 2.98.52 3.87 1.57.9 1.05 1.35 2.64 1.35 4.79v.37c0 .15-.01.3-.03.42h-8.54c.1 1.3.47 2.28 1.13 2.95.65.67 1.68 1.01 3.07 1.01a8.19 8.19 0 003.19-.6l.31 1.87c-.27.15-.75.3-1.43.46-.68.16-1.45.24-2.31.24a7.35 7.35 0 01-2.82-.5 5.26 5.26 0 01-3.1-3.4 8.68 8.68 0 01-.37-2.6zm8.57-1.22c.01-1-.24-1.84-.76-2.48a2.6 2.6 0 00-2.15-.98 2.94 2.94 0 00-2.35 1.08c-.27.32-.48.7-.63 1.1-.16.42-.26.85-.3 1.28h6.19z\",\"fill\":\"currentColor\",\"key\":2})]));\n}\n\nSnapStore.defaultProps = {\"width\":\"182\",\"height\":\"56\"};\n\nmodule.exports = SnapStore;\n\nSnapStore.default = SnapStore;\n","var React = require('react');\n\nfunction Sunny (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"sunny icon\"),React.createElement(\"path\",{\"d\":\"M256,118a22,22,0,0,1-22-22V48a22,22,0,0,1,44,0V96A22,22,0,0,1,256,118Z\",\"key\":1}),React.createElement(\"path\",{\"d\":\"M256,486a22,22,0,0,1-22-22V416a22,22,0,0,1,44,0v48A22,22,0,0,1,256,486Z\",\"key\":2}),React.createElement(\"path\",{\"d\":\"M369.14,164.86a22,22,0,0,1-15.56-37.55l33.94-33.94a22,22,0,0,1,31.11,31.11l-33.94,33.94A21.93,21.93,0,0,1,369.14,164.86Z\",\"key\":3}),React.createElement(\"path\",{\"d\":\"M108.92,425.08a22,22,0,0,1-15.55-37.56l33.94-33.94a22,22,0,1,1,31.11,31.11l-33.94,33.94A21.94,21.94,0,0,1,108.92,425.08Z\",\"key\":4}),React.createElement(\"path\",{\"d\":\"M464,278H416a22,22,0,0,1,0-44h48a22,22,0,0,1,0,44Z\",\"key\":5}),React.createElement(\"path\",{\"d\":\"M96,278H48a22,22,0,0,1,0-44H96a22,22,0,0,1,0,44Z\",\"key\":6}),React.createElement(\"path\",{\"d\":\"M403.08,425.08a21.94,21.94,0,0,1-15.56-6.45l-33.94-33.94a22,22,0,0,1,31.11-31.11l33.94,33.94a22,22,0,0,1-15.55,37.56Z\",\"key\":7}),React.createElement(\"path\",{\"d\":\"M142.86,164.86a21.89,21.89,0,0,1-15.55-6.44L93.37,124.48a22,22,0,0,1,31.11-31.11l33.94,33.94a22,22,0,0,1-15.56,37.55Z\",\"key\":8}),React.createElement(\"path\",{\"d\":\"M256,358A102,102,0,1,1,358,256,102.12,102.12,0,0,1,256,358Z\",\"key\":9})]);\n}\n\nSunny.defaultProps = {\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\"};\n\nmodule.exports = Sunny;\n\nSunny.default = Sunny;\n","var React = require('react');\n\nfunction Tux (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"linux logo icon\"),React.createElement(\"path\",{\"d\":\"M443.66,405.05c-1.46-.79-2.85-1.54-4-2.2-6.47-3.83-13-10.52-11.85-17.83,2.42-15.94,2.89-23.47-.49-28.79a15.61,15.61,0,0,0-7.67-6.2l0-.06c1.41-2.56,2.26-5.66,2.83-10.12,1.44-11-5-44-13.7-70.7-8.08-24.68-29.24-50-44.7-68.56l-3.61-4.34c-23.88-28.93-24.34-38.19-26.55-82.67-.32-6.47-.69-13.8-1.17-22C329.87,41.43,304,16,256,16c-25.2,0-44.62,7.15-57.72,21.26C187.79,48.55,182,64,182,80.78c0,29.52,2,53,2.15,54.29,1.4,35.7,1,41.22-8.31,57.55-2.23,3.93-8.38,10.87-14.89,18.21-8.48,9.57-18.09,20.41-23.36,29.22-3.77,6.31-5.88,12.63-8.11,19.33-3.4,10.21-7.26,21.78-18.15,36.57-12.57,17.07-15.52,29.61-11,47.45v0c-4.94,6.45-4.83,14.37-4.75,20.23a25.84,25.84,0,0,1-.3,6.09c-2.29,7.59-12.42,9.4-22,10.18-1.58.12-3.1.21-4.55.29-7.26.39-13.53.74-17.13,6.3-3.47,5.36-1.12,13.8,2.14,25.48.72,2.58,1.46,5.25,2.19,8.06,1.83,7-.16,10.48-2.68,14.84-2.44,4.21-5.21,9-5.21,17.55,0,14.67,20,18,43.05,21.94,7.36,1.24,15,2.53,22.63,4.24a225.58,225.58,0,0,1,34.08,10.68c9.72,3.73,17.4,6.68,26.43,6.68,16.18,0,28.25-9.77,39.92-19.21L216.3,475c5.53-4.49,21.5-4,34.34-3.64,3.46.1,6.73.2,9.65.2l6.22,0c13.48-.08,31.94-.18,42.23,2.5,3.75,1,6.2,3.72,9.29,7.19C323.9,487.81,331.2,496,351.42,496c19.39,0,29.55-8.71,41.32-18.8,7.16-6.13,14.56-12.48,25.07-17.86,3.92-2,7.62-3.87,11.08-5.61C451.53,442.35,464,436.08,464,425.91,464,416,451.76,409.41,443.66,405.05ZM211.11,88.38a13.91,13.91,0,0,1,12.47,9c1.95,5.55,1.81,10.42.21,12.94,0,0-.22-1-.36-1.44a14.85,14.85,0,0,0-6.44-8.59,11.35,11.35,0,0,0-8.94-1.47c-4.26,1.13-8.41,5-8.91,18.79-5.16-10.47-2.31-18,.92-23C202.37,90.88,207.53,88.28,211.11,88.38Zm-17.5,375C192,479.24,175.2,479,170.09,478.59c-9.81-.82-21.66-4.69-33.13-8.43-4.52-1.47-9.19-3-13.73-4.34-13.2-3.89-30.12-6.74-43.72-9-3.22-.55-6.27-1.06-9.05-1.55s-4.61-1.27-5.2-2.3c-1-1.65.38-5.25,1.93-9.41C69.27,438,72.11,430.34,72,421c0-3.91-1.47-8.3-2.84-12.56-1.62-5-3.28-10.17-1.93-12.62,1.23-2.23,6.75-2.49,11.6-2.49h2.26c3.55,0,6.62.06,8.75-.53,6.51-1.81,14.86-6.92,17.81-13.88.9-2.17,1.37-6.94,2-14,.37-4.12.74-8.37,1.22-10.58a3.55,3.55,0,0,1,2.11-2.55c1.65-.77,6.78-1.91,18.63,4.08,11.18,5.65,22.88,25.84,34.2,45.37,3.56,6.14,6.92,11.94,10.3,17.36C190.15,441.14,194.94,450.2,193.61,463.4Zm128.84-31.56a68.74,68.74,0,0,1-4.55,10.9.58.58,0,0,1-1.08-.42,56.61,56.61,0,0,0,2.11-18.43c-.25-4.73-.4-7.59-2.66-8.51s-4.26.83-9.45,5.54c-1.1,1-2.36,2.14-3.78,3.4-10.8,9.47-26.88,20.68-55.61,23.37-16.84,1.59-27.59-4.63-30.92-8.14a2.16,2.16,0,0,0-3.07-.08,2.23,2.23,0,0,0-.51,2.29c2.12,6.84,1.2,12.26-.49,16.19-.95,2.2-1.85,2.05-2-.34-.25-4.64-1-9.88-3-14.19-3.11-6.94-7-14.34-8.89-17.88v-.05c3.24-1.49,8.86-4.83,11.37-10.88s4.48-18-9.82-31.74c-6.28-6.05-22.1-17.16-36.06-27-10.9-7.65-22.17-15.56-23.65-17.51-4.49-5.89-6.37-9.3-6.94-19.65.07-2.3.13-4.59.19-6.89l.27-2.49a.58.58,0,0,1,1.15,0,63.07,63.07,0,0,0,2,9.72c1.08,3.73,2.4,7.58,3.62,9.18,3.19,4.22,7.56,7.39,11.67,8.49a5.48,5.48,0,0,0,5-.72c2.93-2.33,2.65-7.6,2.19-16.34-.47-9-1.11-21.34,1.85-34.55,5.62-25,10.91-32.51,17.61-42,.86-1.22,1.75-2.47,2.65-3.79,1.44-2.08,3-4.1,4.67-6.23,7.47-9.61,15.93-20.49,13.92-40.95-.51-5.19-.76-8.83-.86-11.39a1,1,0,0,1,1.88-.59l.49.77,1.21,2c4.86,8,13.64,22.57,25.1,22.57a13.62,13.62,0,0,0,2.36-.21c23.39-3.93,51.9-30.25,52.17-30.51,3.12-3,2.84-6.14,1.64-7.91a5.18,5.18,0,0,0-6.45-1.72c-3.29,1.4-7.14,3.15-11.22,5-13.82,6.27-37,16.75-42.25,14.34a23.11,23.11,0,0,1-6.32-5.13,1,1,0,0,1,1.14-1.65c5.59,2.29,9.55,1.45,14.2-.08l1-.34c9.37-3.09,14.2-4.77,30.76-12.08a97.55,97.55,0,0,1,16.26-5.93c4-1,6.42-1.63,7.71-4.34a6.65,6.65,0,0,0-.5-7.13c-1.53-1.87-4.07-2.57-7-1.9-3.22.75-4.7,3-6.41,4.49-2.4,2.05-5,4.16-17.19,8.65-27,10-34.58,10.61-45.21,3.43-9.84-6.69-15.15-13.23-15.15-16,0-2.13,5.45-5.7,8.71-7.84,1.33-.87,2.59-1.69,3.62-2.46,4.34-3.22,13-11.39,13.38-11.73,5.4-5.41,17.91-2.18,25,2.58a2.23,2.23,0,0,0,1.72.41,2.14,2.14,0,0,0,1.68-2.58c-4.2-17.46-.13-27.34,4-32.55a22.58,22.58,0,0,1,17.48-8.48c12.81,0,21.76,10,21.76,24.42,0,11-2.82,16.79-5.48,20.3a1.73,1.73,0,0,1-2.58.18,1.78,1.78,0,0,1-.24-2.2A24.61,24.61,0,0,0,290,114a16.58,16.58,0,0,0-16.84-16.67c-3.94,0-13.48,1.5-16.77,15.44a29.81,29.81,0,0,0-.34,11.07l.08.71c.9,7.38,15.3,12.51,27.23,15.51,11.36,2.85,13,6.22,8.84,19.63s3.11,26.23,5.7,29.57a78.3,78.3,0,0,1,8.31,12.47,93.8,93.8,0,0,1,6.62,16.48c2.17,6.79,4.05,12.65,10.63,21.22,11.07,14.4,17.66,48.64,15,78-.21,2.41-.53,4.29-.77,5.67-.43,2.53-.72,4.2.66,5.38s3.16.7,7.26-.63l3.43-1.09a109.33,109.33,0,0,1,12.58-2.8,2.15,2.15,0,0,0,1.59-1.16c3.43-6.91,3.85-15.22,4-22.47q0-1.31.06-2.79c.19-7.77.45-18.93-2.95-32a1,1,0,0,1,1.93-.64,93,93,0,0,1,6.66,25.55c2.55,22.58-1.9,32.09-1.94,32.17a1.61,1.61,0,0,0,.95,2.25,17.12,17.12,0,0,1,6.95,4.67c1.46,1.66.93,2.4-1.14,1.62a36.26,36.26,0,0,0-12.77-2.29c-10.4,0-18.09,4.95-21.51,9.19-3.19,3.94-3.7,7.67-3.83,11.27l-.06.05c-7.48-.75-12.94,1.21-17.47,6.21l-.08.09c-6.26,7.75-4,24.63-1.29,38.48h0C322,400.61,326.31,419.68,322.45,431.84Zm96.1,10.07c-15.71,6.71-25.43,14.51-34,21.39-5.65,4.53-11,8.81-17.28,12.14-10.12,5.34-24.91,6.53-33.27-7.7-2.37-4-.71-9.86,1.58-17.95,3.05-10.75,7.23-25.46,3.71-44.65-.94-5.12-1.77-9.51-2.49-13.31C334,377,332.9,371.43,334,367c.63-2.45,3.43-3,5.87-3a20.83,20.83,0,0,1,2.63.19l0,0a29.51,29.51,0,0,0,7,12.1c5.7,5.86,13.63,8.83,23.56,8.85,2.1.17,25.94,1.55,36.54-22.4l0,0c1.46.18,3.65.7,4.3,2.3,1.28,3.19-.27,8.91-1.52,13.5-.9,3.31-1.68,6.16-1.63,8.37.31,16,11,22.78,25.83,32.16,1.79,1.13,3.66,2.31,5.55,3.54S445,425,445,426C444.48,430.79,425,439.16,418.55,441.91Z\",\"key\":1})]);\n}\n\nTux.defaultProps = {\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\"};\n\nmodule.exports = Tux;\n\nTux.default = Tux;\n","var React = require('react');\n\nfunction Windows (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"windows operating system logo\"),React.createElement(\"path\",{\"d\":\"M480,265H232V444l248,36V265Z\",\"key\":1}),React.createElement(\"path\",{\"d\":\"M216,265H32V415l184,26.7V265Z\",\"key\":2}),React.createElement(\"path\",{\"d\":\"M480,32,232,67.4V249H480V32Z\",\"key\":3}),React.createElement(\"path\",{\"d\":\"M216,69.7,32,96V249H216V69.7Z\",\"key\":4})]);\n}\n\nWindows.defaultProps = {\"width\":\"512\",\"height\":\"512\",\"viewBox\":\"0 0 512 512\"};\n\nmodule.exports = Windows;\n\nWindows.default = Windows;\n","var React = require('react');\n\nfunction WatermarkLeft (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"g\",{\"transform\":\"translate(-57 -51)\",\"key\":0},[React.createElement(\"g\",{\"transform\":\"translate(57 51)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"10\",\"opacity\":\"0.8\",\"key\":0},[React.createElement(\"rect\",{\"width\":\"120\",\"height\":\"120\",\"rx\":\"25\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"5\",\"y\":\"5\",\"width\":\"110\",\"height\":\"110\",\"rx\":\"20\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(118 191)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(212,141,10,0.1)\",\"strokeWidth\":\"7\",\"opacity\":\"0.4\",\"key\":1},[React.createElement(\"rect\",{\"width\":\"60\",\"height\":\"60\",\"rx\":\"16\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"3.5\",\"y\":\"3.5\",\"width\":\"53\",\"height\":\"53\",\"rx\":\"12.5\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(197 86)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(7,181,131,0.1)\",\"strokeWidth\":\"8\",\"opacity\":\"0.6\",\"key\":2},[React.createElement(\"rect\",{\"width\":\"80\",\"height\":\"80\",\"rx\":\"20\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4\",\"y\":\"4\",\"width\":\"72\",\"height\":\"72\",\"rx\":\"16\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(198 186)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"9\",\"opacity\":\"0.2\",\"key\":3},[React.createElement(\"rect\",{\"width\":\"100\",\"height\":\"100\",\"rx\":\"22\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4.5\",\"y\":\"4.5\",\"width\":\"91\",\"height\":\"91\",\"rx\":\"17.5\",\"fill\":\"none\",\"key\":1})])]),React.createElement(\"g\",{\"transform\":\"translate(439 421) rotate(180)\",\"key\":1},[React.createElement(\"g\",{\"transform\":\"translate(57 51)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"10\",\"opacity\":\"0.8\",\"key\":0},[React.createElement(\"rect\",{\"width\":\"120\",\"height\":\"120\",\"rx\":\"25\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"5\",\"y\":\"5\",\"width\":\"110\",\"height\":\"110\",\"rx\":\"20\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(118 191)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(212,141,10,0.1)\",\"strokeWidth\":\"7\",\"opacity\":\"0.4\",\"key\":1},[React.createElement(\"rect\",{\"width\":\"60\",\"height\":\"60\",\"rx\":\"16\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"3.5\",\"y\":\"3.5\",\"width\":\"53\",\"height\":\"53\",\"rx\":\"12.5\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(197 86)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(7,181,131,0.1)\",\"strokeWidth\":\"8\",\"opacity\":\"0.6\",\"key\":2},[React.createElement(\"rect\",{\"width\":\"80\",\"height\":\"80\",\"rx\":\"20\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4\",\"y\":\"4\",\"width\":\"72\",\"height\":\"72\",\"rx\":\"16\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(198 186)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"9\",\"opacity\":\"0.2\",\"key\":3},[React.createElement(\"rect\",{\"width\":\"100\",\"height\":\"100\",\"rx\":\"22\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4.5\",\"y\":\"4.5\",\"width\":\"91\",\"height\":\"91\",\"rx\":\"17.5\",\"fill\":\"none\",\"key\":1})])])]);\n}\n\nWatermarkLeft.defaultProps = {\"width\":\"382\",\"height\":\"370\",\"viewBox\":\"0 0 382 370\"};\n\nmodule.exports = WatermarkLeft;\n\nWatermarkLeft.default = WatermarkLeft;\n","var React = require('react');\n\nfunction WatermarkRight (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"g\",{\"transform\":\"translate(142)\",\"key\":0},[React.createElement(\"g\",{\"transform\":\"translate(121)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"10\",\"opacity\":\"0.8\",\"key\":0},[React.createElement(\"rect\",{\"width\":\"120\",\"height\":\"120\",\"rx\":\"25\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"5\",\"y\":\"5\",\"width\":\"110\",\"height\":\"110\",\"rx\":\"20\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(120 140)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(212,141,10,0.1)\",\"strokeWidth\":\"7\",\"opacity\":\"0.4\",\"key\":1},[React.createElement(\"rect\",{\"width\":\"60\",\"height\":\"60\",\"rx\":\"16\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"3.5\",\"y\":\"3.5\",\"width\":\"53\",\"height\":\"53\",\"rx\":\"12.5\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(21 35)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(7,181,131,0.1)\",\"strokeWidth\":\"8\",\"opacity\":\"0.6\",\"key\":2},[React.createElement(\"rect\",{\"width\":\"80\",\"height\":\"80\",\"rx\":\"20\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4\",\"y\":\"4\",\"width\":\"72\",\"height\":\"72\",\"rx\":\"16\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(0 135)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"9\",\"opacity\":\"0.2\",\"key\":3},[React.createElement(\"rect\",{\"width\":\"100\",\"height\":\"100\",\"rx\":\"22\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4.5\",\"y\":\"4.5\",\"width\":\"91\",\"height\":\"91\",\"rx\":\"17.5\",\"fill\":\"none\",\"key\":1})])]),React.createElement(\"g\",{\"transform\":\"translate(0 135)\",\"key\":1},[React.createElement(\"g\",{\"transform\":\"translate(0 115)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"10\",\"opacity\":\"0.8\",\"key\":0},[React.createElement(\"rect\",{\"width\":\"120\",\"height\":\"120\",\"rx\":\"25\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"5\",\"y\":\"5\",\"width\":\"110\",\"height\":\"110\",\"rx\":\"20\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(61 35)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(212,141,10,0.1)\",\"strokeWidth\":\"7\",\"opacity\":\"0.4\",\"key\":1},[React.createElement(\"rect\",{\"width\":\"60\",\"height\":\"60\",\"rx\":\"16\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"3.5\",\"y\":\"3.5\",\"width\":\"53\",\"height\":\"53\",\"rx\":\"12.5\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(140 120)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(7,181,131,0.1)\",\"strokeWidth\":\"8\",\"opacity\":\"0.6\",\"key\":2},[React.createElement(\"rect\",{\"width\":\"80\",\"height\":\"80\",\"rx\":\"20\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4\",\"y\":\"4\",\"width\":\"72\",\"height\":\"72\",\"rx\":\"16\",\"fill\":\"none\",\"key\":1})]),React.createElement(\"g\",{\"transform\":\"translate(141)\",\"fill\":\"rgba(255,255,255,0)\",\"stroke\":\"rgba(44,167,248,0.1)\",\"strokeWidth\":\"9\",\"opacity\":\"0.2\",\"key\":3},[React.createElement(\"rect\",{\"width\":\"100\",\"height\":\"100\",\"rx\":\"22\",\"stroke\":\"none\",\"key\":0}),React.createElement(\"rect\",{\"x\":\"4.5\",\"y\":\"4.5\",\"width\":\"91\",\"height\":\"91\",\"rx\":\"17.5\",\"fill\":\"none\",\"key\":1})])])]);\n}\n\nWatermarkRight.defaultProps = {\"width\":\"383\",\"height\":\"370\",\"viewBox\":\"0 0 383 370\"};\n\nmodule.exports = WatermarkRight;\n\nWatermarkRight.default = WatermarkRight;\n","import { invariant } from '../../utils/errors.mjs';\nimport { setValues } from '../../render/utils/setters.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\n\nfunction stopAnimation(visualElement) {\n    visualElement.values.forEach((value) => value.stop());\n}\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    let hasMounted = false;\n    /**\n     * A collection of linked component animation controls.\n     */\n    const subscribers = new Set();\n    const controls = {\n        subscribe(visualElement) {\n            subscribers.add(visualElement);\n            return () => void subscribers.delete(visualElement);\n        },\n        start(definition, transitionOverride) {\n            invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            const animations = [];\n            subscribers.forEach((visualElement) => {\n                animations.push(animateVisualElement(visualElement, definition, {\n                    transitionOverride,\n                }));\n            });\n            return Promise.all(animations);\n        },\n        set(definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach((visualElement) => {\n                setValues(visualElement, definition);\n            });\n        },\n        stop() {\n            subscribers.forEach((visualElement) => {\n                stopAnimation(visualElement);\n            });\n        },\n        mount() {\n            hasMounted = true;\n            return () => {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls };\n","import { animationControls } from './animation-controls.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\n/**\n * Creates `AnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `AnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimationControls() {\n    const controls = useConstant(animationControls);\n    useIsomorphicLayoutEffect(controls.mount, []);\n    return controls;\n}\nconst useAnimation = useAnimationControls;\n\nexport { useAnimation, useAnimationControls };\n","const instantAnimationState = {\n    current: false,\n};\n\nexport { instantAnimationState };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { isBezierDefinition } from '../../../easing/utils/is-bezier-definition.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean(!easing ||\n        (typeof easing === \"string\" && supportedWaapiEasing[easing]) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing) {\n    if (!easing)\n        return undefined;\n    return isBezierDefinition(easing)\n        ? cubicBezierAsString(easing)\n        : Array.isArray(easing)\n            ? easing.map(mapEasingToNativeEasing)\n            : supportedWaapiEasing[easing];\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n","import { noop } from '../utils/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gaëtan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = cubicBezier(0.42, 0, 1, 1);\nconst easeOut = cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = reverseEasing(backOut);\nconst backInOut = mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { invariant } from '../../utils/errors.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { anticipate } from '../anticipate.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","import { mix } from './mix.mjs';\nimport { invariant } from './errors.mjs';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\nimport { hex } from '../value/types/color/hex.mjs';\nimport { rgba } from '../value/types/color/rgba.mjs';\nimport { hsla } from '../value/types/color/hsla.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    return Math.sqrt(Math.max(0, v * (to * to - fromExpo) + fromExpo));\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    invariant(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Framer Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mix(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../value/types/complex/index.mjs';\n\nconst mixImmediate = (origin, target) => (p) => `${p > 0 ? target : origin}`;\nfunction getMixer(origin, target) {\n    if (typeof origin === \"number\") {\n        return (v) => mix(origin, target, v);\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return origin.startsWith(\"var(\")\n            ? mixImmediate(origin, target)\n            : mixComplex(origin, target);\n    }\n}\nconst mixArray = (from, to) => {\n    const output = [...from];\n    const numValues = output.length;\n    const blendValue = from.map((fromThis, i) => getMixer(fromThis, to[i]));\n    return (v) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nconst mixObject = (origin, target) => {\n    const output = { ...origin, ...target };\n    const blendValue = {};\n    for (const key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.numVars === targetStats.numVars &&\n        originStats.numColors === targetStats.numColors &&\n        originStats.numNumbers >= targetStats.numNumbers;\n    if (canInterpolate) {\n        return pipe(mixArray(originStats.values, targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { mixArray, mixComplex, mixObject };\n","import { invariant } from './errors.mjs';\nimport { color } from '../value/types/color/index.mjs';\nimport { clamp } from './clamp.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { pipe } from './pipe.mjs';\nimport { progress } from './progress.mjs';\nimport { noop } from './noop.mjs';\n\nconst mixNumber = (from, to) => (p) => mix(from, to, p);\nfunction detectMixerFactory(v) {\n    if (typeof v === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof v === \"string\") {\n        return color.test(v) ? mixColor : mixComplex;\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === \"object\") {\n        return mixObject;\n    }\n    return mixNumber;\n}\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || detectMixerFactory(output[0]);\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","import { mix } from '../mix.mjs';\nimport { progress } from '../progress.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mix(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","import { warning } from '../../../utils/errors.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: 0.0,\n        stiffness: 100,\n        damping: 10,\n        mass: 1.0,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = {\n            ...springOptions,\n            ...derived,\n            velocity: 0.0,\n            mass: 1.0,\n        };\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring({ keyframes, restDelta, restSpeed, ...options }) {\n    const origin = keyframes[0];\n    const target = keyframes[keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, velocity, duration, isResolvedFromDuration, } = getSpringOptions(options);\n    const initialVelocity = velocity ? -millisecondsToSeconds(velocity) : 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale ? 0.01 : 2);\n    restDelta || (restDelta = isGranularScale ? 0.005 : 0.5);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    return {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = initialVelocity;\n                if (t !== 0) {\n                    /**\n                     * We only need to calculate velocity for under-damped springs\n                     * as over- and critically-damped springs can't overshoot, so\n                     * checking only for displacement is enough.\n                     */\n                    if (dampingRatio < 1) {\n                        currentVelocity = calcGeneratorVelocity(resolveSpring, t, current);\n                    }\n                    else {\n                        currentVelocity = 0;\n                    }\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n    };\n}\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value),\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t > timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => frameData.isProcessing ? frameData.timestamp : performance.now(),\n    };\n};\n\nexport { frameloopDriver };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { keyframes } from '../../generators/keyframes.mjs';\nimport { spring } from '../../generators/spring/index.mjs';\nimport { inertia } from '../../generators/inertia.mjs';\nimport { frameloopDriver } from './driver-frameloop.mjs';\nimport { interpolate } from '../../../utils/interpolate.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorDuration } from '../../generators/utils/calc-duration.mjs';\n\nconst types = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\n/**\n * Animate a single value on the main thread.\n *\n * This function is written, where functionality overlaps,\n * to be largely spec-compliant with WAAPI to allow fungibility\n * between the two.\n */\nfunction animateValue({ autoplay = true, delay = 0, driver = frameloopDriver, keyframes: keyframes$1, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", onPlay, onStop, onComplete, onUpdate, ...options }) {\n    let speed = 1;\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let animationDriver;\n    const generatorFactory = types[type] || keyframes;\n    /**\n     * If this isn't the keyframes generator and we've been provided\n     * strings as keyframes, we need to interpolate these.\n     * TODO: Support velocity for units and complex value types/\n     */\n    let mapNumbersToKeyframes;\n    if (generatorFactory !== keyframes &&\n        typeof keyframes$1[0] !== \"number\") {\n        mapNumbersToKeyframes = interpolate([0, 100], keyframes$1, {\n            clamp: false,\n        });\n        keyframes$1 = [0, 100];\n    }\n    const generator = generatorFactory({ ...options, keyframes: keyframes$1 });\n    let mirroredGenerator;\n    if (repeatType === \"mirror\") {\n        mirroredGenerator = generatorFactory({\n            ...options,\n            keyframes: [...keyframes$1].reverse(),\n            velocity: -(options.velocity || 0),\n        });\n    }\n    let playState = \"idle\";\n    let holdTime = null;\n    let startTime = null;\n    let cancelTime = null;\n    /**\n     * If duration is undefined and we have repeat options,\n     * we need to calculate a duration from the generator.\n     *\n     * We set it to the generator itself to cache the duration.\n     * Any timeline resolver will need to have already precalculated\n     * the duration by this step.\n     */\n    if (generator.calculatedDuration === null && repeat) {\n        generator.calculatedDuration = calcGeneratorDuration(generator);\n    }\n    const { calculatedDuration } = generator;\n    let resolvedDuration = Infinity;\n    let totalDuration = Infinity;\n    if (calculatedDuration !== null) {\n        resolvedDuration = calculatedDuration + repeatDelay;\n        totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n    }\n    let currentTime = 0;\n    const tick = (timestamp) => {\n        if (startTime === null)\n            return;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (speed > 0)\n            startTime = Math.min(startTime, timestamp);\n        if (speed < 0)\n            startTime = Math.min(timestamp - totalDuration / speed, startTime);\n        if (holdTime !== null) {\n            currentTime = holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            currentTime = Math.round(timestamp - startTime) * speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = currentTime - delay * (speed >= 0 ? 1 : -1);\n        const isInDelayPhase = speed >= 0 ? timeWithoutDelay < 0 : timeWithoutDelay > totalDuration;\n        currentTime = Math.max(timeWithoutDelay, 0);\n        /**\n         * If this animation has finished, set the current time\n         * to the total duration.\n         */\n        if (playState === \"finished\" && holdTime === null) {\n            currentTime = totalDuration;\n        }\n        let elapsed = currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = currentTime / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const iterationIsOdd = Boolean(currentIteration % 2);\n            if (iterationIsOdd) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            let p = clamp(0, 1, iterationProgress);\n            if (currentTime > totalDuration) {\n                p = repeatType === \"reverse\" && iterationIsOdd ? 1 : 0;\n            }\n            elapsed = p * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes$1[0] }\n            : frameGenerator.next(elapsed);\n        if (mapNumbersToKeyframes) {\n            state.value = mapNumbersToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done = speed >= 0 ? currentTime >= totalDuration : currentTime <= 0;\n        }\n        const isAnimationFinished = holdTime === null &&\n            (playState === \"finished\" || (playState === \"running\" && done));\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            finish();\n        }\n        return state;\n    };\n    const stopAnimationDriver = () => {\n        animationDriver && animationDriver.stop();\n        animationDriver = undefined;\n    };\n    const cancel = () => {\n        playState = \"idle\";\n        stopAnimationDriver();\n        resolveFinishedPromise();\n        updateFinishedPromise();\n        startTime = cancelTime = null;\n    };\n    const finish = () => {\n        playState = \"finished\";\n        onComplete && onComplete();\n        stopAnimationDriver();\n        resolveFinishedPromise();\n    };\n    const play = () => {\n        if (hasStopped)\n            return;\n        if (!animationDriver)\n            animationDriver = driver(tick);\n        const now = animationDriver.now();\n        onPlay && onPlay();\n        if (holdTime !== null) {\n            startTime = now - holdTime;\n        }\n        else if (!startTime || playState === \"finished\") {\n            startTime = now;\n        }\n        if (playState === \"finished\") {\n            updateFinishedPromise();\n        }\n        cancelTime = startTime;\n        holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        playState = \"running\";\n        animationDriver.start();\n    };\n    if (autoplay) {\n        play();\n    }\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        get time() {\n            return millisecondsToSeconds(currentTime);\n        },\n        set time(newTime) {\n            newTime = secondsToMilliseconds(newTime);\n            currentTime = newTime;\n            if (holdTime !== null || !animationDriver || speed === 0) {\n                holdTime = newTime;\n            }\n            else {\n                startTime = animationDriver.now() - newTime / speed;\n            }\n        },\n        get duration() {\n            const duration = generator.calculatedDuration === null\n                ? calcGeneratorDuration(generator)\n                : generator.calculatedDuration;\n            return millisecondsToSeconds(duration);\n        },\n        get speed() {\n            return speed;\n        },\n        set speed(newSpeed) {\n            if (newSpeed === speed || !animationDriver)\n                return;\n            speed = newSpeed;\n            controls.time = millisecondsToSeconds(currentTime);\n        },\n        get state() {\n            return playState;\n        },\n        play,\n        pause: () => {\n            playState = \"paused\";\n            holdTime = currentTime;\n        },\n        stop: () => {\n            hasStopped = true;\n            if (playState === \"idle\")\n                return;\n            playState = \"idle\";\n            onStop && onStop();\n            cancel();\n        },\n        cancel: () => {\n            if (cancelTime !== null)\n                tick(cancelTime);\n            cancel();\n        },\n        complete: () => {\n            playState = \"finished\";\n        },\n        sample: (elapsed) => {\n            startTime = 0;\n            return tick(elapsed);\n        },\n    };\n    return controls;\n}\n\nexport { animateValue };\n","import { animateStyle } from './index.mjs';\nimport { isWaapiSupportedEasing } from './easing.mjs';\nimport { getFinalKeyframe } from './utils/get-final-keyframe.mjs';\nimport { animateValue } from '../js/index.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../utils/time-conversion.mjs';\nimport { memo } from '../../../utils/memo.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { frameData, frame, cancelFrame } from '../../../frameloop/frame.mjs';\n\nconst supportsWaapi = memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    \"backgroundColor\",\n]);\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\n/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxDuration = 20000;\nconst requiresPregeneratedKeyframes = (valueName, options) => options.type === \"spring\" ||\n    valueName === \"backgroundColor\" ||\n    !isWaapiSupportedEasing(options.ease);\nfunction createAcceleratedAnimation(value, valueName, { onUpdate, onComplete, ...options }) {\n    const canAccelerateAnimation = supportsWaapi() &&\n        acceleratedValues.has(valueName) &&\n        !options.repeatDelay &&\n        options.repeatType !== \"mirror\" &&\n        options.damping !== 0 &&\n        options.type !== \"inertia\";\n    if (!canAccelerateAnimation)\n        return false;\n    /**\n     * TODO: Unify with js/index\n     */\n    let hasStopped = false;\n    let resolveFinishedPromise;\n    let currentFinishedPromise;\n    /**\n     * Resolve the current Promise every time we enter the\n     * finished state. This is WAAPI-compatible behaviour.\n     */\n    const updateFinishedPromise = () => {\n        currentFinishedPromise = new Promise((resolve) => {\n            resolveFinishedPromise = resolve;\n        });\n    };\n    // Create the first finished promise\n    updateFinishedPromise();\n    let { keyframes, duration = 300, ease, times } = options;\n    /**\n     * If this animation needs pre-generated keyframes then generate.\n     */\n    if (requiresPregeneratedKeyframes(valueName, options)) {\n        const sampleAnimation = animateValue({\n            ...options,\n            repeat: 0,\n            delay: 0,\n        });\n        let state = { done: false, value: keyframes[0] };\n        const pregeneratedKeyframes = [];\n        /**\n         * Bail after 20 seconds of pre-generated keyframes as it's likely\n         * we're heading for an infinite loop.\n         */\n        let t = 0;\n        while (!state.done && t < maxDuration) {\n            state = sampleAnimation.sample(t);\n            pregeneratedKeyframes.push(state.value);\n            t += sampleDelta;\n        }\n        times = undefined;\n        keyframes = pregeneratedKeyframes;\n        duration = t - sampleDelta;\n        ease = \"linear\";\n    }\n    const animation = animateStyle(value.owner.current, valueName, keyframes, {\n        ...options,\n        duration,\n        /**\n         * This function is currently not called if ease is provided\n         * as a function so the cast is safe.\n         *\n         * However it would be possible for a future refinement to port\n         * in easing pregeneration from Motion One for browsers that\n         * support the upcoming `linear()` easing function.\n         */\n        ease: ease,\n        times,\n    });\n    /**\n     * WAAPI animations don't resolve startTime synchronously. But a blocked\n     * thread could delay the startTime resolution by a noticeable amount.\n     * For synching handoff animations with the new Motion animation we want\n     * to ensure startTime is synchronously set.\n     */\n    if (options.syncStart) {\n        animation.startTime = frameData.isProcessing\n            ? frameData.timestamp\n            : document.timeline\n                ? document.timeline.currentTime\n                : performance.now();\n    }\n    const cancelAnimation = () => animation.cancel();\n    const safeCancel = () => {\n        frame.update(cancelAnimation);\n        resolveFinishedPromise();\n        updateFinishedPromise();\n    };\n    /**\n     * Prefer the `onfinish` prop as it's more widely supported than\n     * the `finished` promise.\n     *\n     * Here, we synchronously set the provided MotionValue to the end\n     * keyframe. If we didn't, when the WAAPI animation is finished it would\n     * be removed from the element which would then revert to its old styles.\n     */\n    animation.onfinish = () => {\n        value.set(getFinalKeyframe(keyframes, options));\n        onComplete && onComplete();\n        safeCancel();\n    };\n    /**\n     * Animation interrupt callback.\n     */\n    const controls = {\n        then(resolve, reject) {\n            return currentFinishedPromise.then(resolve, reject);\n        },\n        attachTimeline(timeline) {\n            animation.timeline = timeline;\n            animation.onfinish = null;\n            return noop;\n        },\n        get time() {\n            return millisecondsToSeconds(animation.currentTime || 0);\n        },\n        set time(newTime) {\n            animation.currentTime = secondsToMilliseconds(newTime);\n        },\n        get speed() {\n            return animation.playbackRate;\n        },\n        set speed(newSpeed) {\n            animation.playbackRate = newSpeed;\n        },\n        get duration() {\n            return millisecondsToSeconds(duration);\n        },\n        play: () => {\n            if (hasStopped)\n                return;\n            animation.play();\n            /**\n             * Cancel any pending cancel tasks\n             */\n            cancelFrame(cancelAnimation);\n        },\n        pause: () => animation.pause(),\n        stop: () => {\n            hasStopped = true;\n            if (animation.playState === \"idle\")\n                return;\n            /**\n             * WAAPI doesn't natively have any interruption capabilities.\n             *\n             * Rather than read commited styles back out of the DOM, we can\n             * create a renderless JS animation and sample it twice to calculate\n             * its current value, \"previous\" value, and therefore allow\n             * Motion to calculate velocity for any subsequent animation.\n             */\n            const { currentTime } = animation;\n            if (currentTime) {\n                const sampleAnimation = animateValue({\n                    ...options,\n                    autoplay: false,\n                });\n                value.setWithVelocity(sampleAnimation.sample(currentTime - sampleDelta).value, sampleAnimation.sample(currentTime).value, sampleDelta);\n            }\n            safeCancel();\n        },\n        complete: () => animation.finish(),\n        cancel: safeCancel,\n    };\n    return controls;\n}\n\nexport { createAcceleratedAnimation };\n","function memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import { mapEasingToNativeEasing } from './easing.mjs';\n\nfunction animateStyle(element, valueName, keyframes, { delay = 0, duration, repeat = 0, repeatType = \"loop\", ease, times, } = {}) {\n    const keyframeOptions = { [valueName]: keyframes };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    return element.animate(keyframeOptions, {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    });\n}\n\nexport { animateStyle };\n","function getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }) {\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : keyframes.length - 1;\n    return keyframes[index];\n}\n\nexport { getFinalKeyframe };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (key, value) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n}\n\nexport { isNone };\n","import { warning } from '../../utils/errors.mjs';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { createAcceleratedAnimation } from '../animators/waapi/create-accelerated-animation.mjs';\nimport { createInstantAnimation } from '../animators/instant.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isAnimatable } from '../utils/is-animatable.mjs';\nimport { getKeyframes } from '../utils/keyframes.mjs';\nimport { getValueTransition, isTransitionDefined } from '../utils/transitions.mjs';\nimport { animateValue } from '../animators/js/index.mjs';\n\nconst animateMotionValue = (valueName, value, target, transition = {}) => {\n    return (onComplete) => {\n        const valueTransition = getValueTransition(transition, valueName) || {};\n        /**\n         * Most transition values are currently completely overwritten by value-specific\n         * transitions. In the future it'd be nicer to blend these transitions. But for now\n         * delay actually does inherit from the root transition if not value-specific.\n         */\n        const delay = valueTransition.delay || transition.delay || 0;\n        /**\n         * Elapsed isn't a public transition option but can be passed through from\n         * optimized appear effects in milliseconds.\n         */\n        let { elapsed = 0 } = transition;\n        elapsed = elapsed - secondsToMilliseconds(delay);\n        const keyframes = getKeyframes(value, valueName, target, valueTransition);\n        /**\n         * Check if we're able to animate between the start and end keyframes,\n         * and throw a warning if we're attempting to animate between one that's\n         * animatable and another that isn't.\n         */\n        const originKeyframe = keyframes[0];\n        const targetKeyframe = keyframes[keyframes.length - 1];\n        const isOriginAnimatable = isAnimatable(valueName, originKeyframe);\n        const isTargetAnimatable = isAnimatable(valueName, targetKeyframe);\n        warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${valueName} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n        let options = {\n            keyframes,\n            velocity: value.getVelocity(),\n            ease: \"easeOut\",\n            ...valueTransition,\n            delay: -elapsed,\n            onUpdate: (v) => {\n                value.set(v);\n                valueTransition.onUpdate && valueTransition.onUpdate(v);\n            },\n            onComplete: () => {\n                onComplete();\n                valueTransition.onComplete && valueTransition.onComplete();\n            },\n        };\n        /**\n         * If there's no transition defined for this value, we can generate\n         * unqiue transition settings for this value.\n         */\n        if (!isTransitionDefined(valueTransition)) {\n            options = {\n                ...options,\n                ...getDefaultTransition(valueName, options),\n            };\n        }\n        /**\n         * Both WAAPI and our internal animation functions use durations\n         * as defined by milliseconds, while our external API defines them\n         * as seconds.\n         */\n        if (options.duration) {\n            options.duration = secondsToMilliseconds(options.duration);\n        }\n        if (options.repeatDelay) {\n            options.repeatDelay = secondsToMilliseconds(options.repeatDelay);\n        }\n        if (!isOriginAnimatable ||\n            !isTargetAnimatable ||\n            instantAnimationState.current ||\n            valueTransition.type === false) {\n            /**\n             * If we can't animate this value, or the global instant animation flag is set,\n             * or this is simply defined as an instant transition, return an instant transition.\n             */\n            return createInstantAnimation(instantAnimationState.current\n                ? { ...options, delay: 0 }\n                : options);\n        }\n        /**\n         * Animate via WAAPI if possible.\n         */\n        if (value.owner &&\n            value.owner.current instanceof HTMLElement &&\n            !value.owner.getProps().onUpdate) {\n            const acceleratedAnimation = createAcceleratedAnimation(value, valueName, options);\n            if (acceleratedAnimation)\n                return acceleratedAnimation;\n        }\n        /**\n         * If we didn't create an accelerated animation, create a JS animation\n         */\n        return animateValue(options);\n    };\n};\n\nexport { animateMotionValue };\n","import { getAnimatableNone } from '../../render/dom/value-types/animatable-none.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\nimport { isNone } from './is-none.mjs';\n\nfunction getKeyframes(value, valueName, target, transition) {\n    const isTargetAnimatable = isAnimatable(valueName, target);\n    let keyframes;\n    if (Array.isArray(target)) {\n        keyframes = [...target];\n    }\n    else {\n        keyframes = [null, target];\n    }\n    const defaultOrigin = transition.from !== undefined ? transition.from : value.get();\n    let animatableTemplateValue = undefined;\n    const noneKeyframeIndexes = [];\n    for (let i = 0; i < keyframes.length; i++) {\n        /**\n         * Fill null/wildcard keyframes\n         */\n        if (keyframes[i] === null) {\n            keyframes[i] = i === 0 ? defaultOrigin : keyframes[i - 1];\n        }\n        if (isNone(keyframes[i])) {\n            noneKeyframeIndexes.push(i);\n        }\n        // TODO: Clean this conditional, it works for now\n        if (typeof keyframes[i] === \"string\" &&\n            keyframes[i] !== \"none\" &&\n            keyframes[i] !== \"0\") {\n            animatableTemplateValue = keyframes[i];\n        }\n    }\n    if (isTargetAnimatable &&\n        noneKeyframeIndexes.length &&\n        animatableTemplateValue) {\n        for (let i = 0; i < noneKeyframeIndexes.length; i++) {\n            const index = noneKeyframeIndexes[i];\n            keyframes[index] = getAnimatableNone(valueName, animatableTemplateValue);\n        }\n    }\n    return keyframes;\n}\n\nexport { getKeyframes };\n","import { animateValue } from './js/index.mjs';\nimport { noop } from '../../utils/noop.mjs';\n\nfunction createInstantAnimation({ keyframes, delay, onUpdate, onComplete, }) {\n    const setValue = () => {\n        onUpdate && onUpdate(keyframes[keyframes.length - 1]);\n        onComplete && onComplete();\n        /**\n         * TODO: As this API grows it could make sense to always return\n         * animateValue. This will be a bigger project as animateValue\n         * is frame-locked whereas this function resolves instantly.\n         * This is a behavioural change and also has ramifications regarding\n         * assumptions within tests.\n         */\n        return {\n            time: 0,\n            speed: 1,\n            duration: 0,\n            play: (noop),\n            pause: (noop),\n            stop: (noop),\n            then: (resolve) => {\n                resolve();\n                return Promise.resolve();\n            },\n            cancel: (noop),\n            complete: (noop),\n        };\n    };\n    return delay\n        ? animateValue({\n            keyframes: [0, 1],\n            duration: 0,\n            delay,\n            onComplete: setValue,\n        })\n        : setValue();\n}\n\nexport { createInstantAnimation };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\nimport { optimizedAppearDataAttribute } from '../optimized-appear/data-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\nimport { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction animateTarget(visualElement, definition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = visualElement.makeTargetAnimatable(definition);\n    const willChange = visualElement.getValue(\"willChange\");\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key);\n        const valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            elapsed: 0,\n            ...transition,\n        };\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        if (window.HandoffAppearAnimations && !value.hasAnimated) {\n            const appearId = visualElement.getProps()[optimizedAppearDataAttribute];\n            if (appearId) {\n                valueTransition.elapsed = window.HandoffAppearAnimations(appearId, key, value, frame);\n                valueTransition.syncStart = true;\n            }\n        }\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && transformProps.has(key)\n            ? { type: false }\n            : valueTransition));\n        const animation = value.animation;\n        if (isWillChangeMotionValue(willChange)) {\n            willChange.add(key);\n            animation.then(() => willChange.remove(key));\n        }\n        animations.push(animation);\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            transitionEnd && setTarget(visualElement, transitionEnd);\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.custom);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    const maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    const generateStaggerDuration = staggerDirection === 1\n        ? (i = 0) => i * staggerChildren\n        : (i = 0) => maxStaggerDuration - i * staggerChildren;\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach((child, i) => {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delayChildren + generateStaggerDuration(i),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    });\n    return Promise.all(animations);\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n\nexport { animateVariant, sortByTreeOrder };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => visualElement.notify(\"AnimationComplete\", definition));\n}\n\nexport { animateVisualElement };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n\nexport { getValueTransition, isTransitionDefined };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circOut);\n\nexport { circIn, circInOut, circOut };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","class Queue {\n    constructor() {\n        this.order = [];\n        this.scheduled = new Set();\n    }\n    add(process) {\n        if (!this.scheduled.has(process)) {\n            this.scheduled.add(process);\n            this.order.push(process);\n            return true;\n        }\n    }\n    remove(process) {\n        const index = this.order.indexOf(process);\n        if (index !== -1) {\n            this.order.splice(index, 1);\n            this.scheduled.delete(process);\n        }\n    }\n    clear() {\n        this.order.length = 0;\n        this.scheduled.clear();\n    }\n}\nfunction createRenderStep(runNextFrame) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Queue();\n    let nextFrame = new Queue();\n    let numToRun = 0;\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (queue.add(callback) && addToCurrentFrame && isProcessing) {\n                // If we're adding it to the currently running queue, update its measured size\n                numToRun = thisFrame.order.length;\n            }\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.remove(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Clear the next frame queue\n            nextFrame.clear();\n            // Execute this frame\n            numToRun = thisFrame.order.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = thisFrame.order[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { createRenderStep } from './render-step.mjs';\n\nconst stepsOrder = [\n    \"prepare\",\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0,\n        timestamp: 0,\n        isProcessing: false,\n    };\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(() => (runNextFrame = true));\n        return acc;\n    }, {});\n    const processStep = (stepId) => steps[stepId].process(state);\n    const processBatch = () => {\n        const timestamp = performance.now();\n        runNextFrame = false;\n        state.delta = useDefaultElapsed\n            ? 1000 / 60\n            : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        stepsOrder.forEach(processStep);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => stepsOrder.forEach((key) => steps[key].cancel(process));\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher, stepsOrder };\n","import { noop } from '../utils/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, steps };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = checkStringStartsWith(\"--\");\nconst isCSSVariableToken = checkStringStartsWith(\"var(--\");\nconst cssVariableRegex = /var\\s*\\(\\s*--[\\w-]+(\\s*,\\s*(?:(?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)+)?\\s*\\)/g;\n\nexport { cssVariableRegex, isCSSVariableName, isCSSVariableToken };\n","import { complex } from '../../../value/types/complex/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from '../../../value/types/numbers/units.mjs';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","import { number } from '../../../value/types/numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { scale, alpha } from '../../../value/types/numbers/index.mjs';\nimport { px, degrees, progressPercentage } from '../../../value/types/numbers/units.mjs';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    const current = {};\n    visualElement.values.forEach((value, key) => (current[key] = value.get()));\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    const velocity = {};\n    visualElement.values.forEach((value, key) => (velocity[key] = value.getVelocity()));\n    return velocity;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nexport { resolveVariant };\n","function resolveVariantFromProps(props, definition, custom, currentValues = {}, currentVelocity = {}) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { complex } from '../../../value/types/complex/index.mjs';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { isNumericalString } from '../../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../dom/value-types/animatable-none.mjs';\nimport { findValueType } from '../dom/value-types/find.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved ? visualElement.makeTargetAnimatable(resolved, false) : {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b;\n    const newValueKeys = Object.keys(target).filter((key) => !visualElement.hasValue(key));\n    const numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (let i = 0; i < numNewValues; i++) {\n        const key = newValueKeys[i];\n        const targetValue = target[key];\n        let value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" &&\n            (isNumericalString(value) || isZeroValueString(value))) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value, { owner: visualElement }));\n        if (origin[key] === undefined) {\n            origin[key] = value;\n        }\n        if (value !== null)\n            visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    const valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    const origin = {};\n    for (const key in target) {\n        const transitionOrigin = getOriginFromTransition(key, transition);\n        if (transitionOrigin !== undefined) {\n            origin[key] = transitionOrigin;\n        }\n        else {\n            const value = visualElement.getValue(key);\n            if (value) {\n                origin[key] = value.get();\n            }\n        }\n    }\n    return origin;\n}\n\nexport { checkTargetForNewValues, getOrigin, getOriginFromTransition, setTarget, setValues };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","const isBrowser = typeof document !== \"undefined\";\n\nexport { isBrowser };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^\\-?\\d*\\.?\\d+$/.test(v);\n\nexport { isNumericalString };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/.test(v);\n\nexport { isZeroValueString };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mix = (from, to, progress) => -progress * from + progress * to + from;\n\nexport { mix };\n","const noop = (any) => any;\n\nexport { noop };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { frame, frameData } from '../frameloop/frame.mjs';\n\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"10.16.4\";\n        /**\n         * Duration, in milliseconds, since last updating frame.\n         *\n         * @internal\n         */\n        this.timeDelta = 0;\n        /**\n         * Timestamp of the last time this `MotionValue` was updated.\n         *\n         * @internal\n         */\n        this.lastUpdated = 0;\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            this.prev = this.current;\n            this.current = v;\n            // Update timestamp\n            const { delta, timestamp } = frameData;\n            if (this.lastUpdated !== timestamp) {\n                this.timeDelta = delta;\n                this.lastUpdated = timestamp;\n                frame.postRender(this.scheduleVelocityCheck);\n            }\n            // Update update subscribers\n            if (this.prev !== this.current && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update velocity subscribers\n            if (this.events.velocityChange) {\n                this.events.velocityChange.notify(this.getVelocity());\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        /**\n         * Schedule a velocity check for the next frame.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.scheduleVelocityCheck = () => frame.postRender(this.velocityCheck);\n        /**\n         * Updates `prev` with `current` if the value hasn't been updated this frame.\n         * This ensures velocity calculations return `0`.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.velocityCheck = ({ timestamp }) => {\n            if (timestamp !== this.lastUpdated) {\n                this.prev = this.current;\n                if (this.events.velocityChange) {\n                    this.events.velocityChange.notify(this.getVelocity());\n                }\n            }\n        };\n        this.hasAnimated = false;\n        this.prev = this.current = init;\n        this.canTrackVelocity = isFloat(this.current);\n        this.owner = options.owner;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = prev;\n        this.timeDelta = delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n        return this.canTrackVelocity\n            ? // These casts could be avoided if parseFloat would be typed better\n                velocityPerSecond(parseFloat(this.current) -\n                    parseFloat(this.prev), this.timeDelta)\n            : 0;\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString(\"hsl\", \"hue\"),\n    parse: splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: isColorString(\"rgb\", \"red\"),\n    parse: splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /([a-z-]*)\\(.*?\\)/g;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { cssVariableRegex } from '../../../render/dom/utils/is-css-variable.mjs';\nimport { noop } from '../../../utils/noop.mjs';\nimport { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { colorRegex, floatRegex, isString, sanitize } from '../utils.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        isString(v) &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst cssVarTokeniser = {\n    regex: cssVariableRegex,\n    countKey: \"Vars\",\n    token: \"${v}\",\n    parse: noop,\n};\nconst colorTokeniser = {\n    regex: colorRegex,\n    countKey: \"Colors\",\n    token: \"${c}\",\n    parse: color.parse,\n};\nconst numberTokeniser = {\n    regex: floatRegex,\n    countKey: \"Numbers\",\n    token: \"${n}\",\n    parse: number.parse,\n};\nfunction tokenise(info, { regex, countKey, token, parse }) {\n    const matches = info.tokenised.match(regex);\n    if (!matches)\n        return;\n    info[\"num\" + countKey] = matches.length;\n    info.tokenised = info.tokenised.replace(regex, token);\n    info.values.push(...matches.map(parse));\n}\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const info = {\n        value: originalValue,\n        tokenised: originalValue,\n        values: [],\n        numVars: 0,\n        numColors: 0,\n        numNumbers: 0,\n    };\n    if (info.value.includes(\"var(--\"))\n        tokenise(info, cssVarTokeniser);\n    tokenise(info, colorTokeniser);\n    tokenise(info, numberTokeniser);\n    return info;\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { values, numColors, numVars, tokenised } = analyseComplexValue(source);\n    const numValues = values.length;\n    return (v) => {\n        let output = tokenised;\n        for (let i = 0; i < numValues; i++) {\n            if (i < numVars) {\n                output = output.replace(cssVarTokeniser.token, v[i]);\n            }\n            else if (i < numVars + numColors) {\n                output = output.replace(colorTokeniser.token, color.transform(v[i]));\n            }\n            else {\n                output = output.replace(numberTokeniser.token, sanitize(v[i]));\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType(\"deg\");\nconst percent = createUnitType(\"%\");\nconst px = createUnitType(\"px\");\nconst vh = createUnitType(\"vh\");\nconst vw = createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","/**\n * TODO: When we move from string as a source of truth to data models\n * everything in this folder should probably be referred to as models vs types\n */\n// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\nconst floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nconst colorRegex = /(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))/gi;\nconst singleColorRegex = /^(#[0-9a-f]{3,8}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))$/i;\nfunction isString(v) {\n    return typeof v === \"string\";\n}\n\nexport { colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { isMotionValue } from '../utils/is-motion-value.mjs';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n// src/InView.tsx\nimport * as React from \"react\";\n\n// src/observe.ts\nvar observerMap = /* @__PURE__ */ new Map();\nvar RootIds = /* @__PURE__ */ new WeakMap();\nvar rootId = 0;\nvar unsupportedValue = void 0;\nfunction defaultFallbackInView(inView) {\n  unsupportedValue = inView;\n}\nfunction getRootId(root) {\n  if (!root)\n    return \"0\";\n  if (RootIds.has(root))\n    return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(\n    (key) => options[key] !== void 0\n  ).map((key) => {\n    return `${key}_${key === \"root\" ? getRootId(options.root) : options[key]}`;\n  }).toString();\n}\nfunction createObserver(options) {\n  let id = optionsToId(options);\n  let instance = observerMap.get(id);\n  if (!instance) {\n    const elements = /* @__PURE__ */ new Map();\n    let thresholds;\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        var _a;\n        const inView = entry.isIntersecting && thresholds.some((threshold) => entry.intersectionRatio >= threshold);\n        if (options.trackVisibility && typeof entry.isVisible === \"undefined\") {\n          entry.isVisible = inView;\n        }\n        (_a = elements.get(entry.target)) == null ? void 0 : _a.forEach((callback) => {\n          callback(inView, entry);\n        });\n      });\n    }, options);\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id,\n      observer,\n      elements\n    };\n    observerMap.set(id, instance);\n  }\n  return instance;\n}\nfunction observe(element, callback, options = {}, fallbackInView = unsupportedValue) {\n  if (typeof window.IntersectionObserver === \"undefined\" && fallbackInView !== void 0) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio: typeof options.threshold === \"number\" ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds\n    });\n    return () => {\n    };\n  }\n  const { id, observer, elements } = createObserver(options);\n  let callbacks = elements.get(element) || [];\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    callbacks.splice(callbacks.indexOf(callback), 1);\n    if (callbacks.length === 0) {\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n    if (elements.size === 0) {\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n\n// src/InView.tsx\nfunction isPlainChildren(props) {\n  return typeof props.children !== \"function\";\n}\nvar InView = class extends React.Component {\n  constructor(props) {\n    super(props);\n    __publicField(this, \"node\", null);\n    __publicField(this, \"_unobserveCb\", null);\n    __publicField(this, \"handleNode\", (node) => {\n      if (this.node) {\n        this.unobserve();\n        if (!node && !this.props.triggerOnce && !this.props.skip) {\n          this.setState({ inView: !!this.props.initialInView, entry: void 0 });\n        }\n      }\n      this.node = node ? node : null;\n      this.observeNode();\n    });\n    __publicField(this, \"handleChange\", (inView, entry) => {\n      if (inView && this.props.triggerOnce) {\n        this.unobserve();\n      }\n      if (!isPlainChildren(this.props)) {\n        this.setState({ inView, entry });\n      }\n      if (this.props.onChange) {\n        this.props.onChange(inView, entry);\n      }\n    });\n    this.state = {\n      inView: !!props.initialInView,\n      entry: void 0\n    };\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  }\n  componentWillUnmount() {\n    this.unobserve();\n    this.node = null;\n  }\n  observeNode() {\n    if (!this.node || this.props.skip)\n      return;\n    const {\n      threshold,\n      root,\n      rootMargin,\n      trackVisibility,\n      delay,\n      fallbackInView\n    } = this.props;\n    this._unobserveCb = observe(\n      this.node,\n      this.handleChange,\n      {\n        threshold,\n        root,\n        rootMargin,\n        // @ts-ignore\n        trackVisibility,\n        // @ts-ignore\n        delay\n      },\n      fallbackInView\n    );\n  }\n  unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n      this._unobserveCb = null;\n    }\n  }\n  render() {\n    const { children } = this.props;\n    if (typeof children === \"function\") {\n      const { inView, entry } = this.state;\n      return children({ inView, entry, ref: this.handleNode });\n    }\n    const {\n      as,\n      triggerOnce,\n      threshold,\n      root,\n      rootMargin,\n      onChange,\n      skip,\n      trackVisibility,\n      delay,\n      initialInView,\n      fallbackInView,\n      ...props\n    } = this.props;\n    return React.createElement(\n      as || \"div\",\n      { ref: this.handleNode, ...props },\n      children\n    );\n  }\n};\n\n// src/useInView.tsx\nimport * as React2 from \"react\";\nfunction useInView({\n  threshold,\n  delay,\n  trackVisibility,\n  rootMargin,\n  root,\n  triggerOnce,\n  skip,\n  initialInView,\n  fallbackInView,\n  onChange\n} = {}) {\n  var _a;\n  const [ref, setRef] = React2.useState(null);\n  const callback = React2.useRef();\n  const [state, setState] = React2.useState({\n    inView: !!initialInView,\n    entry: void 0\n  });\n  callback.current = onChange;\n  React2.useEffect(\n    () => {\n      if (skip || !ref)\n        return;\n      let unobserve;\n      unobserve = observe(\n        ref,\n        (inView, entry) => {\n          setState({\n            inView,\n            entry\n          });\n          if (callback.current)\n            callback.current(inView, entry);\n          if (entry.isIntersecting && triggerOnce && unobserve) {\n            unobserve();\n            unobserve = void 0;\n          }\n        },\n        {\n          root,\n          rootMargin,\n          threshold,\n          // @ts-ignore\n          trackVisibility,\n          // @ts-ignore\n          delay\n        },\n        fallbackInView\n      );\n      return () => {\n        if (unobserve) {\n          unobserve();\n        }\n      };\n    },\n    // We break the rule here, because we aren't including the actual `threshold` variable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      // If the threshold is an array, convert it to a string, so it won't change between renders.\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      Array.isArray(threshold) ? threshold.toString() : threshold,\n      ref,\n      root,\n      rootMargin,\n      triggerOnce,\n      skip,\n      trackVisibility,\n      fallbackInView,\n      delay\n    ]\n  );\n  const entryTarget = (_a = state.entry) == null ? void 0 : _a.target;\n  const previousEntryTarget = React2.useRef();\n  if (!ref && entryTarget && !triggerOnce && !skip && previousEntryTarget.current !== entryTarget) {\n    previousEntryTarget.current = entryTarget;\n    setState({\n      inView: !!initialInView,\n      entry: void 0\n    });\n  }\n  const result = [setRef, state.inView, state.entry];\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\nexport {\n  InView,\n  defaultFallbackInView,\n  observe,\n  useInView\n};\n//# sourceMappingURL=index.mjs.map"],"names":["PageHead","site","allMarkdownRemark","useStaticQuery","metaTitle","siteMetadata","title","metaDescription","description","metaSiteUrl","siteUrl","URL_PATH_PREFIX","metaImage","edges","node","frontmatter","image","childImageSharp","original","React","name","content","googleVerification","property","src","width","height","twitterUsername","rel","href","crossOrigin","useContextProvider","isDarkMode","themeToggler","useContext","ThemeContext","isMenuOpen","toggleMenu","closeMenu","NavContext","ViewportContext","isOnMobile","useIsBrowser","isBrowser","setIsBrowser","useState","useEffect","NavLinks","NAV_LINKS","map","nav","index","offset","StyledNavLinkItem","key","StyledNavLinkAnchor","onClick","to","link","duration","smooth","label","target","SVG","_ref","PomatezSVG","DownloadSVG","SunnySVG","MoonSVG","GithubSVG","WindowSVG","AppleSVG","LinuxSVG","SnapStoreSVG","TuxSVG","ArrowBackSVG","Logo","StyledNavLogo","ScrollLink","APP_NAME","Navbar","StyledNav","StyledNavHeader","StyledNavContent","StyledNavLinks","StyledNavButtonWrapper","StyledNavThemeToggler","StyledScrollToDownload","StyledNavMenu","Sidebar","document","body","style","overflow","StyledSidebar","StyledSidebarList","Footer","StyledFooter","StyledFooterContent","PROJECT_GITHUB_URL","StyledCopyrightText","Date","getFullYear","StyledFooterNote","AUTHOR_GITHUB_URL","PageLayout","children","ThemeProvider","ViewportProvider","NavProvider","StyledLayout","Header","ref","inView","useInView","triggerOnce","control","useAnimation","start","subTitle","StyledHeader","animate","StyledHeading","StyledSubHeading","StyledDescription","dangerouslySetInnerHTML","__html","html","APP_VERSION","json","PROJECT_RELEASES_URL","DOWNLOAD_PREFIX","INSTALLER","WINDOWS_x64_INSTALLER","DEB_INSTALLER","APP_IMAGE_x64_INSTALLER","RPM_INSTALLER","MAC_x64_INSTALLER","INSTALLERS","ELECTRON","WINDOWS","x64","arm","LINUX","deb","appImage","rpm","MAC","TAURI","universal","createContext","setMenuOpen","Provider","value","prevState","useDarkMode","isSSR","getFromStorage","isPreferredDark","setDarkMode","useLayoutEffect","saveToStorage","GlobalStyle","setWidth","window","innerWidth","setHeight","innerHeight","handleWindowSize","addEventListener","removeEventListener","lightTheme","css","darkTheme","media","laptopXl","laptopLg","laptopMd","laptopNm","laptopSm","laptopXs","tabletXl","tabletLg","tabletMd","tabletSm","mobileXl","mobileLg","mobileMd","mobileSm","mobileXs","Object","keys","forEach","query","createGlobalStyle","p","styled","div","withConfig","componentId","MotionConfigContext","transformPagePoint","isStatic","reducedMotion","MotionContext","LazyContext","strict","isRefObject","prototype","hasOwnProperty","call","isVariantLabel","v","Array","isArray","isAnimationControls","variantPriorityOrder","variantProps","isControllingVariants","props","some","isVariantNode","Boolean","variants","useCreateMotionContext","initial","context","undefined","inherit","getCurrentTreeVariants","useMemo","variantLabelsAsDependency","prop","join","featureProps","animation","exit","drag","focus","hover","tap","pan","layout","featureDefinitions","isEnabled","LayoutGroupContext","SwitchLayoutGroupContext","motionComponentSymbol","Symbol","for","preloadedFeatures","createVisualElement","useRender","useVisualState","Component","features","loadFeatures","ForwardRefComponent","forwardRef","externalRef","MeasureLayout","configAndProps","layoutId","useLayoutId","visualState","visualElement","parent","lazyContext","presenceContext","reducedMotionConfig","visualElementRef","useRef","renderer","current","blockInitialAnimation","useInsertionEffect","update","canHandoff","HandoffAppearAnimations","render","animationState","animateChanges","updateFeatures","useVisualElement","initialLayoutGroupConfig","isStrict","useCallback","instance","mount","unmount","useMotionRef","layoutGroupId","id","createMotionProxy","createConfig","custom","customMotionComponentConfig","Proxy","componentCache","Map","get","_target","has","set","lowercaseSVGElements","isSVGComponent","includes","indexOf","test","scaleCorrectors","isForcedMotionValue","startsWith","translateAlias","x","y","z","transformPerspective","numTransforms","length","getValueAsType","type","transform","buildHTMLStyles","state","latestValues","options","transformTemplate","vars","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","number","valueAsType","default","enableHardwareAcceleration","allowTransformNone","transformIsDefault","transformString","i","trim","buildTransform","originX","originY","originZ","createHtmlRenderState","copyRawValuesOnly","source","useStyle","assign","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","dragListener","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","tabIndex","onTap","onTapStart","whileTap","validMotionProps","Set","isValidMotionProp","shouldForward","isValidProp","require","_a","calcOrigin","origin","size","px","dashKeys","array","camelKeys","buildSVGAttrs","attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset","latest","isSVGTag","viewBox","attrs","dimensions","calcSVGTransformOrigin","scale","spacing","useDashCase","buildSVGPath","createSvgRenderState","tag","toLowerCase","useSVGProps","_isStatic","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","values","filterProps","elementProps","renderedChildren","createElement","renderHTML","element","styleProp","projection","getProjectionStyles","setProperty","camelCaseAttributes","renderSVG","renderState","_styleProp","setAttribute","scrapeMotionValuesFromProps","prevProps","newValues","charAt","toUpperCase","substring","resolveMotionValue","unwrappedValue","toValue","makeUseVisualState","config","make","createRenderState","onMount","makeLatestValues","makeState","scrapeMotionValues","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","definition","resolved","transitionEnd","transition","valueTarget","svgMotionConfig","read","getBBox","getBoundingClientRect","e","tagName","htmlMotionConfig","addDomEvent","eventName","handler","passive","isPrimaryPointer","event","pointerType","button","isPrimary","extractEventInfo","pointType","point","addPointerInfo","addPointerEvent","createLock","lock","openLock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal","openVertical","isDragActive","openGestureLock","Feature","constructor","this","isMounted","addHoverEvent","isActive","callbackName","info","getProps","whileHover","setActive","isNodeOrChild","child","parentElement","fireSyntheticPointerEvent","syntheticPointerEvent","PointerEvent","observerCallbacks","WeakMap","observers","fireObserverCallback","entry","callback","fireAllObserverCallbacks","entries","observeIntersection","rootInteresectionObserver","root","lookupRoot","rootObservers","JSON","stringify","IntersectionObserver","initIntersectionObserver","observe","delete","unobserve","thresholdNames","all","gestureAnimations","super","arguments","hasEnteredView","isInView","startObserver","viewport","margin","rootMargin","amount","once","threshold","isIntersecting","onViewportEnter","onViewportLeave","prevViewport","hasViewportOptionChanged","removeStartListeners","noop","removeEndListeners","removeAccessibleListeners","startPointerPress","startEvent","startInfo","isPressing","removePointerUpListener","endEvent","endInfo","checkPressEnd","onTapCancel","removePointerCancelListener","cancelEvent","cancelInfo","cancelPress","pipe","startPress","startAccessiblePress","removeKeydownListener","keydownEvent","keyupEvent","removeBlurListener","removePointerListener","removeFocusListener","onFocus","isFocusVisible","matches","onBlur","shallowCompare","next","prev","prevLength","reversePriorityOrder","reverse","numAnimationTypes","createAnimationState","animations","Promise","animateList","createTypeState","whileInView","whileDrag","whileFocus","isInitialRender","buildResolvedTypeValues","acc","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","Infinity","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","protectedKeys","prevProp","variantDidChange","checkVariantsDidChange","shouldAnimateType","definitionList","resolvedValues","reduce","prevResolvedValues","allKeys","markToAnimate","needsAnimating","add","push","fallbackAnimation","fallbackTarget","getBaseTarget","shouldAnimate","resolve","variantChildren","setAnimateFunction","makeAnimator","getState","updateAnimationControlsSubscription","subscribe","prevAnimate","isPresent","onExitComplete","prevIsPresent","prevPresenceContext","exitAnimation","then","register","distance","a","b","Math","abs","PanSession","handlers","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","xDelta","yDelta","sqrt","distance2D","timestamp","frameData","onStart","onMove","handlePointerMove","transformPoint","handlePointerUp","end","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","delta","lastDevicePoint","startDevicePoint","velocity","getVelocity","timeDelta","timestampedPoint","lastPoint","time","currentVelocity","calcLength","axis","max","min","isNear","maxDistance","calcAxisDelta","originPoint","mix","isNaN","translate","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","calcRelativePosition","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","createDelta","createBox","eachAxis","convertBoundingBoxToBox","top","left","right","bottom","isIdentityScale","hasScale","scaleX","scaleY","has2DTranslate","rotate","rotateX","rotateY","is2DTranslate","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","box","snapToDefault","Number","isInteger","translateAxis","transformAxis","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","transformBox","measureViewportBox","topLeft","bottomRight","transformBoxPoints","elementDragControls","VisualElementDragControls","openGlobalLock","isDragging","currentDirection","constraints","hasMutatedConstraints","elastic","originEvent","snapToCursor","panSession","stopAnimation","dragPropagation","onDragStart","resolveConstraints","isAnimationBlocked","getAxisMotionValue","measuredAxis","layoutBox","parseFloat","dragDirectionLock","onDirectionLock","onDrag","lockThreshold","direction","getCurrentDirection","updateAxis","stop","getTransformPagePoint","cancel","startAnimation","onDragEnd","_point","shouldDrag","axisValue","applyConstraints","dragConstraints","prevConstraints","resolveRefConstraints","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","rootProjectionNode","viewportBox","scroll","measurePageBox","measuredConstraints","calcViewportConstraints","userConstraints","convertBoxToBoundingBox","dragMomentum","dragTransition","dragSnapToOrigin","onDragTransitionEnd","momentumAnimations","bounceStiffness","bounceDamping","inertia","timeConstant","restDelta","restSpeed","startAxisValueAnimation","dragKey","externalMotionValue","getValue","scalePositionWithinConstraints","boxProgress","sourceLength","targetLength","progress","clamp","updateScroll","updateLayout","addListeners","stopPointerListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","motionValue","asyncHandler","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","pixelsToPercent","pixels","correctBorderRadius","correct","correctBoxShadow","treeScale","projectionDelta","shadow","complex","parse","template","createTransformer","xScale","yScale","averageScale","MeasureLayoutWithContext","componentDidMount","layoutGroup","switchLayoutGroup","correctors","defaultScaleCorrectors","group","didUpdate","safeToRemove","setOptions","getSnapshotBeforeUpdate","layoutDependency","willUpdate","promote","relegate","postRender","stack","getStack","members","componentDidUpdate","queueMicrotask","currentAnimation","isLead","componentWillUnmount","promoteContext","scheduleCheckAfterUnmount","remove","deregister","useId","usePresence","borderRadius","applyTo","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","boxShadow","borders","numBorders","asNumber","isPx","getRadius","radiusName","easeCrossfadeIn","compress","circ","easeCrossfadeOut","easing","copyAxisInto","originAxis","copyBoxInto","originBox","removePointDelta","removeAxisTransforms","sourceAxis","removeAxisDelta","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","boxEqualsRounded","round","aspectRatio","NodeStack","scheduleRender","prevLead","lead","indexOfNode","findIndex","member","preserveFollowOpacity","show","resumeFrom","preserveOpacity","snapshot","animationValues","isUpdating","isLayoutDirty","crossfade","hide","exitAnimationComplete","resumingFrom","removeLeadSnapshot","buildProjectionTransform","latestTransform","xTranslate","yTranslate","elementScaleX","elementScaleY","compareByDepth","depth","FlatTree","isDirty","sort","transformAxes","projectionFrameData","totalNodes","resolvedTargetDeltas","recalculatedProjection","createProjectionNode","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","animationId","isTreeAnimating","isProjectionDirty","isSharedProjectionDirty","isTransformDirty","updateManuallyBlocked","updateBlockedByResize","isSVG","needsReset","shouldResetTransform","eventHandlers","hasTreeAnimated","updateScheduled","checkUpdateFailed","clearAllSnapshots","updateProjection","data","nodes","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","MotionDebug","record","hasProjected","isVisible","animationProgress","sharedNodes","path","notifyListeners","args","subscriptionManager","notify","hasListeners","SVGElement","cancelDelay","resizeUnblockUpdate","timeout","performance","now","checkElapsed","elapsed","delay","finishAnimation","registerSharedNode","hasRelativeTargetChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","getDefaultTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","targetChanged","targetLayout","hasOnlyRelativeTargetChanged","layoutRoot","setAnimationOrigin","animationOptions","onPlay","onComplete","shouldReduceMotion","blockUpdate","unblockUpdate","isUpdateBlocked","startUpdate","resetRotation","getTransformTemplate","shouldNotifyListeners","prevTransformTemplateValue","updateSnapshot","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","notifyLayoutUpdate","isProcessing","process","preRender","clearSnapshot","removeLeadSnapshots","scheduleUpdateProjection","measure","alwaysMeasureLayout","prevLayout","layoutCorrected","phase","needsMeasurement","layoutScroll","isRoot","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","removeElementScroll","roundAxis","measuredBox","boxWithoutScroll","rootScroll","applyTransform","transformOnly","withTransforms","boxWithoutTransform","setTargetDelta","targetDelta","forceRelativeParentToResolveTarget","relativeParent","resolvedRelativeTargetAt","forceRecalculation","getLead","isShared","attemptToResolveRelativeTarget","getClosestProjectingParent","relativeTargetOrigin","targetWithTransforms","isProjecting","canSkip","pendingAnimation","prevTreeScaleX","prevTreeScaleY","treePath","isSharedTransition","treeLength","display","applyTreeDeltas","projectionTransform","projectionDeltaWithTransform","prevProjectionTransform","notifyAll","snapshotLatestValues","mixedValues","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","prevRelativeTarget","mixTargetDelta","output","from","mixAxisDelta","mixAxis","follow","opacity","opacityExit","borderLabel","followRadius","leadRadius","mixValues","keyframes","motionValue$1","animateSingleValue","onUpdate","completeAnimation","applyTransformsToTarget","shouldAnimatePositionOnly","animationType","xLength","yLength","initialPromotionConfig","shouldPreserveFollowOpacity","getPrevLead","hasRotate","rotateZ","resetValues","setStaticValue","_b","styles","visibility","pointerEvents","emptyStyles","valuesToRender","corrected","num","resetTree","clear","measuredLayout","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","onBeforeLayoutMeasure","ease","userAgentContains","string","navigator","userAgent","roundPoint","DocumentProjectionNode","documentElement","scrollLeft","scrollTop","HTMLProjectionNode","documentNode","getComputedStyle","position","removePointerDownListener","onPointerDown","pointerDownEvent","session","createPanHandlers","onPanSessionStart","onPanStart","onPan","onPanEnd","removeGroupControls","controls","dragControls","ProjectionNode","splitCSSVariableRegex","maxDepth","getVariableValue","token","fallback","match","exec","parseCSSVariable","getPropertyValue","trimmed","positionalKeys","isPositionalKey","isNumOrPxType","getPosFromMatrix","matrix","pos","split","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","transformKeys","nonTranslationalTransformKeys","filter","positionalValues","paddingLeft","paddingRight","paddingTop","paddingBottom","translateX","translateY","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","hasValue","fromType","toType","numKeyframes","fromIndex","removedTransforms","removeNonTranslationalTransform","jump","scrollY","pageYOffset","convertedTarget","changedKeys","originBbox","elementComputedStyle","targetBbox","convertChangedValueTypes","scrollTo","unitConversion","hasPositionalKey","parseDomVariant","Element","resolveCSSVariables","prefersReducedMotion","hasReducedMotionListener","visualElementStore","featureNames","numFeatures","propEventHandlers","numVariantProps","VisualElement","valueSubscriptions","prevMotionValues","events","propEventSubscriptions","notifyUpdate","triggerBuild","renderInstance","baseTarget","initialValues","willChange","initialMotionValues","is","_props","_prevProps","removeFromVariantTree","addVariantChild","bindToMotionValue","matchMedia","motionMediaQuery","setReducedMotionPreferences","addListener","initPrefersReducedMotion","valueIsTransform","removeOnChange","on","latestValue","removeOnRenderRequest","sortNodePosition","other","sortInstanceNodePosition","renderedProps","ProjectionNodeConstructor","FeatureConstructor","MeasureLayoutComponent","feature","build","measureInstanceViewportBox","getStaticValue","makeTargetAnimatable","canMutate","makeTargetAnimatableFromInstance","listener","nextValue","prevValue","addValue","owner","existingValue","hasAnimated","removeValue","updateMotionValuesFromProps","handleChildMotionValue","getVariant","getClosestVariantNode","startAtParent","closestVariantNode","unsubscribe","removeValueFromRenderState","defaultValue","readValue","getBaseTargetFromProps","readValueFromInstance","setBaseTarget","valueFromInitial","DOMVisualElement","compareDocumentPosition","parsed","HTMLVisualElement","defaultType","computedStyle","childSubscription","textContent","SVGVisualElement","getAttribute","motion","stagger","delayChildren","staggerChildren","fadeIn","fadeFromTop","fadeFromBottom","ButtonStyles","StyledDownloadButton","StyledCTADownloader","StyledGithubLink","SectionStyle","SectionContentStyle","header","ul","li","h3","h4","span","footer","aside","StyledHero","section","StyledHeroContent","StyledWatermarkContainer","WaterMarkStyle","StyledWaterMarkLeft","WaterMarkLeft","StyledWaterMarkRight","WaterMarkRight","StyledHeroActionContainer","StyledHeroHeader","StyledHeroHeading","h1","StyledHeroDescription","h2","StyledHeroBetaDescription","StyledHeroActionWrapper","StyledPreviewWrapper","StyledPreviewImage","StyledFeatures","StyledFeatureContent","StyledFeatureContainer","StyledStickyContainer","StyledFeaturedImageWrapper","StyledFeaturedImage","StyledFeatureList","FeatureItemStyle","StyledFeatureItem","StyledRoadmap","StyledRoadmapContent","StyledRoadmapImageWrapper","StyledRoadmapImage","StyledRoadmapContainer","StyledRoadmapList","StyledRoadmapItem","StyledDownload","StyledDownloadContent","StyledDownloadOSLogo","StyledDownloadButtonWrapper","StyledDownloadForWindows","StyledLinuxOrSpan","StyledLinuxInstallerWrapper","StyledDownloadForLinux","StyledDownloadForMac","StyledPageNotFound","Styled404Content","Styled404Header","Styled404ActionWrapper","Styled404HomeLink","Link","detectOS","appVersion","RegExp","serializedState","localStorage","setItem","error","console","getItem","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","g","freeSelf","self","Function","objectToString","toString","nativeMax","nativeMin","debounce","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","remainingWait","debounced","isInvoking","leadingEdge","toNumber","isObject","clearTimeout","flush","isObjectLike","isSymbol","valueOf","replace","isBinary","slice","module","exports","defineProperty","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_scrollLink2","obj","__esModule","ButtonElement","_React$Component","_classCallCheck","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","subClass","superClass","create","setPrototypeOf","_inherits","_extends","_scrollElement2","_propTypes2","ElementWrapper","_this2","newProps","parentBindings","el","domNode","propTypes","LinkElement","_temp","_this","_len","_key","concat","_Link2","_Button2","_Element2","_scroller2","_scrollEvents2","_scrollSpy2","_animateScroll2","_Helpers2","scrollSpy","defaultScroller","PropTypes","scrollHash","protoTypes","isRequired","containerId","container","object","activeClass","spy","bool","oneOfType","isDynamic","absolute","onSetActive","onSetInactive","ignoreCancelEvents","hashSpy","spyThrottle","Helpers","Scroll","customScroller","warn","scroller","_initialiseProps","active","getElementById","nodeType","scrollSpyContainer","getScrollSpyContainer","mapContainer","addStateHandler","stateHandler","addSpyHandler","spyHandler","setState","className","handleClick","stopPropagation","preventDefault","getActiveLink","isInitialized","elemTopBound","elemBottomBound","containerTop","cords","offsetY","isInside","floor","isOutside","activeLink","setActiveLink","getHash","changeHash","updateStates","defaultProps","_React$Component2","_this3","childBindings","registerElems","unregister","_smooth2","_cancelEvents2","getAnimationType","defaultEasing","requestAnimationFrameHelper","requestAnimationFrame","webkitRequestAnimationFrame","currentWindowProperties","getTime","currentPositionX","containerElement","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","currentPositionY","animateScroll","targetPosition","startPosition","percent","currentPosition","ceil","horizontal","easedAnimate","bind","registered","setContainer","animateTopScroll","scrollOffset","delayTimeout","proceedOptions","scrollToTop","scrollToBottom","scrollWidth","offsetWidth","clientWidth","scrollContainerWidth","scrollHeight","offsetHeight","clientHeight","scrollContainerHeight","toPosition","scrollMore","_passiveEventListeners","addPassiveEventListener","supportsPassiveOption","opts","removePassiveEventListener","Events","scrollEvent","evtName","_utils","_utils2","mountFlag","initialized","containers","handleHashChange","initStateFromHash","hash","isInit","saveHashHistory","updateHash","_scrollHash2","activeStyle","_React$PureComponent","PureComponent","elemLeftBound","elemRightBound","containerLeft","offsetX","_cords","_props$saveHashHistor","_props$saveHashHistor2","_saveHashHistory","_lodash","_lodash2","spyCallbacks","spySetState","scrollSpyContainers","throttle","eventHandler","throttleAmount","eventThrottler","scrollHandler","c","s","splice","__mapped","__activeLink","getElementsByName","getElementsByClassName","pow","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","getElementOffsetInfoUntil","predicate","offsetTop","currentOffsetParent","offsetParent","historyUpdate","hashVal","hashToUpdate","curLoc","location","urlToPush","pathname","search","pushState","replaceState","filterElementInContainer","contains","t","scrollX","offsetLeft","_getElementOffsetInfo","Error","isDocument","Apple","ArrowBack","Download","Github","Moon","Pomatez","SnapStore","Sunny","Tux","Windows","WatermarkLeft","WatermarkRight","animationControls","hasMounted","subscribers","transitionOverride","instantAnimationState","isBezierDefinition","isWaapiSupportedEasing","supportedWaapiEasing","every","cubicBezierAsString","d","easeIn","easeOut","easeInOut","circIn","circOut","backIn","backOut","mapEasingToNativeEasing","calcBezier","a1","a2","subdivisionPrecision","subdivisionMaxIterations","cubicBezier","mX1","mY1","mX2","mY2","getTForX","aX","lowerBound","upperBound","currentX","currentT","binarySubdivide","isEasingArray","backInOut","mirror","easingLookup","circInOut","anticipate","easingDefinitionToFunction","x1","y1","x2","y2","hueToRgb","q","mixLinearColor","fromExpo","colorTypes","hex","rgba","hsla","asRGBA","color","find","model","hue","saturation","lightness","alpha","red","green","blue","hslaToRgba","mixColor","fromRGBA","toRGBA","blended","mixImmediate","getMixer","mixComplex","mixArray","numValues","blendValue","fromThis","mixObject","originStats","targetStats","numVars","numColors","numNumbers","mixNumber","createMixers","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","input","isClamp","inputLength","interpolator","progressInRange","defaultOffset","arr","remaining","offsetProgress","fillOffset","keyframeValues","times","easingFunctions","done","absoluteTimes","o","convertOffsetToTimes","mapTimeToKeyframe","calculatedDuration","velocitySampleDuration","calcGeneratorVelocity","resolveValue","prevT","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","exp","f","initialGuess","rootIterations","approximateRoot","stiffness","damping","durationKeys","physicsKeys","isSpringType","spring","isResolvedFromDuration","springOptions","derived","getSpringOptions","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","resolveSpring","angularFreq","sin","cos","dampedAngularFreq","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","power","modifyTarget","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","frameloopDriver","passTimestamp","maxGeneratorDuration","calcGeneratorDuration","generator","types","decay","tween","animateValue","autoplay","driver","keyframes$1","repeat","repeatDelay","repeatType","onStop","resolveFinishedPromise","currentFinishedPromise","speed","hasStopped","updateFinishedPromise","animationDriver","generatorFactory","mapNumbersToKeyframes","mirroredGenerator","playState","holdTime","startTime","cancelTime","resolvedDuration","totalDuration","currentTime","tick","timeWithoutDelay","isInDelayPhase","frameGenerator","currentIteration","iterationProgress","iterationIsOdd","isAnimationFinished","finish","stopAnimationDriver","play","reject","newTime","newSpeed","pause","complete","sample","supportsWaapi","memo","acceleratedValues","createAcceleratedAnimation","valueName","requiresPregeneratedKeyframes","sampleAnimation","pregeneratedKeyframes","keyframeOptions","fill","iterations","animateStyle","syncStart","timeline","cancelAnimation","safeCancel","onfinish","getFinalKeyframe","attachTimeline","playbackRate","setWithVelocity","underDampedSpring","keyframesTransition","valueKey","isAnimatable","isNone","animateMotionValue","valueTransition","isTargetAnimatable","defaultOrigin","animatableTemplateValue","noneKeyframeIndexes","getKeyframes","originKeyframe","targetKeyframe","isOriginAnimatable","setValue","createInstantAnimation","HTMLElement","acceleratedAnimation","optimizedAppearDataAttribute","shouldBlockAnimation","shouldBlock","animateTarget","animationTypeState","appearId","animateVariant","variant","getAnimation","getChildAnimations","forwardDelay","staggerDirection","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","animateChildren","when","first","last","animateVisualElement","resolvedDefinition","isKeyframesTarget","isTransitionDefined","_delay","getValueTransition","acos","mirrorEasing","reverseEasing","Queue","order","scheduled","stepsOrder","schedule","cancelFrame","steps","scheduleNextBatch","allowKeepAlive","runNextFrame","useDefaultElapsed","thisFrame","nextFrame","numToRun","flushNextFrame","toKeepAlive","WeakSet","step","keepAlive","immediate","addToCurrentFrame","queue","createRenderStep","processStep","stepId","processBatch","createRenderBatcher","camelToDash","str","checkStringStartsWith","isCSSVariableName","isCSSVariableToken","cssVariableRegex","getAnimatableNone","defaultValueType","defaultValueTypes","backgroundColor","outlineColor","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","dimensionValueTypes","vw","vh","findDimensionValueType","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","radius","maxWidth","maxHeight","padding","marginTop","marginRight","marginBottom","marginLeft","scaleZ","skew","skewX","skewY","translateZ","perspective","zIndex","fillOpacity","strokeOpacity","numOctaves","testValueType","transformPropOrder","transformProps","resolveVariant","getCurrent","resolveVariantFromProps","currentValues","valueTypes","findValueType","setMotionValue","setTarget","setVariants","variantLabels","setValues","checkTargetForNewValues","newValueKeys","numNewValues","targetValue","getOriginFromTransition","getOrigin","transitionOrigin","addUniqueItem","item","removeItem","warning","invariant","isNumericalString","isZeroValueString","any","combineFunctions","transformers","toFromDifference","isCustomValue","resolveFinalValueInKeyframes","SubscriptionManager","subscriptions","numSubscriptions","getSize","secondsToMilliseconds","seconds","millisecondsToSeconds","milliseconds","useConstant","init","useIsomorphicLayoutEffect","velocityPerSecond","frameDuration","collectMotionValues","MotionValue","version","lastUpdated","canTrackVelocity","updateAndNotify","scheduleVelocityCheck","change","velocityChange","renderRequest","velocityCheck","onChange","subscription","clearListeners","eventManagers","attach","passiveEffect","stopPassiveEffect","getPrevious","animationStart","animationComplete","clearAnimation","animationCancel","isAnimating","destroy","r","alpha$1","rgbUnit","clampRgbUnit","isColorString","testProp","splitColor","aName","bName","cName","maxDefaults","applyDefaultFilter","unit","functionRegex","functions","cssVarTokeniser","regex","countKey","colorTokeniser","numberTokeniser","tokenise","tokenised","analyseComplexValue","originalValue","parseComplexValue","convertNumbersToZero","transformer","createUnitType","endsWith","degrees","progressPercentage","sanitize","floatRegex","colorRegex","singleColorRegex","isString","isWillChangeMotionValue","isMotionValue","__defProp","__publicField","__defNormalProp","observerMap","RootIds","rootId","unsupportedValue","optionsToId","fallbackInView","bounds","intersectionRatio","boundingClientRect","intersectionRect","rootBounds","observer","elements","thresholds","trackVisibility","createObserver","callbacks","disconnect","skip","initialInView","setRef","entryTarget","previousEntryTarget"],"sourceRoot":""}